(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _s(r){const e=Object.create(null);for(const t of r.split(","))e[t]=1;return t=>t in e}const ut={},Bi=[],Yt=()=>{},sl=()=>!1,jr=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),ws=r=>r.startsWith("onUpdate:"),Tt=Object.assign,Es=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},al=Object.prototype.hasOwnProperty,et=(r,e)=>al.call(r,e),Me=Array.isArray,Ji=r=>Wr(r)==="[object Map]",ol=r=>Wr(r)==="[object Set]",qe=r=>typeof r=="function",_t=r=>typeof r=="string",ji=r=>typeof r=="symbol",vt=r=>r!==null&&typeof r=="object",Co=r=>(vt(r)||qe(r))&&qe(r.then)&&qe(r.catch),ul=Object.prototype.toString,Wr=r=>ul.call(r),ll=r=>Wr(r).slice(8,-1),fl=r=>Wr(r)==="[object Object]",xs=r=>_t(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Qi=_s(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hr=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},hl=/-(\w)/g,mi=Hr(r=>r.replace(hl,(e,t)=>t?t.toUpperCase():"")),cl=/\B([A-Z])/g,xi=Hr(r=>r.replace(cl,"-$1").toLowerCase()),So=Hr(r=>r.charAt(0).toUpperCase()+r.slice(1)),nn=Hr(r=>r?`on${So(r)}`:""),gi=(r,e)=>!Object.is(r,e),sn=(r,...e)=>{for(let t=0;t<r.length;t++)r[t](...e)},rs=(r,e,t,i=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:i,value:t})},dl=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let Qs;const Vr=()=>Qs||(Qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function As(r){if(Me(r)){const e={};for(let t=0;t<r.length;t++){const i=r[t],n=_t(i)?ml(i):As(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(_t(r)||vt(r))return r}const pl=/;(?![^(]*\))/g,gl=/:([^]+)/,vl=/\/\*[^]*?\*\//g;function ml(r){const e={};return r.replace(vl,"").split(pl).forEach(t=>{if(t){const i=t.split(gl);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ds(r){let e="";if(_t(r))e=r;else if(Me(r))for(let t=0;t<r.length;t++){const i=Ds(r[t]);i&&(e+=i+" ")}else if(vt(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const yl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bl=_s(yl);function To(r){return!!r||r===""}/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nt;class _l{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Nt,!e&&Nt&&(this.index=(Nt.scopes||(Nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Nt;try{return Nt=this,e()}finally{Nt=t}}}on(){++this._on===1&&(this.prevScope=Nt,Nt=this)}off(){this._on>0&&--this._on===0&&(Nt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function wl(){return Nt}let ot;const an=new WeakSet;class Ro{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Nt&&Nt.active&&Nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,an.has(this)&&(an.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ko(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ea(this),Io(this);const e=ot,t=Wt;ot=this,Wt=!0;try{return this.fn()}finally{Oo(this),ot=e,Wt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ts(e);this.deps=this.depsTail=void 0,ea(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?an.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ns(this)&&this.run()}get dirty(){return ns(this)}}let No=0,er,tr;function ko(r,e=!1){if(r.flags|=8,e){r.next=tr,tr=r;return}r.next=er,er=r}function Cs(){No++}function Ss(){if(--No>0)return;if(tr){let e=tr;for(tr=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let r;for(;er;){let e=er;for(er=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){r||(r=i)}e=t}}if(r)throw r}function Io(r){for(let e=r.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Oo(r){let e,t=r.depsTail,i=t;for(;i;){const n=i.prevDep;i.version===-1?(i===t&&(t=n),Ts(i),El(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}r.deps=e,r.depsTail=t}function ns(r){for(let e=r.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Lo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!r._dirty}function Lo(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===or)||(r.globalVersion=or,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!ns(r))))return;r.flags|=2;const e=r.dep,t=ot,i=Wt;ot=r,Wt=!0;try{Io(r);const n=r.fn(r._value);(e.version===0||gi(n,r._value))&&(r.flags|=128,r._value=n,e.version++)}catch(n){throw e.version++,n}finally{ot=t,Wt=i,Oo(r),r.flags&=-3}}function Ts(r,e=!1){const{dep:t,prevSub:i,nextSub:n}=r;if(i&&(i.nextSub=n,r.prevSub=void 0),n&&(n.prevSub=i,r.nextSub=void 0),t.subs===r&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)Ts(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function El(r){const{prevDep:e,nextDep:t}=r;e&&(e.nextDep=t,r.prevDep=void 0),t&&(t.prevDep=e,r.nextDep=void 0)}let Wt=!0;const Bo=[];function si(){Bo.push(Wt),Wt=!1}function ai(){const r=Bo.pop();Wt=r===void 0?!0:r}function ea(r){const{cleanup:e}=r;if(r.cleanup=void 0,e){const t=ot;ot=void 0;try{e()}finally{ot=t}}}let or=0;class xl{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Rs{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ot||!Wt||ot===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==ot)t=this.activeLink=new xl(ot,this),ot.deps?(t.prevDep=ot.depsTail,ot.depsTail.nextDep=t,ot.depsTail=t):ot.deps=ot.depsTail=t,Fo(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=ot.depsTail,t.nextDep=void 0,ot.depsTail.nextDep=t,ot.depsTail=t,ot.deps===t&&(ot.deps=i)}return t}trigger(e){this.version++,or++,this.notify(e)}notify(e){Cs();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Ss()}}}function Fo(r){if(r.dep.sc++,r.sub.flags&4){const e=r.dep.computed;if(e&&!r.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Fo(i)}const t=r.dep.subs;t!==r&&(r.prevSub=t,t&&(t.nextSub=r)),r.dep.subs=r}}const ss=new WeakMap,wi=Symbol(""),as=Symbol(""),ur=Symbol("");function Et(r,e,t){if(Wt&&ot){let i=ss.get(r);i||ss.set(r,i=new Map);let n=i.get(t);n||(i.set(t,n=new Rs),n.map=i,n.key=t),n.track()}}function ni(r,e,t,i,n,s){const a=ss.get(r);if(!a){or++;return}const o=u=>{u&&u.trigger()};if(Cs(),e==="clear")a.forEach(o);else{const u=Me(r),h=u&&xs(t);if(u&&t==="length"){const c=Number(i);a.forEach((d,b)=>{(b==="length"||b===ur||!ji(b)&&b>=c)&&o(d)})}else switch((t!==void 0||a.has(void 0))&&o(a.get(t)),h&&o(a.get(ur)),e){case"add":u?h&&o(a.get("length")):(o(a.get(wi)),Ji(r)&&o(a.get(as)));break;case"delete":u||(o(a.get(wi)),Ji(r)&&o(a.get(as)));break;case"set":Ji(r)&&o(a.get(wi));break}}Ss()}function Ci(r){const e=Qe(r);return e===r?e:(Et(e,"iterate",ur),Ht(r)?e:e.map(Dt))}function Ns(r){return Et(r=Qe(r),"iterate",ur),r}const Al={__proto__:null,[Symbol.iterator](){return on(this,Symbol.iterator,Dt)},concat(...r){return Ci(this).concat(...r.map(e=>Me(e)?Ci(e):e))},entries(){return on(this,"entries",r=>(r[1]=Dt(r[1]),r))},every(r,e){return ei(this,"every",r,e,void 0,arguments)},filter(r,e){return ei(this,"filter",r,e,t=>t.map(Dt),arguments)},find(r,e){return ei(this,"find",r,e,Dt,arguments)},findIndex(r,e){return ei(this,"findIndex",r,e,void 0,arguments)},findLast(r,e){return ei(this,"findLast",r,e,Dt,arguments)},findLastIndex(r,e){return ei(this,"findLastIndex",r,e,void 0,arguments)},forEach(r,e){return ei(this,"forEach",r,e,void 0,arguments)},includes(...r){return un(this,"includes",r)},indexOf(...r){return un(this,"indexOf",r)},join(r){return Ci(this).join(r)},lastIndexOf(...r){return un(this,"lastIndexOf",r)},map(r,e){return ei(this,"map",r,e,void 0,arguments)},pop(){return Gi(this,"pop")},push(...r){return Gi(this,"push",r)},reduce(r,...e){return ta(this,"reduce",r,e)},reduceRight(r,...e){return ta(this,"reduceRight",r,e)},shift(){return Gi(this,"shift")},some(r,e){return ei(this,"some",r,e,void 0,arguments)},splice(...r){return Gi(this,"splice",r)},toReversed(){return Ci(this).toReversed()},toSorted(r){return Ci(this).toSorted(r)},toSpliced(...r){return Ci(this).toSpliced(...r)},unshift(...r){return Gi(this,"unshift",r)},values(){return on(this,"values",Dt)}};function on(r,e,t){const i=Ns(r),n=i[e]();return i!==r&&!Ht(r)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=t(s.value)),s}),n}const Dl=Array.prototype;function ei(r,e,t,i,n,s){const a=Ns(r),o=a!==r&&!Ht(r),u=a[e];if(u!==Dl[e]){const d=u.apply(r,s);return o?Dt(d):d}let h=t;a!==r&&(o?h=function(d,b){return t.call(this,Dt(d),b,r)}:t.length>2&&(h=function(d,b){return t.call(this,d,b,r)}));const c=u.call(a,h,i);return o&&n?n(c):c}function ta(r,e,t,i){const n=Ns(r);let s=t;return n!==r&&(Ht(r)?t.length>3&&(s=function(a,o,u){return t.call(this,a,o,u,r)}):s=function(a,o,u){return t.call(this,a,Dt(o),u,r)}),n[e](s,...i)}function un(r,e,t){const i=Qe(r);Et(i,"iterate",ur);const n=i[e](...t);return(n===-1||n===!1)&&Ls(t[0])?(t[0]=Qe(t[0]),i[e](...t)):n}function Gi(r,e,t=[]){si(),Cs();const i=Qe(r)[e].apply(r,t);return Ss(),ai(),i}const Cl=_s("__proto__,__v_isRef,__isVue"),Po=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(ji));function Sl(r){ji(r)||(r=String(r));const e=Qe(this);return Et(e,"has",r),e.hasOwnProperty(r)}class zo{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const n=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return s;if(t==="__v_raw")return i===(n?s?Pl:jo:s?qo:Uo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=Me(e);if(!n){let u;if(a&&(u=Al[t]))return u;if(t==="hasOwnProperty")return Sl}const o=Reflect.get(e,t,xt(e)?e:i);return(ji(t)?Po.has(t):Cl(t))||(n||Et(e,"get",t),s)?o:xt(o)?a&&xs(t)?o:o.value:vt(o)?n?Wo(o):Is(o):o}}class Mo extends zo{constructor(e=!1){super(!1,e)}set(e,t,i,n){let s=e[t];if(!this._isShallow){const u=Ei(s);if(!Ht(i)&&!Ei(i)&&(s=Qe(s),i=Qe(i)),!Me(e)&&xt(s)&&!xt(i))return u?!1:(s.value=i,!0)}const a=Me(e)&&xs(t)?Number(t)<e.length:et(e,t),o=Reflect.set(e,t,i,xt(e)?e:n);return e===Qe(n)&&(a?gi(i,s)&&ni(e,"set",t,i):ni(e,"add",t,i)),o}deleteProperty(e,t){const i=et(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&ni(e,"delete",t,void 0),n}has(e,t){const i=Reflect.has(e,t);return(!ji(t)||!Po.has(t))&&Et(e,"has",t),i}ownKeys(e){return Et(e,"iterate",Me(e)?"length":wi),Reflect.ownKeys(e)}}class Tl extends zo{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Rl=new Mo,Nl=new Tl,kl=new Mo(!0);const os=r=>r,yr=r=>Reflect.getPrototypeOf(r);function Il(r,e,t){return function(...i){const n=this.__v_raw,s=Qe(n),a=Ji(s),o=r==="entries"||r===Symbol.iterator&&a,u=r==="keys"&&a,h=n[r](...i),c=t?os:e?us:Dt;return!e&&Et(s,"iterate",u?as:wi),{next(){const{value:d,done:b}=h.next();return b?{value:d,done:b}:{value:o?[c(d[0]),c(d[1])]:c(d),done:b}},[Symbol.iterator](){return this}}}}function br(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function Ol(r,e){const t={get(n){const s=this.__v_raw,a=Qe(s),o=Qe(n);r||(gi(n,o)&&Et(a,"get",n),Et(a,"get",o));const{has:u}=yr(a),h=e?os:r?us:Dt;if(u.call(a,n))return h(s.get(n));if(u.call(a,o))return h(s.get(o));s!==a&&s.get(n)},get size(){const n=this.__v_raw;return!r&&Et(Qe(n),"iterate",wi),Reflect.get(n,"size",n)},has(n){const s=this.__v_raw,a=Qe(s),o=Qe(n);return r||(gi(n,o)&&Et(a,"has",n),Et(a,"has",o)),n===o?s.has(n):s.has(n)||s.has(o)},forEach(n,s){const a=this,o=a.__v_raw,u=Qe(o),h=e?os:r?us:Dt;return!r&&Et(u,"iterate",wi),o.forEach((c,d)=>n.call(s,h(c),h(d),a))}};return Tt(t,r?{add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear")}:{add(n){!e&&!Ht(n)&&!Ei(n)&&(n=Qe(n));const s=Qe(this);return yr(s).has.call(s,n)||(s.add(n),ni(s,"add",n,n)),this},set(n,s){!e&&!Ht(s)&&!Ei(s)&&(s=Qe(s));const a=Qe(this),{has:o,get:u}=yr(a);let h=o.call(a,n);h||(n=Qe(n),h=o.call(a,n));const c=u.call(a,n);return a.set(n,s),h?gi(s,c)&&ni(a,"set",n,s):ni(a,"add",n,s),this},delete(n){const s=Qe(this),{has:a,get:o}=yr(s);let u=a.call(s,n);u||(n=Qe(n),u=a.call(s,n)),o&&o.call(s,n);const h=s.delete(n);return u&&ni(s,"delete",n,void 0),h},clear(){const n=Qe(this),s=n.size!==0,a=n.clear();return s&&ni(n,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=Il(n,r,e)}),t}function ks(r,e){const t=Ol(r,e);return(i,n,s)=>n==="__v_isReactive"?!r:n==="__v_isReadonly"?r:n==="__v_raw"?i:Reflect.get(et(t,n)&&n in i?t:i,n,s)}const Ll={get:ks(!1,!1)},Bl={get:ks(!1,!0)},Fl={get:ks(!0,!1)};const Uo=new WeakMap,qo=new WeakMap,jo=new WeakMap,Pl=new WeakMap;function zl(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ml(r){return r.__v_skip||!Object.isExtensible(r)?0:zl(ll(r))}function Is(r){return Ei(r)?r:Os(r,!1,Rl,Ll,Uo)}function Ul(r){return Os(r,!1,kl,Bl,qo)}function Wo(r){return Os(r,!0,Nl,Fl,jo)}function Os(r,e,t,i,n){if(!vt(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const s=Ml(r);if(s===0)return r;const a=n.get(r);if(a)return a;const o=new Proxy(r,s===2?i:t);return n.set(r,o),o}function ir(r){return Ei(r)?ir(r.__v_raw):!!(r&&r.__v_isReactive)}function Ei(r){return!!(r&&r.__v_isReadonly)}function Ht(r){return!!(r&&r.__v_isShallow)}function Ls(r){return r?!!r.__v_raw:!1}function Qe(r){const e=r&&r.__v_raw;return e?Qe(e):r}function ql(r){return!et(r,"__v_skip")&&Object.isExtensible(r)&&rs(r,"__v_skip",!0),r}const Dt=r=>vt(r)?Is(r):r,us=r=>vt(r)?Wo(r):r;function xt(r){return r?r.__v_isRef===!0:!1}function jl(r){return Wl(r,!1)}function Wl(r,e){return xt(r)?r:new Hl(r,e)}class Hl{constructor(e,t){this.dep=new Rs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Qe(e),this._value=t?e:Dt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||Ht(e)||Ei(e);e=i?e:Qe(e),gi(e,t)&&(this._rawValue=e,this._value=i?e:Dt(e),this.dep.trigger())}}function Vl(r){return xt(r)?r.value:r}const Gl={get:(r,e,t)=>e==="__v_raw"?r:Vl(Reflect.get(r,e,t)),set:(r,e,t,i)=>{const n=r[e];return xt(n)&&!xt(t)?(n.value=t,!0):Reflect.set(r,e,t,i)}};function Ho(r){return ir(r)?r:new Proxy(r,Gl)}class Zl{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Rs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=or-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ot!==this)return ko(this,!0),!0}get value(){const e=this.dep.track();return Lo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function $l(r,e,t=!1){let i,n;return qe(r)?i=r:(i=r.get,n=r.set),new Zl(i,n,t)}const _r={},Rr=new WeakMap;let _i;function Yl(r,e=!1,t=_i){if(t){let i=Rr.get(t);i||Rr.set(t,i=[]),i.push(r)}}function Xl(r,e,t=ut){const{immediate:i,deep:n,once:s,scheduler:a,augmentJob:o,call:u}=t,h=T=>n?T:Ht(T)||n===!1||n===0?ci(T,1):ci(T);let c,d,b,v,N=!1,E=!1;if(xt(r)?(d=()=>r.value,N=Ht(r)):ir(r)?(d=()=>h(r),N=!0):Me(r)?(E=!0,N=r.some(T=>ir(T)||Ht(T)),d=()=>r.map(T=>{if(xt(T))return T.value;if(ir(T))return h(T);if(qe(T))return u?u(T,2):T()})):qe(r)?e?d=u?()=>u(r,2):r:d=()=>{if(b){si();try{b()}finally{ai()}}const T=_i;_i=c;try{return u?u(r,3,[v]):r(v)}finally{_i=T}}:d=Yt,e&&n){const T=d,_=n===!0?1/0:n;d=()=>ci(T(),_)}const p=wl(),g=()=>{c.stop(),p&&p.active&&Es(p.effects,c)};if(s&&e){const T=e;e=(..._)=>{T(..._),g()}}let m=E?new Array(r.length).fill(_r):_r;const x=T=>{if(!(!(c.flags&1)||!c.dirty&&!T))if(e){const _=c.run();if(n||N||(E?_.some((C,I)=>gi(C,m[I])):gi(_,m))){b&&b();const C=_i;_i=c;try{const I=[_,m===_r?void 0:E&&m[0]===_r?[]:m,v];m=_,u?u(e,3,I):e(...I)}finally{_i=C}}}else c.run()};return o&&o(x),c=new Ro(d),c.scheduler=a?()=>a(x,!1):x,v=T=>Yl(T,!1,c),b=c.onStop=()=>{const T=Rr.get(c);if(T){if(u)u(T,4);else for(const _ of T)_();Rr.delete(c)}},e?i?x(!0):m=c.run():a?a(x.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function ci(r,e=1/0,t){if(e<=0||!vt(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),e--,xt(r))ci(r.value,e,t);else if(Me(r))for(let i=0;i<r.length;i++)ci(r[i],e,t);else if(ol(r)||Ji(r))r.forEach(i=>{ci(i,e,t)});else if(fl(r)){for(const i in r)ci(r[i],e,t);for(const i of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,i)&&ci(r[i],e,t)}return r}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pr(r,e,t,i){try{return i?r(...i):r()}catch(n){Gr(n,e,t)}}function Kt(r,e,t,i){if(qe(r)){const n=pr(r,e,t,i);return n&&Co(n)&&n.catch(s=>{Gr(s,e,t)}),n}if(Me(r)){const n=[];for(let s=0;s<r.length;s++)n.push(Kt(r[s],e,t,i));return n}}function Gr(r,e,t,i=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||ut;if(e){let o=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](r,u,h)===!1)return}o=o.parent}if(s){si(),pr(s,null,10,[r,u,h]),ai();return}}Kl(r,t,n,i,a)}function Kl(r,e,t,i=!0,n=!1){if(n)throw r;console.error(r)}const Ct=[];let Gt=-1;const Fi=[];let fi=null,ki=0;const Vo=Promise.resolve();let Nr=null;function Jl(r){const e=Nr||Vo;return r?e.then(this?r.bind(this):r):e}function Ql(r){let e=Gt+1,t=Ct.length;for(;e<t;){const i=e+t>>>1,n=Ct[i],s=lr(n);s<r||s===r&&n.flags&2?e=i+1:t=i}return e}function Bs(r){if(!(r.flags&1)){const e=lr(r),t=Ct[Ct.length-1];!t||!(r.flags&2)&&e>=lr(t)?Ct.push(r):Ct.splice(Ql(e),0,r),r.flags|=1,Go()}}function Go(){Nr||(Nr=Vo.then($o))}function ef(r){Me(r)?Fi.push(...r):fi&&r.id===-1?fi.splice(ki+1,0,r):r.flags&1||(Fi.push(r),r.flags|=1),Go()}function ia(r,e,t=Gt+1){for(;t<Ct.length;t++){const i=Ct[t];if(i&&i.flags&2){if(r&&i.id!==r.uid)continue;Ct.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Zo(r){if(Fi.length){const e=[...new Set(Fi)].sort((t,i)=>lr(t)-lr(i));if(Fi.length=0,fi){fi.push(...e);return}for(fi=e,ki=0;ki<fi.length;ki++){const t=fi[ki];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}fi=null,ki=0}}const lr=r=>r.id==null?r.flags&2?-1:1/0:r.id;function $o(r){try{for(Gt=0;Gt<Ct.length;Gt++){const e=Ct[Gt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),pr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Gt<Ct.length;Gt++){const e=Ct[Gt];e&&(e.flags&=-2)}Gt=-1,Ct.length=0,Zo(),Nr=null,(Ct.length||Fi.length)&&$o()}}let $t=null,Yo=null;function kr(r){const e=$t;return $t=r,Yo=r&&r.type.__scopeId||null,e}function tf(r,e=$t,t){if(!e||r._n)return r;const i=(...n)=>{i._d&&ha(-1);const s=kr(e);let a;try{a=r(...n)}finally{kr(s),i._d&&ha(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function yi(r,e,t,i){const n=r.dirs,s=e&&e.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let u=o.dir[i];u&&(si(),Kt(u,t,8,[r.el,o,r,e]),ai())}}const rf=Symbol("_vte"),nf=r=>r.__isTeleport;function Fs(r,e){r.shapeFlag&6&&r.component?(r.transition=e,Fs(r.component.subTree,e)):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function Xo(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}function rr(r,e,t,i,n=!1){if(Me(r)){r.forEach((N,E)=>rr(N,e&&(Me(e)?e[E]:e),t,i,n));return}if(nr(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&rr(r,e,t,i.component.subTree);return}const s=i.shapeFlag&4?Us(i.component):i.el,a=n?null:s,{i:o,r:u}=r,h=e&&e.r,c=o.refs===ut?o.refs={}:o.refs,d=o.setupState,b=Qe(d),v=d===ut?()=>!1:N=>et(b,N);if(h!=null&&h!==u&&(_t(h)?(c[h]=null,v(h)&&(d[h]=null)):xt(h)&&(h.value=null)),qe(u))pr(u,o,12,[a,c]);else{const N=_t(u),E=xt(u);if(N||E){const p=()=>{if(r.f){const g=N?v(u)?d[u]:c[u]:u.value;n?Me(g)&&Es(g,s):Me(g)?g.includes(s)||g.push(s):N?(c[u]=[s],v(u)&&(d[u]=c[u])):(u.value=[s],r.k&&(c[r.k]=u.value))}else N?(c[u]=a,v(u)&&(d[u]=a)):E&&(u.value=a,r.k&&(c[r.k]=a))};a?(p.id=-1,It(p,t)):p()}}}Vr().requestIdleCallback;Vr().cancelIdleCallback;const nr=r=>!!r.type.__asyncLoader,Ko=r=>r.type.__isKeepAlive;function sf(r,e){Jo(r,"a",e)}function af(r,e){Jo(r,"da",e)}function Jo(r,e,t=St){const i=r.__wdc||(r.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return r()});if(Zr(e,i,t),t){let n=t.parent;for(;n&&n.parent;)Ko(n.parent.vnode)&&of(i,e,t,n),n=n.parent}}function of(r,e,t,i){const n=Zr(e,r,i,!0);eu(()=>{Es(i[e],n)},t)}function Zr(r,e,t=St,i=!1){if(t){const n=t[r]||(t[r]=[]),s=e.__weh||(e.__weh=(...a)=>{si();const o=gr(t),u=Kt(e,t,r,a);return o(),ai(),u});return i?n.unshift(s):n.push(s),s}}const li=r=>(e,t=St)=>{(!hr||r==="sp")&&Zr(r,(...i)=>e(...i),t)},uf=li("bm"),Qo=li("m"),lf=li("bu"),ff=li("u"),hf=li("bum"),eu=li("um"),cf=li("sp"),df=li("rtg"),pf=li("rtc");function gf(r,e=St){Zr("ec",r,e)}const vf=Symbol.for("v-ndc"),ls=r=>r?xu(r)?Us(r):ls(r.parent):null,sr=Tt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>ls(r.parent),$root:r=>ls(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>iu(r),$forceUpdate:r=>r.f||(r.f=()=>{Bs(r.update)}),$nextTick:r=>r.n||(r.n=Jl.bind(r.proxy)),$watch:r=>zf.bind(r)}),ln=(r,e)=>r!==ut&&!r.__isScriptSetup&&et(r,e),mf={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:n,props:s,accessCache:a,type:o,appContext:u}=r;let h;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return i[e];case 2:return n[e];case 4:return t[e];case 3:return s[e]}else{if(ln(i,e))return a[e]=1,i[e];if(n!==ut&&et(n,e))return a[e]=2,n[e];if((h=r.propsOptions[0])&&et(h,e))return a[e]=3,s[e];if(t!==ut&&et(t,e))return a[e]=4,t[e];fs&&(a[e]=0)}}const c=sr[e];let d,b;if(c)return e==="$attrs"&&Et(r.attrs,"get",""),c(r);if((d=o.__cssModules)&&(d=d[e]))return d;if(t!==ut&&et(t,e))return a[e]=4,t[e];if(b=u.config.globalProperties,et(b,e))return b[e]},set({_:r},e,t){const{data:i,setupState:n,ctx:s}=r;return ln(n,e)?(n[e]=t,!0):i!==ut&&et(i,e)?(i[e]=t,!0):et(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(s[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:i,appContext:n,propsOptions:s}},a){let o;return!!t[a]||r!==ut&&et(r,a)||ln(e,a)||(o=s[0])&&et(o,a)||et(i,a)||et(sr,a)||et(n.config.globalProperties,a)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:et(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};function ra(r){return Me(r)?r.reduce((e,t)=>(e[t]=null,e),{}):r}let fs=!0;function yf(r){const e=iu(r),t=r.proxy,i=r.ctx;fs=!1,e.beforeCreate&&na(e.beforeCreate,r,"bc");const{data:n,computed:s,methods:a,watch:o,provide:u,inject:h,created:c,beforeMount:d,mounted:b,beforeUpdate:v,updated:N,activated:E,deactivated:p,beforeDestroy:g,beforeUnmount:m,destroyed:x,unmounted:T,render:_,renderTracked:C,renderTriggered:I,errorCaptured:L,serverPrefetch:k,expose:B,inheritAttrs:$,components:H,directives:Y,filters:ce}=e;if(h&&bf(h,i,null),a)for(const re in a){const Q=a[re];qe(Q)&&(i[re]=Q.bind(t))}if(n){const re=n.call(t,t);vt(re)&&(r.data=Is(re))}if(fs=!0,s)for(const re in s){const Q=s[re],ye=qe(Q)?Q.bind(t,t):qe(Q.get)?Q.get.bind(t,t):Yt,ke=!qe(Q)&&qe(Q.set)?Q.set.bind(t):Yt,pe=ah({get:ye,set:ke});Object.defineProperty(i,re,{enumerable:!0,configurable:!0,get:()=>pe.value,set:we=>pe.value=we})}if(o)for(const re in o)tu(o[re],i,t,re);if(u){const re=qe(u)?u.call(t):u;Reflect.ownKeys(re).forEach(Q=>{Df(Q,re[Q])})}c&&na(c,r,"c");function me(re,Q){Me(Q)?Q.forEach(ye=>re(ye.bind(t))):Q&&re(Q.bind(t))}if(me(uf,d),me(Qo,b),me(lf,v),me(ff,N),me(sf,E),me(af,p),me(gf,L),me(pf,C),me(df,I),me(hf,m),me(eu,T),me(cf,k),Me(B))if(B.length){const re=r.exposed||(r.exposed={});B.forEach(Q=>{Object.defineProperty(re,Q,{get:()=>t[Q],set:ye=>t[Q]=ye})})}else r.exposed||(r.exposed={});_&&r.render===Yt&&(r.render=_),$!=null&&(r.inheritAttrs=$),H&&(r.components=H),Y&&(r.directives=Y),k&&Xo(r)}function bf(r,e,t=Yt){Me(r)&&(r=hs(r));for(const i in r){const n=r[i];let s;vt(n)?"default"in n?s=Ar(n.from||i,n.default,!0):s=Ar(n.from||i):s=Ar(n),xt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function na(r,e,t){Kt(Me(r)?r.map(i=>i.bind(e.proxy)):r.bind(e.proxy),e,t)}function tu(r,e,t,i){let n=i.includes(".")?gu(t,i):()=>t[i];if(_t(r)){const s=e[r];qe(s)&&hn(n,s)}else if(qe(r))hn(n,r.bind(t));else if(vt(r))if(Me(r))r.forEach(s=>tu(s,e,t,i));else{const s=qe(r.handler)?r.handler.bind(t):e[r.handler];qe(s)&&hn(n,s,r)}}function iu(r){const e=r.type,{mixins:t,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=r.appContext,o=s.get(e);let u;return o?u=o:!n.length&&!t&&!i?u=e:(u={},n.length&&n.forEach(h=>Ir(u,h,a,!0)),Ir(u,e,a)),vt(e)&&s.set(e,u),u}function Ir(r,e,t,i=!1){const{mixins:n,extends:s}=e;s&&Ir(r,s,t,!0),n&&n.forEach(a=>Ir(r,a,t,!0));for(const a in e)if(!(i&&a==="expose")){const o=_f[a]||t&&t[a];r[a]=o?o(r[a],e[a]):e[a]}return r}const _f={data:sa,props:aa,emits:aa,methods:Ki,computed:Ki,beforeCreate:At,created:At,beforeMount:At,mounted:At,beforeUpdate:At,updated:At,beforeDestroy:At,beforeUnmount:At,destroyed:At,unmounted:At,activated:At,deactivated:At,errorCaptured:At,serverPrefetch:At,components:Ki,directives:Ki,watch:Ef,provide:sa,inject:wf};function sa(r,e){return e?r?function(){return Tt(qe(r)?r.call(this,this):r,qe(e)?e.call(this,this):e)}:e:r}function wf(r,e){return Ki(hs(r),hs(e))}function hs(r){if(Me(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function At(r,e){return r?[...new Set([].concat(r,e))]:e}function Ki(r,e){return r?Tt(Object.create(null),r,e):e}function aa(r,e){return r?Me(r)&&Me(e)?[...new Set([...r,...e])]:Tt(Object.create(null),ra(r),ra(e??{})):e}function Ef(r,e){if(!r)return e;if(!e)return r;const t=Tt(Object.create(null),r);for(const i in e)t[i]=At(r[i],e[i]);return t}function ru(){return{app:null,config:{isNativeTag:sl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xf=0;function Af(r,e){return function(i,n=null){qe(i)||(i=Tt({},i)),n!=null&&!vt(n)&&(n=null);const s=ru(),a=new WeakSet,o=[];let u=!1;const h=s.app={_uid:xf++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:oh,get config(){return s.config},set config(c){},use(c,...d){return a.has(c)||(c&&qe(c.install)?(a.add(c),c.install(h,...d)):qe(c)&&(a.add(c),c(h,...d))),h},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),h},component(c,d){return d?(s.components[c]=d,h):s.components[c]},directive(c,d){return d?(s.directives[c]=d,h):s.directives[c]},mount(c,d,b){if(!u){const v=h._ceVNode||vi(i,n);return v.appContext=s,b===!0?b="svg":b===!1&&(b=void 0),r(v,c,b),u=!0,h._container=c,c.__vue_app__=h,Us(v.component)}},onUnmount(c){o.push(c)},unmount(){u&&(Kt(o,h._instance,16),r(null,h._container),delete h._container.__vue_app__)},provide(c,d){return s.provides[c]=d,h},runWithContext(c){const d=Pi;Pi=h;try{return c()}finally{Pi=d}}};return h}}let Pi=null;function Df(r,e){if(St){let t=St.provides;const i=St.parent&&St.parent.provides;i===t&&(t=St.provides=Object.create(i)),t[r]=e}}function Ar(r,e,t=!1){const i=St||$t;if(i||Pi){let n=Pi?Pi._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&r in n)return n[r];if(arguments.length>1)return t&&qe(e)?e.call(i&&i.proxy):e}}const nu={},su=()=>Object.create(nu),au=r=>Object.getPrototypeOf(r)===nu;function Cf(r,e,t,i=!1){const n={},s=su();r.propsDefaults=Object.create(null),ou(r,e,n,s);for(const a in r.propsOptions[0])a in n||(n[a]=void 0);t?r.props=i?n:Ul(n):r.type.props?r.props=n:r.props=s,r.attrs=s}function Sf(r,e,t,i){const{props:n,attrs:s,vnode:{patchFlag:a}}=r,o=Qe(n),[u]=r.propsOptions;let h=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=r.vnode.dynamicProps;for(let d=0;d<c.length;d++){let b=c[d];if($r(r.emitsOptions,b))continue;const v=e[b];if(u)if(et(s,b))v!==s[b]&&(s[b]=v,h=!0);else{const N=mi(b);n[N]=cs(u,o,N,v,r,!1)}else v!==s[b]&&(s[b]=v,h=!0)}}}else{ou(r,e,n,s)&&(h=!0);let c;for(const d in o)(!e||!et(e,d)&&((c=xi(d))===d||!et(e,c)))&&(u?t&&(t[d]!==void 0||t[c]!==void 0)&&(n[d]=cs(u,o,d,void 0,r,!0)):delete n[d]);if(s!==o)for(const d in s)(!e||!et(e,d))&&(delete s[d],h=!0)}h&&ni(r.attrs,"set","")}function ou(r,e,t,i){const[n,s]=r.propsOptions;let a=!1,o;if(e)for(let u in e){if(Qi(u))continue;const h=e[u];let c;n&&et(n,c=mi(u))?!s||!s.includes(c)?t[c]=h:(o||(o={}))[c]=h:$r(r.emitsOptions,u)||(!(u in i)||h!==i[u])&&(i[u]=h,a=!0)}if(s){const u=Qe(t),h=o||ut;for(let c=0;c<s.length;c++){const d=s[c];t[d]=cs(n,u,d,h[d],r,!et(h,d))}}return a}function cs(r,e,t,i,n,s){const a=r[t];if(a!=null){const o=et(a,"default");if(o&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&qe(u)){const{propsDefaults:h}=n;if(t in h)i=h[t];else{const c=gr(n);i=h[t]=u.call(null,e),c()}}else i=u;n.ce&&n.ce._setProp(t,i)}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===xi(t))&&(i=!0))}return i}const Tf=new WeakMap;function uu(r,e,t=!1){const i=t?Tf:e.propsCache,n=i.get(r);if(n)return n;const s=r.props,a={},o=[];let u=!1;if(!qe(r)){const c=d=>{u=!0;const[b,v]=uu(d,e,!0);Tt(a,b),v&&o.push(...v)};!t&&e.mixins.length&&e.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}if(!s&&!u)return vt(r)&&i.set(r,Bi),Bi;if(Me(s))for(let c=0;c<s.length;c++){const d=mi(s[c]);oa(d)&&(a[d]=ut)}else if(s)for(const c in s){const d=mi(c);if(oa(d)){const b=s[c],v=a[d]=Me(b)||qe(b)?{type:b}:Tt({},b),N=v.type;let E=!1,p=!0;if(Me(N))for(let g=0;g<N.length;++g){const m=N[g],x=qe(m)&&m.name;if(x==="Boolean"){E=!0;break}else x==="String"&&(p=!1)}else E=qe(N)&&N.name==="Boolean";v[0]=E,v[1]=p,(E||et(v,"default"))&&o.push(d)}}const h=[a,o];return vt(r)&&i.set(r,h),h}function oa(r){return r[0]!=="$"&&!Qi(r)}const Ps=r=>r[0]==="_"||r==="$stable",zs=r=>Me(r)?r.map(Zt):[Zt(r)],Rf=(r,e,t)=>{if(e._n)return e;const i=tf((...n)=>zs(e(...n)),t);return i._c=!1,i},lu=(r,e,t)=>{const i=r._ctx;for(const n in r){if(Ps(n))continue;const s=r[n];if(qe(s))e[n]=Rf(n,s,i);else if(s!=null){const a=zs(s);e[n]=()=>a}}},fu=(r,e)=>{const t=zs(e);r.slots.default=()=>t},hu=(r,e,t)=>{for(const i in e)(t||!Ps(i))&&(r[i]=e[i])},Nf=(r,e,t)=>{const i=r.slots=su();if(r.vnode.shapeFlag&32){const n=e.__;n&&rs(i,"__",n,!0);const s=e._;s?(hu(i,e,t),t&&rs(i,"_",s,!0)):lu(e,i)}else e&&fu(r,e)},kf=(r,e,t)=>{const{vnode:i,slots:n}=r;let s=!0,a=ut;if(i.shapeFlag&32){const o=e._;o?t&&o===1?s=!1:hu(n,e,t):(s=!e.$stable,lu(e,n)),a=e}else e&&(fu(r,e),a={default:1});if(s)for(const o in n)!Ps(o)&&a[o]==null&&delete n[o]},It=Vf;function If(r){return Of(r)}function Of(r,e){const t=Vr();t.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:a,createText:o,createComment:u,setText:h,setElementText:c,parentNode:d,nextSibling:b,setScopeId:v=Yt,insertStaticContent:N}=r,E=(O,F,G,te=null,J=null,K=null,le=void 0,oe=null,ae=!!F.dynamicChildren)=>{if(O===F)return;O&&!Zi(O,F)&&(te=We(O),we(O,J,K,!0),O=null),F.patchFlag===-2&&(ae=!1,F.dynamicChildren=null);const{type:X,ref:fe,shapeFlag:ie}=F;switch(X){case Yr:p(O,F,G,te);break;case Mi:g(O,F,G,te);break;case cn:O==null&&m(F,G,te,le);break;case ri:H(O,F,G,te,J,K,le,oe,ae);break;default:ie&1?_(O,F,G,te,J,K,le,oe,ae):ie&6?Y(O,F,G,te,J,K,le,oe,ae):(ie&64||ie&128)&&X.process(O,F,G,te,J,K,le,oe,ae,Ye)}fe!=null&&J?rr(fe,O&&O.ref,K,F||O,!F):fe==null&&O&&O.ref!=null&&rr(O.ref,null,K,O,!0)},p=(O,F,G,te)=>{if(O==null)i(F.el=o(F.children),G,te);else{const J=F.el=O.el;F.children!==O.children&&h(J,F.children)}},g=(O,F,G,te)=>{O==null?i(F.el=u(F.children||""),G,te):F.el=O.el},m=(O,F,G,te)=>{[O.el,O.anchor]=N(O.children,F,G,te,O.el,O.anchor)},x=({el:O,anchor:F},G,te)=>{let J;for(;O&&O!==F;)J=b(O),i(O,G,te),O=J;i(F,G,te)},T=({el:O,anchor:F})=>{let G;for(;O&&O!==F;)G=b(O),n(O),O=G;n(F)},_=(O,F,G,te,J,K,le,oe,ae)=>{F.type==="svg"?le="svg":F.type==="math"&&(le="mathml"),O==null?C(F,G,te,J,K,le,oe,ae):k(O,F,J,K,le,oe,ae)},C=(O,F,G,te,J,K,le,oe)=>{let ae,X;const{props:fe,shapeFlag:ie,transition:Ae,dirs:Te}=O;if(ae=O.el=a(O.type,K,fe&&fe.is,fe),ie&8?c(ae,O.children):ie&16&&L(O.children,ae,null,te,J,fn(O,K),le,oe),Te&&yi(O,null,te,"created"),I(ae,O,O.scopeId,le,te),fe){for(const Oe in fe)Oe!=="value"&&!Qi(Oe)&&s(ae,Oe,null,fe[Oe],K,te);"value"in fe&&s(ae,"value",null,fe.value,K),(X=fe.onVnodeBeforeMount)&&Vt(X,te,O)}Te&&yi(O,null,te,"beforeMount");const Ie=Lf(J,Ae);Ie&&Ae.beforeEnter(ae),i(ae,F,G),((X=fe&&fe.onVnodeMounted)||Ie||Te)&&It(()=>{X&&Vt(X,te,O),Ie&&Ae.enter(ae),Te&&yi(O,null,te,"mounted")},J)},I=(O,F,G,te,J)=>{if(G&&v(O,G),te)for(let K=0;K<te.length;K++)v(O,te[K]);if(J){let K=J.subTree;if(F===K||mu(K.type)&&(K.ssContent===F||K.ssFallback===F)){const le=J.vnode;I(O,le,le.scopeId,le.slotScopeIds,J.parent)}}},L=(O,F,G,te,J,K,le,oe,ae=0)=>{for(let X=ae;X<O.length;X++){const fe=O[X]=oe?hi(O[X]):Zt(O[X]);E(null,fe,F,G,te,J,K,le,oe)}},k=(O,F,G,te,J,K,le)=>{const oe=F.el=O.el;let{patchFlag:ae,dynamicChildren:X,dirs:fe}=F;ae|=O.patchFlag&16;const ie=O.props||ut,Ae=F.props||ut;let Te;if(G&&bi(G,!1),(Te=Ae.onVnodeBeforeUpdate)&&Vt(Te,G,F,O),fe&&yi(F,O,G,"beforeUpdate"),G&&bi(G,!0),(ie.innerHTML&&Ae.innerHTML==null||ie.textContent&&Ae.textContent==null)&&c(oe,""),X?B(O.dynamicChildren,X,oe,G,te,fn(F,J),K):le||Q(O,F,oe,null,G,te,fn(F,J),K,!1),ae>0){if(ae&16)$(oe,ie,Ae,G,J);else if(ae&2&&ie.class!==Ae.class&&s(oe,"class",null,Ae.class,J),ae&4&&s(oe,"style",ie.style,Ae.style,J),ae&8){const Ie=F.dynamicProps;for(let Oe=0;Oe<Ie.length;Oe++){const ze=Ie[Oe],tt=ie[ze],Xe=Ae[ze];(Xe!==tt||ze==="value")&&s(oe,ze,tt,Xe,J,G)}}ae&1&&O.children!==F.children&&c(oe,F.children)}else!le&&X==null&&$(oe,ie,Ae,G,J);((Te=Ae.onVnodeUpdated)||fe)&&It(()=>{Te&&Vt(Te,G,F,O),fe&&yi(F,O,G,"updated")},te)},B=(O,F,G,te,J,K,le)=>{for(let oe=0;oe<F.length;oe++){const ae=O[oe],X=F[oe],fe=ae.el&&(ae.type===ri||!Zi(ae,X)||ae.shapeFlag&198)?d(ae.el):G;E(ae,X,fe,null,te,J,K,le,!0)}},$=(O,F,G,te,J)=>{if(F!==G){if(F!==ut)for(const K in F)!Qi(K)&&!(K in G)&&s(O,K,F[K],null,J,te);for(const K in G){if(Qi(K))continue;const le=G[K],oe=F[K];le!==oe&&K!=="value"&&s(O,K,oe,le,J,te)}"value"in G&&s(O,"value",F.value,G.value,J)}},H=(O,F,G,te,J,K,le,oe,ae)=>{const X=F.el=O?O.el:o(""),fe=F.anchor=O?O.anchor:o("");let{patchFlag:ie,dynamicChildren:Ae,slotScopeIds:Te}=F;Te&&(oe=oe?oe.concat(Te):Te),O==null?(i(X,G,te),i(fe,G,te),L(F.children||[],G,fe,J,K,le,oe,ae)):ie>0&&ie&64&&Ae&&O.dynamicChildren?(B(O.dynamicChildren,Ae,G,J,K,le,oe),(F.key!=null||J&&F===J.subTree)&&cu(O,F,!0)):Q(O,F,G,fe,J,K,le,oe,ae)},Y=(O,F,G,te,J,K,le,oe,ae)=>{F.slotScopeIds=oe,O==null?F.shapeFlag&512?J.ctx.activate(F,G,te,le,ae):ce(F,G,te,J,K,le,ae):ue(O,F,ae)},ce=(O,F,G,te,J,K,le)=>{const oe=O.component=eh(O,te,J);if(Ko(O)&&(oe.ctx.renderer=Ye),th(oe,!1,le),oe.asyncDep){if(J&&J.registerDep(oe,me,le),!O.el){const ae=oe.subTree=vi(Mi);g(null,ae,F,G)}}else me(oe,O,F,G,J,K,le)},ue=(O,F,G)=>{const te=F.component=O.component;if(Wf(O,F,G))if(te.asyncDep&&!te.asyncResolved){re(te,F,G);return}else te.next=F,te.update();else F.el=O.el,te.vnode=F},me=(O,F,G,te,J,K,le)=>{const oe=()=>{if(O.isMounted){let{next:ie,bu:Ae,u:Te,parent:Ie,vnode:Oe}=O;{const at=du(O);if(at){ie&&(ie.el=Oe.el,re(O,ie,le)),at.asyncDep.then(()=>{O.isUnmounted||oe()});return}}let ze=ie,tt;bi(O,!1),ie?(ie.el=Oe.el,re(O,ie,le)):ie=Oe,Ae&&sn(Ae),(tt=ie.props&&ie.props.onVnodeBeforeUpdate)&&Vt(tt,Ie,ie,Oe),bi(O,!0);const Xe=la(O),lt=O.subTree;O.subTree=Xe,E(lt,Xe,d(lt.el),We(lt),O,J,K),ie.el=Xe.el,ze===null&&Hf(O,Xe.el),Te&&It(Te,J),(tt=ie.props&&ie.props.onVnodeUpdated)&&It(()=>Vt(tt,Ie,ie,Oe),J)}else{let ie;const{el:Ae,props:Te}=F,{bm:Ie,m:Oe,parent:ze,root:tt,type:Xe}=O,lt=nr(F);bi(O,!1),Ie&&sn(Ie),!lt&&(ie=Te&&Te.onVnodeBeforeMount)&&Vt(ie,ze,F),bi(O,!0);{tt.ce&&tt.ce._def.shadowRoot!==!1&&tt.ce._injectChildStyle(Xe);const at=O.subTree=la(O);E(null,at,G,te,O,J,K),F.el=at.el}if(Oe&&It(Oe,J),!lt&&(ie=Te&&Te.onVnodeMounted)){const at=F;It(()=>Vt(ie,ze,at),J)}(F.shapeFlag&256||ze&&nr(ze.vnode)&&ze.vnode.shapeFlag&256)&&O.a&&It(O.a,J),O.isMounted=!0,F=G=te=null}};O.scope.on();const ae=O.effect=new Ro(oe);O.scope.off();const X=O.update=ae.run.bind(ae),fe=O.job=ae.runIfDirty.bind(ae);fe.i=O,fe.id=O.uid,ae.scheduler=()=>Bs(fe),bi(O,!0),X()},re=(O,F,G)=>{F.component=O;const te=O.vnode.props;O.vnode=F,O.next=null,Sf(O,F.props,te,G),kf(O,F.children,G),si(),ia(O),ai()},Q=(O,F,G,te,J,K,le,oe,ae=!1)=>{const X=O&&O.children,fe=O?O.shapeFlag:0,ie=F.children,{patchFlag:Ae,shapeFlag:Te}=F;if(Ae>0){if(Ae&128){ke(X,ie,G,te,J,K,le,oe,ae);return}else if(Ae&256){ye(X,ie,G,te,J,K,le,oe,ae);return}}Te&8?(fe&16&&Ke(X,J,K),ie!==X&&c(G,ie)):fe&16?Te&16?ke(X,ie,G,te,J,K,le,oe,ae):Ke(X,J,K,!0):(fe&8&&c(G,""),Te&16&&L(ie,G,te,J,K,le,oe,ae))},ye=(O,F,G,te,J,K,le,oe,ae)=>{O=O||Bi,F=F||Bi;const X=O.length,fe=F.length,ie=Math.min(X,fe);let Ae;for(Ae=0;Ae<ie;Ae++){const Te=F[Ae]=ae?hi(F[Ae]):Zt(F[Ae]);E(O[Ae],Te,G,null,J,K,le,oe,ae)}X>fe?Ke(O,J,K,!0,!1,ie):L(F,G,te,J,K,le,oe,ae,ie)},ke=(O,F,G,te,J,K,le,oe,ae)=>{let X=0;const fe=F.length;let ie=O.length-1,Ae=fe-1;for(;X<=ie&&X<=Ae;){const Te=O[X],Ie=F[X]=ae?hi(F[X]):Zt(F[X]);if(Zi(Te,Ie))E(Te,Ie,G,null,J,K,le,oe,ae);else break;X++}for(;X<=ie&&X<=Ae;){const Te=O[ie],Ie=F[Ae]=ae?hi(F[Ae]):Zt(F[Ae]);if(Zi(Te,Ie))E(Te,Ie,G,null,J,K,le,oe,ae);else break;ie--,Ae--}if(X>ie){if(X<=Ae){const Te=Ae+1,Ie=Te<fe?F[Te].el:te;for(;X<=Ae;)E(null,F[X]=ae?hi(F[X]):Zt(F[X]),G,Ie,J,K,le,oe,ae),X++}}else if(X>Ae)for(;X<=ie;)we(O[X],J,K,!0),X++;else{const Te=X,Ie=X,Oe=new Map;for(X=Ie;X<=Ae;X++){const ft=F[X]=ae?hi(F[X]):Zt(F[X]);ft.key!=null&&Oe.set(ft.key,X)}let ze,tt=0;const Xe=Ae-Ie+1;let lt=!1,at=0;const rt=new Array(Xe);for(X=0;X<Xe;X++)rt[X]=0;for(X=Te;X<=ie;X++){const ft=O[X];if(tt>=Xe){we(ft,J,K,!0);continue}let D;if(ft.key!=null)D=Oe.get(ft.key);else for(ze=Ie;ze<=Ae;ze++)if(rt[ze-Ie]===0&&Zi(ft,F[ze])){D=ze;break}D===void 0?we(ft,J,K,!0):(rt[D-Ie]=X+1,D>=at?at=D:lt=!0,E(ft,F[D],G,null,J,K,le,oe,ae),tt++)}const pt=lt?Bf(rt):Bi;for(ze=pt.length-1,X=Xe-1;X>=0;X--){const ft=Ie+X,D=F[ft],se=ft+1<fe?F[ft+1].el:te;rt[X]===0?E(null,D,G,se,J,K,le,oe,ae):lt&&(ze<0||X!==pt[ze]?pe(D,G,se,2):ze--)}}},pe=(O,F,G,te,J=null)=>{const{el:K,type:le,transition:oe,children:ae,shapeFlag:X}=O;if(X&6){pe(O.component.subTree,F,G,te);return}if(X&128){O.suspense.move(F,G,te);return}if(X&64){le.move(O,F,G,Ye);return}if(le===ri){i(K,F,G);for(let ie=0;ie<ae.length;ie++)pe(ae[ie],F,G,te);i(O.anchor,F,G);return}if(le===cn){x(O,F,G);return}if(te!==2&&X&1&&oe)if(te===0)oe.beforeEnter(K),i(K,F,G),It(()=>oe.enter(K),J);else{const{leave:ie,delayLeave:Ae,afterLeave:Te}=oe,Ie=()=>{O.ctx.isUnmounted?n(K):i(K,F,G)},Oe=()=>{ie(K,()=>{Ie(),Te&&Te()})};Ae?Ae(K,Ie,Oe):Oe()}else i(K,F,G)},we=(O,F,G,te=!1,J=!1)=>{const{type:K,props:le,ref:oe,children:ae,dynamicChildren:X,shapeFlag:fe,patchFlag:ie,dirs:Ae,cacheIndex:Te}=O;if(ie===-2&&(J=!1),oe!=null&&(si(),rr(oe,null,G,O,!0),ai()),Te!=null&&(F.renderCache[Te]=void 0),fe&256){F.ctx.deactivate(O);return}const Ie=fe&1&&Ae,Oe=!nr(O);let ze;if(Oe&&(ze=le&&le.onVnodeBeforeUnmount)&&Vt(ze,F,O),fe&6)Ue(O.component,G,te);else{if(fe&128){O.suspense.unmount(G,te);return}Ie&&yi(O,null,F,"beforeUnmount"),fe&64?O.type.remove(O,F,G,Ye,te):X&&!X.hasOnce&&(K!==ri||ie>0&&ie&64)?Ke(X,F,G,!1,!0):(K===ri&&ie&384||!J&&fe&16)&&Ke(ae,F,G),te&&Pe(O)}(Oe&&(ze=le&&le.onVnodeUnmounted)||Ie)&&It(()=>{ze&&Vt(ze,F,O),Ie&&yi(O,null,F,"unmounted")},G)},Pe=O=>{const{type:F,el:G,anchor:te,transition:J}=O;if(F===ri){Ne(G,te);return}if(F===cn){T(O);return}const K=()=>{n(G),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(O.shapeFlag&1&&J&&!J.persisted){const{leave:le,delayLeave:oe}=J,ae=()=>le(G,K);oe?oe(O.el,K,ae):ae()}else K()},Ne=(O,F)=>{let G;for(;O!==F;)G=b(O),n(O),O=G;n(F)},Ue=(O,F,G)=>{const{bum:te,scope:J,job:K,subTree:le,um:oe,m:ae,a:X,parent:fe,slots:{__:ie}}=O;ua(ae),ua(X),te&&sn(te),fe&&Me(ie)&&ie.forEach(Ae=>{fe.renderCache[Ae]=void 0}),J.stop(),K&&(K.flags|=8,we(le,O,F,G)),oe&&It(oe,F),It(()=>{O.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},Ke=(O,F,G,te=!1,J=!1,K=0)=>{for(let le=K;le<O.length;le++)we(O[le],F,G,te,J)},We=O=>{if(O.shapeFlag&6)return We(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const F=b(O.anchor||O.el),G=F&&F[rf];return G?b(G):F};let Re=!1;const $e=(O,F,G)=>{O==null?F._vnode&&we(F._vnode,null,null,!0):E(F._vnode||null,O,F,null,null,null,G),F._vnode=O,Re||(Re=!0,ia(),Zo(),Re=!1)},Ye={p:E,um:we,m:pe,r:Pe,mt:ce,mc:L,pc:Q,pbc:B,n:We,o:r};return{render:$e,hydrate:void 0,createApp:Af($e)}}function fn({type:r,props:e},t){return t==="svg"&&r==="foreignObject"||t==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function bi({effect:r,job:e},t){t?(r.flags|=32,e.flags|=4):(r.flags&=-33,e.flags&=-5)}function Lf(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function cu(r,e,t=!1){const i=r.children,n=e.children;if(Me(i)&&Me(n))for(let s=0;s<i.length;s++){const a=i[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=hi(n[s]),o.el=a.el),!t&&o.patchFlag!==-2&&cu(a,o)),o.type===Yr&&(o.el=a.el),o.type===Mi&&!o.el&&(o.el=a.el)}}function Bf(r){const e=r.slice(),t=[0];let i,n,s,a,o;const u=r.length;for(i=0;i<u;i++){const h=r[i];if(h!==0){if(n=t[t.length-1],r[n]<h){e[i]=n,t.push(i);continue}for(s=0,a=t.length-1;s<a;)o=s+a>>1,r[t[o]]<h?s=o+1:a=o;h<r[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,a=t[s-1];s-- >0;)t[s]=a,a=e[a];return t}function du(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:du(e)}function ua(r){if(r)for(let e=0;e<r.length;e++)r[e].flags|=8}const Ff=Symbol.for("v-scx"),Pf=()=>Ar(Ff);function hn(r,e,t){return pu(r,e,t)}function pu(r,e,t=ut){const{immediate:i,deep:n,flush:s,once:a}=t,o=Tt({},t),u=e&&i||!e&&s!=="post";let h;if(hr){if(s==="sync"){const v=Pf();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!u){const v=()=>{};return v.stop=Yt,v.resume=Yt,v.pause=Yt,v}}const c=St;o.call=(v,N,E)=>Kt(v,c,N,E);let d=!1;s==="post"?o.scheduler=v=>{It(v,c&&c.suspense)}:s!=="sync"&&(d=!0,o.scheduler=(v,N)=>{N?v():Bs(v)}),o.augmentJob=v=>{e&&(v.flags|=4),d&&(v.flags|=2,c&&(v.id=c.uid,v.i=c))};const b=Xl(r,e,o);return hr&&(h?h.push(b):u&&b()),b}function zf(r,e,t){const i=this.proxy,n=_t(r)?r.includes(".")?gu(i,r):()=>i[r]:r.bind(i,i);let s;qe(e)?s=e:(s=e.handler,t=e);const a=gr(this),o=pu(n,s.bind(i),t);return a(),o}function gu(r,e){const t=e.split(".");return()=>{let i=r;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i}}const Mf=(r,e)=>e==="modelValue"||e==="model-value"?r.modelModifiers:r[`${e}Modifiers`]||r[`${mi(e)}Modifiers`]||r[`${xi(e)}Modifiers`];function Uf(r,e,...t){if(r.isUnmounted)return;const i=r.vnode.props||ut;let n=t;const s=e.startsWith("update:"),a=s&&Mf(i,e.slice(7));a&&(a.trim&&(n=t.map(c=>_t(c)?c.trim():c)),a.number&&(n=t.map(dl)));let o,u=i[o=nn(e)]||i[o=nn(mi(e))];!u&&s&&(u=i[o=nn(xi(e))]),u&&Kt(u,r,6,n);const h=i[o+"Once"];if(h){if(!r.emitted)r.emitted={};else if(r.emitted[o])return;r.emitted[o]=!0,Kt(h,r,6,n)}}function vu(r,e,t=!1){const i=e.emitsCache,n=i.get(r);if(n!==void 0)return n;const s=r.emits;let a={},o=!1;if(!qe(r)){const u=h=>{const c=vu(h,e,!0);c&&(o=!0,Tt(a,c))};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}return!s&&!o?(vt(r)&&i.set(r,null),null):(Me(s)?s.forEach(u=>a[u]=null):Tt(a,s),vt(r)&&i.set(r,a),a)}function $r(r,e){return!r||!jr(e)?!1:(e=e.slice(2).replace(/Once$/,""),et(r,e[0].toLowerCase()+e.slice(1))||et(r,xi(e))||et(r,e))}function la(r){const{type:e,vnode:t,proxy:i,withProxy:n,propsOptions:[s],slots:a,attrs:o,emit:u,render:h,renderCache:c,props:d,data:b,setupState:v,ctx:N,inheritAttrs:E}=r,p=kr(r);let g,m;try{if(t.shapeFlag&4){const T=n||i,_=T;g=Zt(h.call(_,T,c,d,v,b,N)),m=o}else{const T=e;g=Zt(T.length>1?T(d,{attrs:o,slots:a,emit:u}):T(d,null)),m=e.props?o:qf(o)}}catch(T){ar.length=0,Gr(T,r,1),g=vi(Mi)}let x=g;if(m&&E!==!1){const T=Object.keys(m),{shapeFlag:_}=x;T.length&&_&7&&(s&&T.some(ws)&&(m=jf(m,s)),x=Ui(x,m,!1,!0))}return t.dirs&&(x=Ui(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&Fs(x,t.transition),g=x,kr(p),g}const qf=r=>{let e;for(const t in r)(t==="class"||t==="style"||jr(t))&&((e||(e={}))[t]=r[t]);return e},jf=(r,e)=>{const t={};for(const i in r)(!ws(i)||!(i.slice(9)in e))&&(t[i]=r[i]);return t};function Wf(r,e,t){const{props:i,children:n,component:s}=r,{props:a,children:o,patchFlag:u}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return i?fa(i,a,h):!!a;if(u&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const b=c[d];if(a[b]!==i[b]&&!$r(h,b))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?fa(i,a,h):!0:!!a;return!1}function fa(r,e,t){const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==r[s]&&!$r(t,s))return!0}return!1}function Hf({vnode:r,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=e.vnode).el=t,e=e.parent;else break}}const mu=r=>r.__isSuspense;function Vf(r,e){e&&e.pendingBranch?Me(r)?e.effects.push(...r):e.effects.push(r):ef(r)}const ri=Symbol.for("v-fgt"),Yr=Symbol.for("v-txt"),Mi=Symbol.for("v-cmt"),cn=Symbol.for("v-stc"),ar=[];let Ot=null;function yu(r=!1){ar.push(Ot=r?null:[])}function Gf(){ar.pop(),Ot=ar[ar.length-1]||null}let fr=1;function ha(r,e=!1){fr+=r,r<0&&Ot&&e&&(Ot.hasOnce=!0)}function Zf(r){return r.dynamicChildren=fr>0?Ot||Bi:null,Gf(),fr>0&&Ot&&Ot.push(r),r}function bu(r,e,t,i,n,s){return Zf(Eu(r,e,t,i,n,s,!0))}function _u(r){return r?r.__v_isVNode===!0:!1}function Zi(r,e){return r.type===e.type&&r.key===e.key}const wu=({key:r})=>r??null,Dr=({ref:r,ref_key:e,ref_for:t})=>(typeof r=="number"&&(r=""+r),r!=null?_t(r)||xt(r)||qe(r)?{i:$t,r,k:e,f:!!t}:r:null);function Eu(r,e=null,t=null,i=0,n=null,s=r===ri?0:1,a=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&wu(e),ref:e&&Dr(e),scopeId:Yo,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:$t};return o?(Ms(u,t),s&128&&r.normalize(u)):t&&(u.shapeFlag|=_t(t)?8:16),fr>0&&!a&&Ot&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Ot.push(u),u}const vi=$f;function $f(r,e=null,t=null,i=0,n=null,s=!1){if((!r||r===vf)&&(r=Mi),_u(r)){const o=Ui(r,e,!0);return t&&Ms(o,t),fr>0&&!s&&Ot&&(o.shapeFlag&6?Ot[Ot.indexOf(r)]=o:Ot.push(o)),o.patchFlag=-2,o}if(sh(r)&&(r=r.__vccOpts),e){e=Yf(e);let{class:o,style:u}=e;o&&!_t(o)&&(e.class=Ds(o)),vt(u)&&(Ls(u)&&!Me(u)&&(u=Tt({},u)),e.style=As(u))}const a=_t(r)?1:mu(r)?128:nf(r)?64:vt(r)?4:qe(r)?2:0;return Eu(r,e,t,i,n,a,s,!0)}function Yf(r){return r?Ls(r)||au(r)?Tt({},r):r:null}function Ui(r,e,t=!1,i=!1){const{props:n,ref:s,patchFlag:a,children:o,transition:u}=r,h=e?Kf(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:r.type,props:h,key:h&&wu(h),ref:e&&e.ref?t&&s?Me(s)?s.concat(Dr(e)):[s,Dr(e)]:Dr(e):s,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:o,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==ri?a===-1?16:a|16:a,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:u,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Ui(r.ssContent),ssFallback:r.ssFallback&&Ui(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return u&&i&&Fs(c,u.clone(c)),c}function Xf(r=" ",e=0){return vi(Yr,null,r,e)}function Zt(r){return r==null||typeof r=="boolean"?vi(Mi):Me(r)?vi(ri,null,r.slice()):_u(r)?hi(r):vi(Yr,null,String(r))}function hi(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Ui(r)}function Ms(r,e){let t=0;const{shapeFlag:i}=r;if(e==null)e=null;else if(Me(e))t=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),Ms(r,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!au(e)?e._ctx=$t:n===3&&$t&&($t.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else qe(e)?(e={default:e,_ctx:$t},t=32):(e=String(e),i&64?(t=16,e=[Xf(e)]):t=8);r.children=e,r.shapeFlag|=t}function Kf(...r){const e={};for(let t=0;t<r.length;t++){const i=r[t];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Ds([e.class,i.class]));else if(n==="style")e.style=As([e.style,i.style]);else if(jr(n)){const s=e[n],a=i[n];a&&s!==a&&!(Me(s)&&s.includes(a))&&(e[n]=s?[].concat(s,a):a)}else n!==""&&(e[n]=i[n])}return e}function Vt(r,e,t,i=null){Kt(r,e,7,[t,i])}const Jf=ru();let Qf=0;function eh(r,e,t){const i=r.type,n=(e?e.appContext:r.appContext)||Jf,s={uid:Qf++,vnode:r,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _l(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uu(i,n),emitsOptions:vu(i,n),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:i.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Uf.bind(null,s),r.ce&&r.ce(s),s}let St=null,Or,ds;{const r=Vr(),e=(t,i)=>{let n;return(n=r[t])||(n=r[t]=[]),n.push(i),s=>{n.length>1?n.forEach(a=>a(s)):n[0](s)}};Or=e("__VUE_INSTANCE_SETTERS__",t=>St=t),ds=e("__VUE_SSR_SETTERS__",t=>hr=t)}const gr=r=>{const e=St;return Or(r),r.scope.on(),()=>{r.scope.off(),Or(e)}},ca=()=>{St&&St.scope.off(),Or(null)};function xu(r){return r.vnode.shapeFlag&4}let hr=!1;function th(r,e=!1,t=!1){e&&ds(e);const{props:i,children:n}=r.vnode,s=xu(r);Cf(r,i,s,e),Nf(r,n,t||e);const a=s?ih(r,e):void 0;return e&&ds(!1),a}function ih(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,mf);const{setup:i}=t;if(i){si();const n=r.setupContext=i.length>1?nh(r):null,s=gr(r),a=pr(i,r,0,[r.props,n]),o=Co(a);if(ai(),s(),(o||r.sp)&&!nr(r)&&Xo(r),o){if(a.then(ca,ca),e)return a.then(u=>{da(r,u)}).catch(u=>{Gr(u,r,0)});r.asyncDep=a}else da(r,a)}else Au(r)}function da(r,e,t){qe(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:vt(e)&&(r.setupState=Ho(e)),Au(r)}function Au(r,e,t){const i=r.type;r.render||(r.render=i.render||Yt);{const n=gr(r);si();try{yf(r)}finally{ai(),n()}}}const rh={get(r,e){return Et(r,"get",""),r[e]}};function nh(r){const e=t=>{r.exposed=t||{}};return{attrs:new Proxy(r.attrs,rh),slots:r.slots,emit:r.emit,expose:e}}function Us(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(Ho(ql(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in sr)return sr[t](r)},has(e,t){return t in e||t in sr}})):r.proxy}function sh(r){return qe(r)&&"__vccOpts"in r}const ah=(r,e)=>$l(r,e,hr),oh="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ps;const pa=typeof window<"u"&&window.trustedTypes;if(pa)try{ps=pa.createPolicy("vue",{createHTML:r=>r})}catch{}const Du=ps?r=>ps.createHTML(r):r=>r,uh="http://www.w3.org/2000/svg",lh="http://www.w3.org/1998/Math/MathML",ii=typeof document<"u"?document:null,ga=ii&&ii.createElement("template"),fh={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,i)=>{const n=e==="svg"?ii.createElementNS(uh,r):e==="mathml"?ii.createElementNS(lh,r):t?ii.createElement(r,{is:t}):ii.createElement(r);return r==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:r=>ii.createTextNode(r),createComment:r=>ii.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>ii.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,t,i,n,s){const a=t?t.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===s||!(n=n.nextSibling)););else{ga.innerHTML=Du(i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r);const o=ga.content;if(i==="svg"||i==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},hh=Symbol("_vtc");function ch(r,e,t){const i=r[hh];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}const va=Symbol("_vod"),dh=Symbol("_vsh"),ph=Symbol(""),gh=/(^|;)\s*display\s*:/;function vh(r,e,t){const i=r.style,n=_t(t);let s=!1;if(t&&!n){if(e)if(_t(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();t[o]==null&&Cr(i,o,"")}else for(const a in e)t[a]==null&&Cr(i,a,"");for(const a in t)a==="display"&&(s=!0),Cr(i,a,t[a])}else if(n){if(e!==t){const a=i[ph];a&&(t+=";"+a),i.cssText=t,s=gh.test(t)}}else e&&r.removeAttribute("style");va in r&&(r[va]=s?i.display:"",r[dh]&&(i.display="none"))}const ma=/\s*!important$/;function Cr(r,e,t){if(Me(t))t.forEach(i=>Cr(r,e,i));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const i=mh(r,e);ma.test(t)?r.setProperty(xi(i),t.replace(ma,""),"important"):r[i]=t}}const ya=["Webkit","Moz","ms"],dn={};function mh(r,e){const t=dn[e];if(t)return t;let i=mi(e);if(i!=="filter"&&i in r)return dn[e]=i;i=So(i);for(let n=0;n<ya.length;n++){const s=ya[n]+i;if(s in r)return dn[e]=s}return e}const ba="http://www.w3.org/1999/xlink";function _a(r,e,t,i,n,s=bl(e)){i&&e.startsWith("xlink:")?t==null?r.removeAttributeNS(ba,e.slice(6,e.length)):r.setAttributeNS(ba,e,t):t==null||s&&!To(t)?r.removeAttribute(e):r.setAttribute(e,s?"":ji(t)?String(t):t)}function wa(r,e,t,i,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(r[e]=e==="innerHTML"?Du(t):t);return}const s=r.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?r.getAttribute("value")||"":r.value,u=t==null?r.type==="checkbox"?"on":"":String(t);(o!==u||!("_value"in r))&&(r.value=u),t==null&&r.removeAttribute(e),r._value=t;return}let a=!1;if(t===""||t==null){const o=typeof r[e];o==="boolean"?t=To(t):t==null&&o==="string"?(t="",a=!0):o==="number"&&(t=0,a=!0)}try{r[e]=t}catch{}a&&r.removeAttribute(n||e)}function yh(r,e,t,i){r.addEventListener(e,t,i)}function bh(r,e,t,i){r.removeEventListener(e,t,i)}const Ea=Symbol("_vei");function _h(r,e,t,i,n=null){const s=r[Ea]||(r[Ea]={}),a=s[e];if(i&&a)a.value=i;else{const[o,u]=wh(e);if(i){const h=s[e]=Ah(i,n);yh(r,o,h,u)}else a&&(bh(r,o,a,u),s[e]=void 0)}}const xa=/(?:Once|Passive|Capture)$/;function wh(r){let e;if(xa.test(r)){e={};let i;for(;i=r.match(xa);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):xi(r.slice(2)),e]}let pn=0;const Eh=Promise.resolve(),xh=()=>pn||(Eh.then(()=>pn=0),pn=Date.now());function Ah(r,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Kt(Dh(i,t.value),e,5,[i])};return t.value=r,t.attached=xh(),t}function Dh(r,e){if(Me(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const Aa=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,Ch=(r,e,t,i,n,s)=>{const a=n==="svg";e==="class"?ch(r,i,a):e==="style"?vh(r,t,i):jr(e)?ws(e)||_h(r,e,t,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Sh(r,e,i,a))?(wa(r,e,i),!r.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&_a(r,e,i,a,s,e!=="value")):r._isVueCE&&(/[A-Z]/.test(e)||!_t(i))?wa(r,mi(e),i,s,e):(e==="true-value"?r._trueValue=i:e==="false-value"&&(r._falseValue=i),_a(r,e,i,a))};function Sh(r,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in r&&Aa(e)&&qe(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=r.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Aa(e)&&_t(t)?!1:e in r}const Th=Tt({patchProp:Ch},fh);let Da;function Rh(){return Da||(Da=If(Th))}const Nh=(...r)=>{const e=Rh().createApp(...r),{mount:t}=e;return e.mount=i=>{const n=Ih(i);if(!n)return;const s=e._component;!qe(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=t(n,!1,kh(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},e};function kh(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Ih(r){return _t(r)?document.querySelector(r):r}var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wr={exports:{}},gn={exports:{}},vn,Ca;function Cu(){if(Ca)return vn;Ca=1;var r=void 0;return vn=function(e){return e!==r&&e!==null},vn}var mn,Sa;function Oh(){if(Sa)return mn;Sa=1;var r=Cu(),e={object:!0,function:!0,undefined:!0};return mn=function(t){return r(t)?hasOwnProperty.call(e,typeof t):!1},mn}var yn,Ta;function Lh(){if(Ta)return yn;Ta=1;var r=Oh();return yn=function(e){if(!r(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},yn}var bn,Ra;function Bh(){if(Ra)return bn;Ra=1;var r=Lh();return bn=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!r(e)},bn}var _n,Na;function Fh(){if(Na)return _n;Na=1;var r=Bh(),e=/^\s*class[\s{/}]/,t=Function.prototype.toString;return _n=function(i){return!(!r(i)||e.test(t.call(i)))},_n}var wn,ka;function Ph(){return ka||(ka=1,wn=function(){var r=Object.assign,e;return typeof r!="function"?!1:(e={foo:"raz"},r(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),wn}var En,Ia;function zh(){return Ia||(Ia=1,En=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),En}var xn,Oa;function Mh(){return Oa||(Oa=1,xn=function(){}),xn}var An,La;function qs(){if(La)return An;La=1;var r=Mh()();return An=function(e){return e!==r&&e!==null},An}var Dn,Ba;function Uh(){if(Ba)return Dn;Ba=1;var r=qs(),e=Object.keys;return Dn=function(t){return e(r(t)?Object(t):t)},Dn}var Cn,Fa;function qh(){return Fa||(Fa=1,Cn=zh()()?Object.keys:Uh()),Cn}var Sn,Pa;function jh(){if(Pa)return Sn;Pa=1;var r=qs();return Sn=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e},Sn}var Tn,za;function Wh(){if(za)return Tn;za=1;var r=qh(),e=jh(),t=Math.max;return Tn=function(i,n){var s,a,o=t(arguments.length,2),u;for(i=Object(e(i)),u=function(h){try{i[h]=n[h]}catch(c){s||(s=c)}},a=1;a<o;++a)n=arguments[a],r(n).forEach(u);if(s!==void 0)throw s;return i},Tn}var Rn,Ma;function Hh(){return Ma||(Ma=1,Rn=Ph()()?Object.assign:Wh()),Rn}var Nn,Ua;function Vh(){if(Ua)return Nn;Ua=1;var r=qs(),e=Array.prototype.forEach,t=Object.create,i=function(n,s){var a;for(a in n)s[a]=n[a]};return Nn=function(n){var s=t(null);return e.call(arguments,function(a){r(a)&&i(Object(a),s)}),s},Nn}var kn,qa;function Gh(){if(qa)return kn;qa=1;var r="razdwatrzy";return kn=function(){return typeof r.contains!="function"?!1:r.contains("dwa")===!0&&r.contains("foo")===!1},kn}var In,ja;function Zh(){if(ja)return In;ja=1;var r=String.prototype.indexOf;return In=function(e){return r.call(this,e,arguments[1])>-1},In}var On,Wa;function $h(){return Wa||(Wa=1,On=Gh()()?String.prototype.contains:Zh()),On}var Ha;function Yh(){if(Ha)return gn.exports;Ha=1;var r=Cu(),e=Fh(),t=Hh(),i=Vh(),n=$h(),s=gn.exports=function(a,o){var u,h,c,d,b;return arguments.length<2||typeof a!="string"?(d=o,o=a,a=null):d=arguments[2],r(a)?(u=n.call(a,"c"),h=n.call(a,"e"),c=n.call(a,"w")):(u=c=!0,h=!1),b={value:o,configurable:u,enumerable:h,writable:c},d?t(i(d),b):b};return s.gs=function(a,o,u){var h,c,d,b;return typeof a!="string"?(d=u,u=o,o=a,a=null):d=arguments[3],r(o)?e(o)?r(u)?e(u)||(d=u,u=void 0):u=void 0:(d=o,o=u=void 0):o=void 0,r(a)?(h=n.call(a,"c"),c=n.call(a,"e")):(h=!0,c=!1),b={get:o,set:u,configurable:h,enumerable:c},d?t(i(d),b):b},gn.exports}var Ln,Va;function Xh(){return Va||(Va=1,Ln=function(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}),Ln}var Ga;function Kh(){return Ga||(Ga=1,function(r,e){var t=Yh(),i=Xh(),n=Function.prototype.apply,s=Function.prototype.call,a=Object.create,o=Object.defineProperty,u=Object.defineProperties,h=Object.prototype.hasOwnProperty,c={configurable:!0,enumerable:!1,writable:!0},d,b,v,N,E,p,g;d=function(m,x){var T;return i(x),h.call(this,"__ee__")?T=this.__ee__:(T=c.value=a(null),o(this,"__ee__",c),c.value=null),T[m]?typeof T[m]=="object"?T[m].push(x):T[m]=[T[m],x]:T[m]=x,this},b=function(m,x){var T,_;return i(x),_=this,d.call(this,m,T=function(){v.call(_,m,T),n.call(x,this,arguments)}),T.__eeOnceListener__=x,this},v=function(m,x){var T,_,C,I;if(i(x),!h.call(this,"__ee__"))return this;if(T=this.__ee__,!T[m])return this;if(_=T[m],typeof _=="object")for(I=0;C=_[I];++I)(C===x||C.__eeOnceListener__===x)&&(_.length===2?T[m]=_[I?0:1]:_.splice(I,1));else(_===x||_.__eeOnceListener__===x)&&delete T[m];return this},N=function(m){var x,T,_,C,I;if(h.call(this,"__ee__")&&(C=this.__ee__[m],!!C))if(typeof C=="object"){for(T=arguments.length,I=new Array(T-1),x=1;x<T;++x)I[x-1]=arguments[x];for(C=C.slice(),x=0;_=C[x];++x)n.call(_,this,I)}else switch(arguments.length){case 1:s.call(C,this);break;case 2:s.call(C,this,arguments[1]);break;case 3:s.call(C,this,arguments[1],arguments[2]);break;default:for(T=arguments.length,I=new Array(T-1),x=1;x<T;++x)I[x-1]=arguments[x];n.call(C,this,I)}},E={on:d,once:b,off:v,emit:N},p={on:t(d),once:t(b),off:t(v),emit:t(N)},g=u({},p),r.exports=e=function(m){return m==null?a(g):u(Object(m),p)},e.methods=E}(wr,wr.exports)),wr.exports}var Jh=Kh();const Jt=Wi(Jh);var $i={},ti={},Si={},Za;function Xr(){if(Za)return Si;Za=1;function r(n,s,a){if(a===void 0&&(a=Array.prototype),n&&typeof a.find=="function")return a.find.call(n,s);for(var o=0;o<n.length;o++)if(Object.prototype.hasOwnProperty.call(n,o)){var u=n[o];if(s.call(void 0,u,o,n))return u}}function e(n,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(n):n}var t=e({HTML:"text/html",isHTML:function(n){return n===t.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Si.find=r,Si.freeze=e,Si.MIME_TYPE=t,Si.NAMESPACE=i,Si}var $a;function Su(){if($a)return ti;$a=1;var r=Xr(),e=r.find,t=r.NAMESPACE;function i(f){return f!==""}function n(f){return f?f.split(/[\t\n\f\r ]+/).filter(i):[]}function s(f,y){return f.hasOwnProperty(y)||(f[y]=!0),f}function a(f){if(!f)return[];var y=n(f);return Object.keys(y.reduce(s,{}))}function o(f){return function(y){return f&&f.indexOf(y)!==-1}}function u(f,y){for(var R in f)Object.prototype.hasOwnProperty.call(f,R)&&(y[R]=f[R])}function h(f,y){var R=f.prototype;if(!(R instanceof y)){let P=function(){};var l=P;P.prototype=y.prototype,P=new P,u(R,P),f.prototype=R=P}R.constructor!=f&&(typeof f!="function"&&console.error("unknown Class:"+f),R.constructor=f)}var c={},d=c.ELEMENT_NODE=1,b=c.ATTRIBUTE_NODE=2,v=c.TEXT_NODE=3,N=c.CDATA_SECTION_NODE=4,E=c.ENTITY_REFERENCE_NODE=5,p=c.ENTITY_NODE=6,g=c.PROCESSING_INSTRUCTION_NODE=7,m=c.COMMENT_NODE=8,x=c.DOCUMENT_NODE=9,T=c.DOCUMENT_TYPE_NODE=10,_=c.DOCUMENT_FRAGMENT_NODE=11,C=c.NOTATION_NODE=12,I={},L={};I.INDEX_SIZE_ERR=(L[1]="Index size error",1),I.DOMSTRING_SIZE_ERR=(L[2]="DOMString size error",2);var k=I.HIERARCHY_REQUEST_ERR=(L[3]="Hierarchy request error",3);I.WRONG_DOCUMENT_ERR=(L[4]="Wrong document",4),I.INVALID_CHARACTER_ERR=(L[5]="Invalid character",5),I.NO_DATA_ALLOWED_ERR=(L[6]="No data allowed",6),I.NO_MODIFICATION_ALLOWED_ERR=(L[7]="No modification allowed",7);var B=I.NOT_FOUND_ERR=(L[8]="Not found",8);I.NOT_SUPPORTED_ERR=(L[9]="Not supported",9);var $=I.INUSE_ATTRIBUTE_ERR=(L[10]="Attribute in use",10);I.INVALID_STATE_ERR=(L[11]="Invalid state",11),I.SYNTAX_ERR=(L[12]="Syntax error",12),I.INVALID_MODIFICATION_ERR=(L[13]="Invalid modification",13),I.NAMESPACE_ERR=(L[14]="Invalid namespace",14),I.INVALID_ACCESS_ERR=(L[15]="Invalid access",15);function H(f,y){if(y instanceof Error)var R=y;else R=this,Error.call(this,L[f]),this.message=L[f],Error.captureStackTrace&&Error.captureStackTrace(this,H);return R.code=f,y&&(this.message=this.message+": "+y),R}H.prototype=Error.prototype,u(I,H);function Y(){}Y.prototype={length:0,item:function(f){return f>=0&&f<this.length?this[f]:null},toString:function(f,y){for(var R=[],l=0;l<this.length;l++)se(this[l],R,f,y);return R.join("")},filter:function(f){return Array.prototype.filter.call(this,f)},indexOf:function(f){return Array.prototype.indexOf.call(this,f)}};function ce(f,y){this._node=f,this._refresh=y,ue(this)}function ue(f){var y=f._node._inc||f._node.ownerDocument._inc;if(f._inc!==y){var R=f._refresh(f._node);if(U(f,"length",R.length),!f.$$length||R.length<f.$$length)for(var l=R.length;l in f;l++)Object.prototype.hasOwnProperty.call(f,l)&&delete f[l];u(R,f),f._inc=y}}ce.prototype.item=function(f){return ue(this),this[f]||null},h(ce,Y);function me(){}function re(f,y){for(var R=f.length;R--;)if(f[R]===y)return R}function Q(f,y,R,l){if(l?y[re(y,l)]=R:y[y.length++]=R,f){R.ownerElement=f;var P=f.ownerDocument;P&&(l&&Ke(P,f,l),Ue(P,f,R))}}function ye(f,y,R){var l=re(y,R);if(l>=0){for(var P=y.length-1;l<P;)y[l]=y[++l];if(y.length=P,f){var j=f.ownerDocument;j&&(Ke(j,f,R),R.ownerElement=null)}}else throw new H(B,new Error(f.tagName+"@"+R))}me.prototype={length:0,item:Y.prototype.item,getNamedItem:function(f){for(var y=this.length;y--;){var R=this[y];if(R.nodeName==f)return R}},setNamedItem:function(f){var y=f.ownerElement;if(y&&y!=this._ownerElement)throw new H($);var R=this.getNamedItem(f.nodeName);return Q(this._ownerElement,this,f,R),R},setNamedItemNS:function(f){var y=f.ownerElement,R;if(y&&y!=this._ownerElement)throw new H($);return R=this.getNamedItemNS(f.namespaceURI,f.localName),Q(this._ownerElement,this,f,R),R},removeNamedItem:function(f){var y=this.getNamedItem(f);return ye(this._ownerElement,this,y),y},removeNamedItemNS:function(f,y){var R=this.getNamedItemNS(f,y);return ye(this._ownerElement,this,R),R},getNamedItemNS:function(f,y){for(var R=this.length;R--;){var l=this[R];if(l.localName==y&&l.namespaceURI==f)return l}return null}};function ke(){}ke.prototype={hasFeature:function(f,y){return!0},createDocument:function(f,y,R){var l=new Ne;if(l.implementation=this,l.childNodes=new Y,l.doctype=R||null,R&&l.appendChild(R),y){var P=l.createElementNS(f,y);l.appendChild(P)}return l},createDocumentType:function(f,y,R){var l=new Oe;return l.name=f,l.nodeName=f,l.publicId=y||"",l.systemId=R||"",l}};function pe(){}pe.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(f,y){return oe(this,f,y)},replaceChild:function(f,y){oe(this,f,y,le),y&&this.removeChild(y)},removeChild:function(f){return Re(this,f)},appendChild:function(f){return this.insertBefore(f,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(f){return De(this.ownerDocument||this,this,f)},normalize:function(){for(var f=this.firstChild;f;){var y=f.nextSibling;y&&y.nodeType==v&&f.nodeType==v?(this.removeChild(y),f.appendData(y.data)):(f.normalize(),f=y)}},isSupported:function(f,y){return this.ownerDocument.implementation.hasFeature(f,y)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(f){for(var y=this;y;){var R=y._nsMap;if(R){for(var l in R)if(Object.prototype.hasOwnProperty.call(R,l)&&R[l]===f)return l}y=y.nodeType==b?y.ownerDocument:y.parentNode}return null},lookupNamespaceURI:function(f){for(var y=this;y;){var R=y._nsMap;if(R&&f in R&&Object.prototype.hasOwnProperty.call(R,f))return R[f];y=y.nodeType==b?y.ownerDocument:y.parentNode}return null},isDefaultNamespace:function(f){var y=this.lookupPrefix(f);return y==null}};function we(f){return f=="<"&&"&lt;"||f==">"&&"&gt;"||f=="&"&&"&amp;"||f=='"'&&"&quot;"||"&#"+f.charCodeAt()+";"}u(c,pe),u(c,pe.prototype);function Pe(f,y){if(y(f))return!0;if(f=f.firstChild)do if(Pe(f,y))return!0;while(f=f.nextSibling)}function Ne(){this.ownerDocument=this}function Ue(f,y,R){f&&f._inc++;var l=R.namespaceURI;l===t.XMLNS&&(y._nsMap[R.prefix?R.localName:""]=R.value)}function Ke(f,y,R,l){f&&f._inc++;var P=R.namespaceURI;P===t.XMLNS&&delete y._nsMap[R.prefix?R.localName:""]}function We(f,y,R){if(f&&f._inc){f._inc++;var l=y.childNodes;if(R)l[l.length++]=R;else{for(var P=y.firstChild,j=0;P;)l[j++]=P,P=P.nextSibling;l.length=j,delete l[l.length]}}}function Re(f,y){var R=y.previousSibling,l=y.nextSibling;return R?R.nextSibling=l:f.firstChild=l,l?l.previousSibling=R:f.lastChild=R,y.parentNode=null,y.previousSibling=null,y.nextSibling=null,We(f.ownerDocument,f),y}function $e(f){return f&&(f.nodeType===pe.DOCUMENT_NODE||f.nodeType===pe.DOCUMENT_FRAGMENT_NODE||f.nodeType===pe.ELEMENT_NODE)}function Ye(f){return f&&(O(f)||F(f)||Be(f)||f.nodeType===pe.DOCUMENT_FRAGMENT_NODE||f.nodeType===pe.COMMENT_NODE||f.nodeType===pe.PROCESSING_INSTRUCTION_NODE)}function Be(f){return f&&f.nodeType===pe.DOCUMENT_TYPE_NODE}function O(f){return f&&f.nodeType===pe.ELEMENT_NODE}function F(f){return f&&f.nodeType===pe.TEXT_NODE}function G(f,y){var R=f.childNodes||[];if(e(R,O)||Be(y))return!1;var l=e(R,Be);return!(y&&l&&R.indexOf(l)>R.indexOf(y))}function te(f,y){var R=f.childNodes||[];function l(j){return O(j)&&j!==y}if(e(R,l))return!1;var P=e(R,Be);return!(y&&P&&R.indexOf(P)>R.indexOf(y))}function J(f,y,R){if(!$e(f))throw new H(k,"Unexpected parent node type "+f.nodeType);if(R&&R.parentNode!==f)throw new H(B,"child not in parent");if(!Ye(y)||Be(y)&&f.nodeType!==pe.DOCUMENT_NODE)throw new H(k,"Unexpected node type "+y.nodeType+" for parent node type "+f.nodeType)}function K(f,y,R){var l=f.childNodes||[],P=y.childNodes||[];if(y.nodeType===pe.DOCUMENT_FRAGMENT_NODE){var j=P.filter(O);if(j.length>1||e(P,F))throw new H(k,"More than one element or text in fragment");if(j.length===1&&!G(f,R))throw new H(k,"Element in fragment can not be inserted before doctype")}if(O(y)&&!G(f,R))throw new H(k,"Only one element can be added and only after doctype");if(Be(y)){if(e(l,Be))throw new H(k,"Only one doctype is allowed");var w=e(l,O);if(R&&l.indexOf(w)<l.indexOf(R))throw new H(k,"Doctype can only be inserted before an element");if(!R&&w)throw new H(k,"Doctype can not be appended since element is present")}}function le(f,y,R){var l=f.childNodes||[],P=y.childNodes||[];if(y.nodeType===pe.DOCUMENT_FRAGMENT_NODE){var j=P.filter(O);if(j.length>1||e(P,F))throw new H(k,"More than one element or text in fragment");if(j.length===1&&!te(f,R))throw new H(k,"Element in fragment can not be inserted before doctype")}if(O(y)&&!te(f,R))throw new H(k,"Only one element can be added and only after doctype");if(Be(y)){let Z=function(Ce){return Be(Ce)&&Ce!==R};var z=Z;if(e(l,Z))throw new H(k,"Only one doctype is allowed");var w=e(l,O);if(R&&l.indexOf(w)<l.indexOf(R))throw new H(k,"Doctype can only be inserted before an element")}}function oe(f,y,R,l){J(f,y,R),f.nodeType===pe.DOCUMENT_NODE&&(l||K)(f,y,R);var P=y.parentNode;if(P&&P.removeChild(y),y.nodeType===_){var j=y.firstChild;if(j==null)return y;var w=y.lastChild}else j=w=y;var z=R?R.previousSibling:f.lastChild;j.previousSibling=z,w.nextSibling=R,z?z.nextSibling=j:f.firstChild=j,R==null?f.lastChild=w:R.previousSibling=w;do j.parentNode=f;while(j!==w&&(j=j.nextSibling));return We(f.ownerDocument||f,f),y.nodeType==_&&(y.firstChild=y.lastChild=null),y}function ae(f,y){return y.parentNode&&y.parentNode.removeChild(y),y.parentNode=f,y.previousSibling=f.lastChild,y.nextSibling=null,y.previousSibling?y.previousSibling.nextSibling=y:f.firstChild=y,f.lastChild=y,We(f.ownerDocument,f,y),y}Ne.prototype={nodeName:"#document",nodeType:x,doctype:null,documentElement:null,_inc:1,insertBefore:function(f,y){if(f.nodeType==_){for(var R=f.firstChild;R;){var l=R.nextSibling;this.insertBefore(R,y),R=l}return f}return oe(this,f,y),f.ownerDocument=this,this.documentElement===null&&f.nodeType===d&&(this.documentElement=f),f},removeChild:function(f){return this.documentElement==f&&(this.documentElement=null),Re(this,f)},replaceChild:function(f,y){oe(this,f,y,le),f.ownerDocument=this,y&&this.removeChild(y),O(f)&&(this.documentElement=f)},importNode:function(f,y){return de(this,f,y)},getElementById:function(f){var y=null;return Pe(this.documentElement,function(R){if(R.nodeType==d&&R.getAttribute("id")==f)return y=R,!0}),y},getElementsByClassName:function(f){var y=a(f);return new ce(this,function(R){var l=[];return y.length>0&&Pe(R.documentElement,function(P){if(P!==R&&P.nodeType===d){var j=P.getAttribute("class");if(j){var w=f===j;if(!w){var z=a(j);w=y.every(o(z))}w&&l.push(P)}}}),l})},createElement:function(f){var y=new X;y.ownerDocument=this,y.nodeName=f,y.tagName=f,y.localName=f,y.childNodes=new Y;var R=y.attributes=new me;return R._ownerElement=y,y},createDocumentFragment:function(){var f=new lt;return f.ownerDocument=this,f.childNodes=new Y,f},createTextNode:function(f){var y=new Ae;return y.ownerDocument=this,y.appendData(f),y},createComment:function(f){var y=new Te;return y.ownerDocument=this,y.appendData(f),y},createCDATASection:function(f){var y=new Ie;return y.ownerDocument=this,y.appendData(f),y},createProcessingInstruction:function(f,y){var R=new at;return R.ownerDocument=this,R.tagName=R.nodeName=R.target=f,R.nodeValue=R.data=y,R},createAttribute:function(f){var y=new fe;return y.ownerDocument=this,y.name=f,y.nodeName=f,y.localName=f,y.specified=!0,y},createEntityReference:function(f){var y=new Xe;return y.ownerDocument=this,y.nodeName=f,y},createElementNS:function(f,y){var R=new X,l=y.split(":"),P=R.attributes=new me;return R.childNodes=new Y,R.ownerDocument=this,R.nodeName=y,R.tagName=y,R.namespaceURI=f,l.length==2?(R.prefix=l[0],R.localName=l[1]):R.localName=y,P._ownerElement=R,R},createAttributeNS:function(f,y){var R=new fe,l=y.split(":");return R.ownerDocument=this,R.nodeName=y,R.name=y,R.namespaceURI=f,R.specified=!0,l.length==2?(R.prefix=l[0],R.localName=l[1]):R.localName=y,R}},h(Ne,pe);function X(){this._nsMap={}}X.prototype={nodeType:d,hasAttribute:function(f){return this.getAttributeNode(f)!=null},getAttribute:function(f){var y=this.getAttributeNode(f);return y&&y.value||""},getAttributeNode:function(f){return this.attributes.getNamedItem(f)},setAttribute:function(f,y){var R=this.ownerDocument.createAttribute(f);R.value=R.nodeValue=""+y,this.setAttributeNode(R)},removeAttribute:function(f){var y=this.getAttributeNode(f);y&&this.removeAttributeNode(y)},appendChild:function(f){return f.nodeType===_?this.insertBefore(f,null):ae(this,f)},setAttributeNode:function(f){return this.attributes.setNamedItem(f)},setAttributeNodeNS:function(f){return this.attributes.setNamedItemNS(f)},removeAttributeNode:function(f){return this.attributes.removeNamedItem(f.nodeName)},removeAttributeNS:function(f,y){var R=this.getAttributeNodeNS(f,y);R&&this.removeAttributeNode(R)},hasAttributeNS:function(f,y){return this.getAttributeNodeNS(f,y)!=null},getAttributeNS:function(f,y){var R=this.getAttributeNodeNS(f,y);return R&&R.value||""},setAttributeNS:function(f,y,R){var l=this.ownerDocument.createAttributeNS(f,y);l.value=l.nodeValue=""+R,this.setAttributeNode(l)},getAttributeNodeNS:function(f,y){return this.attributes.getNamedItemNS(f,y)},getElementsByTagName:function(f){return new ce(this,function(y){var R=[];return Pe(y,function(l){l!==y&&l.nodeType==d&&(f==="*"||l.tagName==f)&&R.push(l)}),R})},getElementsByTagNameNS:function(f,y){return new ce(this,function(R){var l=[];return Pe(R,function(P){P!==R&&P.nodeType===d&&(f==="*"||P.namespaceURI===f)&&(y==="*"||P.localName==y)&&l.push(P)}),l})}},Ne.prototype.getElementsByTagName=X.prototype.getElementsByTagName,Ne.prototype.getElementsByTagNameNS=X.prototype.getElementsByTagNameNS,h(X,pe);function fe(){}fe.prototype.nodeType=b,h(fe,pe);function ie(){}ie.prototype={data:"",substringData:function(f,y){return this.data.substring(f,f+y)},appendData:function(f){f=this.data+f,this.nodeValue=this.data=f,this.length=f.length},insertData:function(f,y){this.replaceData(f,0,y)},appendChild:function(f){throw new Error(L[k])},deleteData:function(f,y){this.replaceData(f,y,"")},replaceData:function(f,y,R){var l=this.data.substring(0,f),P=this.data.substring(f+y);R=l+R+P,this.nodeValue=this.data=R,this.length=R.length}},h(ie,pe);function Ae(){}Ae.prototype={nodeName:"#text",nodeType:v,splitText:function(f){var y=this.data,R=y.substring(f);y=y.substring(0,f),this.data=this.nodeValue=y,this.length=y.length;var l=this.ownerDocument.createTextNode(R);return this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling),l}},h(Ae,ie);function Te(){}Te.prototype={nodeName:"#comment",nodeType:m},h(Te,ie);function Ie(){}Ie.prototype={nodeName:"#cdata-section",nodeType:N},h(Ie,ie);function Oe(){}Oe.prototype.nodeType=T,h(Oe,pe);function ze(){}ze.prototype.nodeType=C,h(ze,pe);function tt(){}tt.prototype.nodeType=p,h(tt,pe);function Xe(){}Xe.prototype.nodeType=E,h(Xe,pe);function lt(){}lt.prototype.nodeName="#document-fragment",lt.prototype.nodeType=_,h(lt,pe);function at(){}at.prototype.nodeType=g,h(at,pe);function rt(){}rt.prototype.serializeToString=function(f,y,R){return pt.call(f,y,R)},pe.prototype.toString=pt;function pt(f,y){var R=[],l=this.nodeType==9&&this.documentElement||this,P=l.prefix,j=l.namespaceURI;if(j&&P==null){var P=l.lookupPrefix(j);if(P==null)var w=[{namespace:j,prefix:null}]}return se(this,R,f,y,w),R.join("")}function ft(f,y,R){var l=f.prefix||"",P=f.namespaceURI;if(!P||l==="xml"&&P===t.XML||P===t.XMLNS)return!1;for(var j=R.length;j--;){var w=R[j];if(w.prefix===l)return w.namespace!==P}return!0}function D(f,y,R){f.push(" ",y,'="',R.replace(/[<&"]/g,we),'"')}function se(f,y,R,l,P){if(P||(P=[]),l)if(f=l(f),f){if(typeof f=="string"){y.push(f);return}}else return;switch(f.nodeType){case d:var j=f.attributes,w=j.length,Ve=f.firstChild,z=f.tagName;R=t.isHTML(f.namespaceURI)||R;var Z=z;if(!R&&!f.prefix&&f.namespaceURI){for(var Ce,be=0;be<j.length;be++)if(j.item(be).name==="xmlns"){Ce=j.item(be).value;break}if(!Ce)for(var Ee=P.length-1;Ee>=0;Ee--){var Le=P[Ee];if(Le.prefix===""&&Le.namespace===f.namespaceURI){Ce=Le.namespace;break}}if(Ce!==f.namespaceURI)for(var Ee=P.length-1;Ee>=0;Ee--){var Le=P[Ee];if(Le.namespace===f.namespaceURI){Le.prefix&&(Z=Le.prefix+":"+z);break}}}y.push("<",Z);for(var mt=0;mt<w;mt++){var He=j.item(mt);He.prefix=="xmlns"?P.push({prefix:He.localName,namespace:He.value}):He.nodeName=="xmlns"&&P.push({prefix:"",namespace:He.value})}for(var mt=0;mt<w;mt++){var He=j.item(mt);if(ft(He,R,P)){var Fe=He.prefix||"",nt=He.namespaceURI;D(y,Fe?"xmlns:"+Fe:"xmlns",nt),P.push({prefix:Fe,namespace:nt})}se(He,y,R,l,P)}if(z===Z&&ft(f,R,P)){var Fe=f.prefix||"",nt=f.namespaceURI;D(y,Fe?"xmlns:"+Fe:"xmlns",nt),P.push({prefix:Fe,namespace:nt})}if(Ve||R&&!/^(?:meta|link|img|br|hr|input)$/i.test(z)){if(y.push(">"),R&&/^script$/i.test(z))for(;Ve;)Ve.data?y.push(Ve.data):se(Ve,y,R,l,P.slice()),Ve=Ve.nextSibling;else for(;Ve;)se(Ve,y,R,l,P.slice()),Ve=Ve.nextSibling;y.push("</",Z,">")}else y.push("/>");return;case x:case _:for(var Ve=f.firstChild;Ve;)se(Ve,y,R,l,P.slice()),Ve=Ve.nextSibling;return;case b:return D(y,f.name,f.value);case v:return y.push(f.data.replace(/[<&]/g,we).replace(/]]>/g,"]]&gt;"));case N:return y.push("<![CDATA[",f.data,"]]>");case m:return y.push("<!--",f.data,"-->");case T:var yt=f.publicId,kt=f.systemId;if(y.push("<!DOCTYPE ",f.name),yt)y.push(" PUBLIC ",yt),kt&&kt!="."&&y.push(" ",kt),y.push(">");else if(kt&&kt!=".")y.push(" SYSTEM ",kt,">");else{var Qt=f.internalSubset;Qt&&y.push(" [",Qt,"]"),y.push(">")}return;case g:return y.push("<?",f.target," ",f.data,"?>");case E:return y.push("&",f.nodeName,";");default:y.push("??",f.nodeName)}}function de(f,y,R){var l;switch(y.nodeType){case d:l=y.cloneNode(!1),l.ownerDocument=f;case _:break;case b:R=!0;break}if(l||(l=y.cloneNode(!1)),l.ownerDocument=f,l.parentNode=null,R)for(var P=y.firstChild;P;)l.appendChild(de(f,P,R)),P=P.nextSibling;return l}function De(f,y,R){var l=new y.constructor;for(var P in y)if(Object.prototype.hasOwnProperty.call(y,P)){var j=y[P];typeof j!="object"&&j!=l[P]&&(l[P]=j)}switch(y.childNodes&&(l.childNodes=new Y),l.ownerDocument=f,l.nodeType){case d:var w=y.attributes,z=l.attributes=new me,Z=w.length;z._ownerElement=l;for(var Ce=0;Ce<Z;Ce++)l.setAttributeNode(De(f,w.item(Ce),!0));break;case b:R=!0}if(R)for(var be=y.firstChild;be;)l.appendChild(De(f,be,R)),be=be.nextSibling;return l}function U(f,y,R){f[y]=R}try{if(Object.defineProperty){let f=function(y){switch(y.nodeType){case d:case _:var R=[];for(y=y.firstChild;y;)y.nodeType!==7&&y.nodeType!==8&&R.push(f(y)),y=y.nextSibling;return R.join("");default:return y.nodeValue}};var ee=f;Object.defineProperty(ce.prototype,"length",{get:function(){return ue(this),this.$$length}}),Object.defineProperty(pe.prototype,"textContent",{get:function(){return f(this)},set:function(y){switch(this.nodeType){case d:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(y||String(y))&&this.appendChild(this.ownerDocument.createTextNode(y));break;default:this.data=y,this.value=y,this.nodeValue=y}}}),U=function(y,R,l){y["$$"+R]=l}}}catch{}return ti.DocumentType=Oe,ti.DOMException=H,ti.DOMImplementation=ke,ti.Element=X,ti.Node=pe,ti.NodeList=Y,ti.XMLSerializer=rt,ti}var Ti={},Bn={},Ya;function Qh(){return Ya||(Ya=1,function(r){var e=Xr().freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),r.entityMap=r.HTML_ENTITIES}(Bn)),Bn}var Er={},Xa;function ec(){if(Xa)return Er;Xa=1;var r=Xr().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),n=0,s=1,a=2,o=3,u=4,h=5,c=6,d=7;function b(k,B){this.message=k,this.locator=B,Error.captureStackTrace&&Error.captureStackTrace(this,b)}b.prototype=new Error,b.prototype.name=b.name;function v(){}v.prototype={parse:function(k,B,$){var H=this.domBuilder;H.startDocument(),T(B,B={}),N(k,B,$,H,this.errorHandler),H.endDocument()}};function N(k,B,$,H,Y){function ce(X){if(X>65535){X-=65536;var fe=55296+(X>>10),ie=56320+(X&1023);return String.fromCharCode(fe,ie)}else return String.fromCharCode(X)}function ue(X){var fe=X.slice(1,-1);return fe in $?$[fe]:fe.charAt(0)==="#"?ce(parseInt(fe.substr(1).replace("x","0x"))):(Y.error("entity not found:"+X),X)}function me(X){if(X>Ne){var fe=k.substring(Ne,X).replace(/&#?\w+;/g,ue);pe&&re(Ne),H.characters(fe,0,X-Ne),Ne=X}}function re(X,fe){for(;X>=ye&&(fe=ke.exec(k));)Q=fe.index,ye=Q+fe[0].length,pe.lineNumber++;pe.columnNumber=X-Q+1}for(var Q=0,ye=0,ke=/.*(?:\r\n?|\n)|.*$/g,pe=H.locator,we=[{currentNSMap:B}],Pe={},Ne=0;;){try{var Ue=k.indexOf("<",Ne);if(Ue<0){if(!k.substr(Ne).match(/^\s*$/)){var Ke=H.doc,We=Ke.createTextNode(k.substr(Ne));Ke.appendChild(We),H.currentElement=We}return}switch(Ue>Ne&&me(Ue),k.charAt(Ue+1)){case"/":var J=k.indexOf(">",Ue+3),Re=k.substring(Ue+2,J).replace(/[ \t\n\r]+$/g,""),$e=we.pop();J<0?(Re=k.substring(Ue+2).replace(/[\s<].*/,""),Y.error("end tag name: "+Re+" is not complete:"+$e.tagName),J=Ue+1+Re.length):Re.match(/\s</)&&(Re=Re.replace(/[\s<].*/,""),Y.error("end tag name: "+Re+" maybe not complete"),J=Ue+1+Re.length);var Ye=$e.localNSMap,Be=$e.tagName==Re,O=Be||$e.tagName&&$e.tagName.toLowerCase()==Re.toLowerCase();if(O){if(H.endElement($e.uri,$e.localName,Re),Ye)for(var F in Ye)Object.prototype.hasOwnProperty.call(Ye,F)&&H.endPrefixMapping(F);Be||Y.fatalError("end tag name: "+Re+" is not match the current start tagName:"+$e.tagName)}else we.push($e);J++;break;case"?":pe&&re(Ue),J=C(k,Ue,H);break;case"!":pe&&re(Ue),J=_(k,Ue,H,Y);break;default:pe&&re(Ue);var G=new I,te=we[we.length-1].currentNSMap,J=p(k,Ue,G,te,ue,Y),K=G.length;if(!G.closed&&x(k,J,G.tagName,Pe)&&(G.closed=!0,$.nbsp||Y.warning("unclosed xml attribute")),pe&&K){for(var le=E(pe,{}),oe=0;oe<K;oe++){var ae=G[oe];re(ae.offset),ae.locator=E(pe,{})}H.locator=le,g(G,H,te)&&we.push(G),H.locator=pe}else g(G,H,te)&&we.push(G);r.isHTML(G.uri)&&!G.closed?J=m(k,J,G.tagName,ue,H):J++}}catch(X){if(X instanceof b)throw X;Y.error("element parse error: "+X),J=-1}J>Ne?Ne=J:me(Math.max(Ue,Ne)+1)}}function E(k,B){return B.lineNumber=k.lineNumber,B.columnNumber=k.columnNumber,B}function p(k,B,$,H,Y,ce){function ue(pe,we,Pe){$.attributeNames.hasOwnProperty(pe)&&ce.fatalError("Attribute "+pe+" redefined"),$.addValue(pe,we,Pe)}for(var me,re,Q=++B,ye=n;;){var ke=k.charAt(Q);switch(ke){case"=":if(ye===s)me=k.slice(B,Q),ye=o;else if(ye===a)ye=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ye===o||ye===s)if(ye===s&&(ce.warning('attribute value must after "="'),me=k.slice(B,Q)),B=Q+1,Q=k.indexOf(ke,B),Q>0)re=k.slice(B,Q).replace(/&#?\w+;/g,Y),ue(me,re,B-1),ye=h;else throw new Error("attribute value no end '"+ke+"' match");else if(ye==u)re=k.slice(B,Q).replace(/&#?\w+;/g,Y),ue(me,re,B),ce.warning('attribute "'+me+'" missed start quot('+ke+")!!"),B=Q+1,ye=h;else throw new Error('attribute value must after "="');break;case"/":switch(ye){case n:$.setTagName(k.slice(B,Q));case h:case c:case d:ye=d,$.closed=!0;case u:case s:break;case a:$.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ce.error("unexpected end of input"),ye==n&&$.setTagName(k.slice(B,Q)),Q;case">":switch(ye){case n:$.setTagName(k.slice(B,Q));case h:case c:case d:break;case u:case s:re=k.slice(B,Q),re.slice(-1)==="/"&&($.closed=!0,re=re.slice(0,-1));case a:ye===a&&(re=me),ye==u?(ce.warning('attribute "'+re+'" missed quot(")!'),ue(me,re.replace(/&#?\w+;/g,Y),B)):((!r.isHTML(H[""])||!re.match(/^(?:disabled|checked|selected)$/i))&&ce.warning('attribute "'+re+'" missed value!! "'+re+'" instead!!'),ue(re,re,B));break;case o:throw new Error("attribute value missed!!")}return Q;case"":ke=" ";default:if(ke<=" ")switch(ye){case n:$.setTagName(k.slice(B,Q)),ye=c;break;case s:me=k.slice(B,Q),ye=a;break;case u:var re=k.slice(B,Q).replace(/&#?\w+;/g,Y);ce.warning('attribute "'+re+'" missed quot(")!!'),ue(me,re,B);case h:ye=c;break}else switch(ye){case a:$.tagName,(!r.isHTML(H[""])||!me.match(/^(?:disabled|checked|selected)$/i))&&ce.warning('attribute "'+me+'" missed value!! "'+me+'" instead2!!'),ue(me,me,B),B=Q,ye=s;break;case h:ce.warning('attribute space is required"'+me+'"!!');case c:ye=s,B=Q;break;case o:ye=u,B=Q;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}Q++}}function g(k,B,$){for(var H=k.tagName,Y=null,ke=k.length;ke--;){var ce=k[ke],ue=ce.qName,me=ce.value,pe=ue.indexOf(":");if(pe>0)var re=ce.prefix=ue.slice(0,pe),Q=ue.slice(pe+1),ye=re==="xmlns"&&Q;else Q=ue,re=null,ye=ue==="xmlns"&&"";ce.localName=Q,ye!==!1&&(Y==null&&(Y={},T($,$={})),$[ye]=Y[ye]=me,ce.uri=r.XMLNS,B.startPrefixMapping(ye,me))}for(var ke=k.length;ke--;){ce=k[ke];var re=ce.prefix;re&&(re==="xml"&&(ce.uri=r.XML),re!=="xmlns"&&(ce.uri=$[re||""]))}var pe=H.indexOf(":");pe>0?(re=k.prefix=H.slice(0,pe),Q=k.localName=H.slice(pe+1)):(re=null,Q=k.localName=H);var we=k.uri=$[re||""];if(B.startElement(we,Q,H,k),k.closed){if(B.endElement(we,Q,H),Y)for(re in Y)Object.prototype.hasOwnProperty.call(Y,re)&&B.endPrefixMapping(re)}else return k.currentNSMap=$,k.localNSMap=Y,!0}function m(k,B,$,H,Y){if(/^(?:script|textarea)$/i.test($)){var ce=k.indexOf("</"+$+">",B),ue=k.substring(B+1,ce);if(/[&<]/.test(ue))return/^script$/i.test($)?(Y.characters(ue,0,ue.length),ce):(ue=ue.replace(/&#?\w+;/g,H),Y.characters(ue,0,ue.length),ce)}return B+1}function x(k,B,$,H){var Y=H[$];return Y==null&&(Y=k.lastIndexOf("</"+$+">"),Y<B&&(Y=k.lastIndexOf("</"+$)),H[$]=Y),Y<B}function T(k,B){for(var $ in k)Object.prototype.hasOwnProperty.call(k,$)&&(B[$]=k[$])}function _(k,B,$,H){var Y=k.charAt(B+2);switch(Y){case"-":if(k.charAt(B+3)==="-"){var ce=k.indexOf("-->",B+4);return ce>B?($.comment(k,B+4,ce-B-4),ce+3):(H.error("Unclosed comment"),-1)}else return-1;default:if(k.substr(B+3,6)=="CDATA["){var ce=k.indexOf("]]>",B+9);return $.startCDATA(),$.characters(k,B+9,ce-B-9),$.endCDATA(),ce+3}var ue=L(k,B),me=ue.length;if(me>1&&/!doctype/i.test(ue[0][0])){var re=ue[1][0],Q=!1,ye=!1;me>3&&(/^public$/i.test(ue[2][0])?(Q=ue[3][0],ye=me>4&&ue[4][0]):/^system$/i.test(ue[2][0])&&(ye=ue[3][0]));var ke=ue[me-1];return $.startDTD(re,Q,ye),$.endDTD(),ke.index+ke[0].length}}return-1}function C(k,B,$){var H=k.indexOf("?>",B);if(H){var Y=k.substring(B,H).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Y?(Y[0].length,$.processingInstruction(Y[1],Y[2]),H+2):-1}return-1}function I(){this.attributeNames={}}I.prototype={setTagName:function(k){if(!i.test(k))throw new Error("invalid tagName:"+k);this.tagName=k},addValue:function(k,B,$){if(!i.test(k))throw new Error("invalid attribute:"+k);this.attributeNames[k]=this.length,this[this.length++]={qName:k,value:B,offset:$}},length:0,getLocalName:function(k){return this[k].localName},getLocator:function(k){return this[k].locator},getQName:function(k){return this[k].qName},getURI:function(k){return this[k].uri},getValue:function(k){return this[k].value}};function L(k,B){var $,H=[],Y=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Y.lastIndex=B,Y.exec(k);$=Y.exec(k);)if(H.push($),$[1])return H}return Er.XMLReader=v,Er.ParseError=b,Er}var Ka;function tc(){if(Ka)return Ti;Ka=1;var r=Xr(),e=Su(),t=Qh(),i=ec(),n=e.DOMImplementation,s=r.NAMESPACE,a=i.ParseError,o=i.XMLReader;function u(E){this.options=E||{locator:{}}}u.prototype.parseFromString=function(E,p){var g=this.options,m=new o,x=g.domBuilder||new c,T=g.errorHandler,_=g.locator,C=g.xmlns||{},I=/\/x?html?$/.test(p),L=I?t.HTML_ENTITIES:t.XML_ENTITIES;return _&&x.setDocumentLocator(_),m.errorHandler=h(T,x,_),m.domBuilder=g.domBuilder||x,I&&(C[""]=s.HTML),C.xml=C.xml||s.XML,E&&typeof E=="string"?m.parse(E,C,L):m.errorHandler.error("invalid doc source"),x.doc};function h(E,p,g){if(!E){if(p instanceof c)return p;E=p}var m={},x=E instanceof Function;g=g||{};function T(_){var C=E[_];!C&&x&&(C=E.length==2?function(I){E(_,I)}:E),m[_]=C&&function(I){C("[xmldom "+_+"]	"+I+b(g))}||function(){}}return T("warning"),T("error"),T("fatalError"),m}function c(){this.cdata=!1}function d(E,p){p.lineNumber=E.lineNumber,p.columnNumber=E.columnNumber}c.prototype={startDocument:function(){this.doc=new n().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(E,p,g,m){var x=this.doc,T=x.createElementNS(E,g||p),_=m.length;N(this,T),this.currentElement=T,this.locator&&d(this.locator,T);for(var C=0;C<_;C++){var E=m.getURI(C),I=m.getValue(C),g=m.getQName(C),L=x.createAttributeNS(E,g);this.locator&&d(m.getLocator(C),L),L.value=L.nodeValue=I,T.setAttributeNode(L)}},endElement:function(E,p,g){var m=this.currentElement;m.tagName,this.currentElement=m.parentNode},startPrefixMapping:function(E,p){},endPrefixMapping:function(E){},processingInstruction:function(E,p){var g=this.doc.createProcessingInstruction(E,p);this.locator&&d(this.locator,g),N(this,g)},ignorableWhitespace:function(E,p,g){},characters:function(E,p,g){if(E=v.apply(this,arguments),E){if(this.cdata)var m=this.doc.createCDATASection(E);else var m=this.doc.createTextNode(E);this.currentElement?this.currentElement.appendChild(m):/^\s*$/.test(E)&&this.doc.appendChild(m),this.locator&&d(this.locator,m)}},skippedEntity:function(E){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(E){(this.locator=E)&&(E.lineNumber=0)},comment:function(E,p,g){E=v.apply(this,arguments);var m=this.doc.createComment(E);this.locator&&d(this.locator,m),N(this,m)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(E,p,g){var m=this.doc.implementation;if(m&&m.createDocumentType){var x=m.createDocumentType(E,p,g);this.locator&&d(this.locator,x),N(this,x),this.doc.doctype=x}},warning:function(E){console.warn("[xmldom warning]	"+E,b(this.locator))},error:function(E){console.error("[xmldom error]	"+E,b(this.locator))},fatalError:function(E){throw new a(E,this.locator)}};function b(E){if(E)return`
@`+(E.systemId||"")+"#[line:"+E.lineNumber+",col:"+E.columnNumber+"]"}function v(E,p,g){return typeof E=="string"?E.substr(p,g):E.length>=p+g||p?new java.lang.String(E,p,g)+"":E}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(E){c.prototype[E]=function(){return null}});function N(E,p){E.currentElement?E.currentElement.appendChild(p):E.doc.appendChild(p)}return Ti.__DOMHandler=c,Ti.DOMParser=u,Ti.DOMImplementation=e.DOMImplementation,Ti.XMLSerializer=e.XMLSerializer,Ti}var Ja;function ic(){if(Ja)return $i;Ja=1;var r=Su();return $i.DOMImplementation=r.DOMImplementation,$i.XMLSerializer=r.XMLSerializer,$i.DOMParser=tc().DOMParser,$i}var Tu=ic();const js=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,rc=1,nc=3,Ru=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function Kr(){var r=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(t=="x"?i:i&7|8).toString(16)});return e}function sc(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function Nu(r){return!!(r&&r.nodeType==1)}function ct(r){return!isNaN(parseFloat(r))&&isFinite(r)}function ku(r){let e=parseFloat(r);return ct(r)===!1?!1:typeof r=="string"&&r.indexOf(".")>-1?!0:Math.floor(e)!==e}function Ii(r){var e=["Webkit","webkit","Moz","O","ms"],t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],i=r.toLowerCase(),n=e.length;if(typeof document>"u"||typeof document.body.style[i]<"u")return r;for(var s=0;s<n;s++)if(typeof document.body.style[t[s]+i]<"u")return t[s]+i;return r}function Iu(r){for(var e=1,t=arguments.length;e<t;e++){var i=arguments[e];for(var n in i)r[n]===void 0&&(r[n]=i[n])}return r}function wt(r){var e=[].slice.call(arguments,1);return e.forEach(function(t){t&&Object.getOwnPropertyNames(t).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}),r}function ac(r,e,t){var i=qi(r,e,t);return e.splice(i,0,r),i}function qi(r,e,t,i,n){var s=i||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(h,c){if(h>c)return 1;if(h<c)return-1;if(h==c)return 0}),a-s<=0?o:(u=t(e[o],r),a-s===1?u>=0?o:o+1:u===0?o:u===-1?qi(r,e,t,o,a):qi(r,e,t,s,o))}function Lr(r,e,t,i,n){var s=i||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(h,c){if(h>c)return 1;if(h<c)return-1;if(h==c)return 0}),a-s<=0?-1:(u=t(e[o],r),a-s===1?u===0?o:-1:u===0?o:u===-1?Lr(r,e,t,o,a):Lr(r,e,t,s,o))}function Sr(r){var e=window.getComputedStyle(r),t=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),i.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function Br(r){var e=window.getComputedStyle(r),t=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),i.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function gs(r){let e,t=r.ownerDocument;if(r.nodeType==Node.TEXT_NODE){let i=t.createRange();i.selectNodeContents(r),e=i.getBoundingClientRect()}else e=r.getBoundingClientRect();return e}function Fr(){var r=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:r,bottom:e,width:r,height:e}}function Ws(r,e){for(var t=r.parentNode,i=t.childNodes,n,s=-1,a=0;a<i.length&&(n=i[a],n.nodeType===e&&s++,n!=r);a++);return s}function oc(r){return Ws(r,nc)}function Ou(r){return Ws(r,rc)}function cr(r){return["xml","opf","ncx"].indexOf(r)>-1}function Lu(r,e){return new Blob([r],{type:e})}function Pr(r,e){var t,i=Lu(r,e);return t=Ru.createObjectURL(i),t}function Bu(r){return Ru.revokeObjectURL(r)}function vs(r,e){var t,i;if(typeof r=="string")return t=btoa(r),i="data:"+e+";base64,"+t,i}function Fu(r){return Object.prototype.toString.call(r).slice(8,-1)}function Xt(r,e,t){var i,n;return typeof DOMParser>"u"||t?n=Tu.DOMParser:n=DOMParser,r.charCodeAt(0)===65279&&(r=r.slice(1)),i=new n().parseFromString(r,e),i}function st(r,e){var t;if(!r)throw new Error("No Element Provided");if(typeof r.querySelector<"u")return r.querySelector(e);if(t=r.getElementsByTagName(e),t.length)return t[0]}function oi(r,e){return typeof r.querySelector<"u"?r.querySelectorAll(e):r.getElementsByTagName(e)}function Oi(r,e,t){var i,n;if(typeof r.querySelector<"u"){e+="[";for(var s in t)e+=s+"~='"+t[s]+"'";return e+="]",r.querySelector(e)}else if(i=r.getElementsByTagName(e),n=Array.prototype.slice.call(i,0).filter(function(a){for(var o in t)if(a.getAttribute(o)===t[o])return!0;return!1}),n)return n[0]}function zr(r,e){var t=r.ownerDocument||r;typeof t.createTreeWalker<"u"?Pu(r,e,NodeFilter.SHOW_TEXT):Hs(r,function(i){i&&i.nodeType===3&&e(i)})}function Pu(r,e,t){var i=document.createTreeWalker(r,t,null,!1);let n;for(;n=i.nextNode();)e(n)}function Hs(r,e){if(e(r))return!0;if(r=r.firstChild,r)do{if(Hs(r,e))return!0;r=r.nextSibling}while(r)}function zu(r){return new Promise(function(e,t){var i=new FileReader;i.readAsDataURL(r),i.onloadend=function(){e(i.result)}})}function Ge(){this.resolve=null,this.reject=null,this.id=Kr(),this.promise=new Promise((r,e)=>{this.resolve=r,this.reject=e}),Object.freeze(this)}function Mr(r,e,t){var i;if(typeof r.querySelector<"u"&&(i=r.querySelector(`${e}[*|type="${t}"]`)),!i||i.length===0){i=oi(r,e);for(var n=0;n<i.length;n++)if(i[n].getAttributeNS("http://www.idpf.org/2007/ops","type")===t||i[n].getAttribute("epub:type")===t)return i[n]}else return i}function ms(r){for(var e=[],t=r.childNodes,i=0;i<t.length;i++){let n=t[i];n.nodeType===1&&e.push(n)}return e}function ys(r){for(var e=[r];r;r=r.parentNode)e.unshift(r);return e}function Li(r,e,t){for(var i=[],n=r.childNodes,s=0;s<n.length;s++){let a=n[s];if(a.nodeType===1&&a.nodeName.toLowerCase()===e){if(t)return a;i.push(a)}}if(!t)return i}function uc(r,e){let t;if(!(r===null||e===""))for(t=r.parentNode;t.nodeType===1;){if(t.tagName.toLowerCase()===e)return t;t=t.parentNode}}class Mu{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,i=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,i),this.setEnd(t,i+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let t=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}_commonAncestorContainer(e,t){var i=ys(e||this.startContainer),n=ys(t||this.endContainer);if(i[0]==n[0]){for(var s=0;s<i.length;s++)if(i[s]!=n[s])return i[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const lc=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:Mu,blob2base64:zu,borders:Br,bounds:Sr,createBase64Url:vs,createBlob:Lu,createBlobUrl:Pr,defaults:Iu,defer:Ge,documentHeight:sc,extend:wt,filterChildren:Li,findChildren:ms,getParentByTagName:uc,indexOfElementNode:Ou,indexOfNode:Ws,indexOfSorted:Lr,indexOfTextNode:oc,insert:ac,isElement:Nu,isFloat:ku,isNumber:ct,isXml:cr,locationOf:qi,nodeBounds:gs,parents:ys,parse:Xt,prefixed:Ii,qs:st,qsa:oi,qsp:Oi,querySelectorByType:Mr,requestAnimationFrame:js,revokeBlobUrl:Bu,sprint:zr,treeWalker:Pu,type:Fu,uuid:Kr,walk:Hs,windowBounds:Fr},Symbol.toStringTag,{value:"Module"}));var Fn,Qa;function fc(){if(Qa)return Fn;if(Qa=1,!r)var r={cwd:function(){return"/"}};function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+s)}function t(s,a){for(var o="",u=-1,h=0,c,d=0;d<=s.length;++d){if(d<s.length)c=s.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(u===d-1||h===1))if(u!==d-1&&h===2){if(o.length<2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){for(var b=o.length-1,v=b;v>=0&&o.charCodeAt(v)!==47;--v);if(v!==b){v===-1?o="":o=o.slice(0,v),u=d,h=0;continue}}else if(o.length===2||o.length===1){o="",u=d,h=0;continue}}a&&(o.length>0?o+="/..":o="..")}else o.length>0?o+="/"+s.slice(u+1,d):o=s.slice(u+1,d);u=d,h=0}else c===46&&h!==-1?++h:h=-1}return o}function i(s,a){var o=a.dir||a.root,u=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+u:o+s+u:u}var n={resolve:function(){for(var a="",o=!1,u,h=arguments.length-1;h>=-1&&!o;h--){var c;h>=0?c=arguments[h]:(u===void 0&&(u=r.cwd()),c=u),e(c),c.length!==0&&(a=c+"/"+a,o=c.charCodeAt(0)===47)}return a=t(a,!o),o?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(e(a),a.length===0)return".";var o=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return a=t(a,!o),a.length===0&&!o&&(a="."),a.length>0&&u&&(a+="/"),o?"/"+a:a},isAbsolute:function(a){return e(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,o=0;o<arguments.length;++o){var u=arguments[o];e(u),u.length>0&&(a===void 0?a=u:a+="/"+u)}return a===void 0?".":n.normalize(a)},relative:function(a,o){if(e(a),e(o),a===o||(a=n.resolve(a),o=n.resolve(o),a===o))return"";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var h=a.length,c=h-u,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var b=o.length,v=b-d,N=c<v?c:v,E=-1,p=0;p<=N;++p){if(p===N){if(v>N){if(o.charCodeAt(d+p)===47)return o.slice(d+p+1);if(p===0)return o.slice(d+p)}else c>N&&(a.charCodeAt(u+p)===47?E=p:p===0&&(E=0));break}var g=a.charCodeAt(u+p),m=o.charCodeAt(d+p);if(g!==m)break;g===47&&(E=p)}var x="";for(p=u+E+1;p<=h;++p)(p===h||a.charCodeAt(p)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+o.slice(d+E):(d+=E,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(e(a),a.length===0)return".";for(var o=a.charCodeAt(0),u=o===47,h=-1,c=!0,d=a.length-1;d>=1;--d)if(o=a.charCodeAt(d),o===47){if(!c){h=d;break}}else c=!1;return h===-1?u?"/":".":u&&h===1?"//":a.slice(0,h)},basename:function(a,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(a);var u=0,h=-1,c=!0,d;if(o!==void 0&&o.length>0&&o.length<=a.length){if(o.length===a.length&&o===a)return"";var b=o.length-1,v=-1;for(d=a.length-1;d>=0;--d){var N=a.charCodeAt(d);if(N===47){if(!c){u=d+1;break}}else v===-1&&(c=!1,v=d+1),b>=0&&(N===o.charCodeAt(b)?--b===-1&&(h=d):(b=-1,h=v))}return u===h?h=v:h===-1&&(h=a.length),a.slice(u,h)}else{for(d=a.length-1;d>=0;--d)if(a.charCodeAt(d)===47){if(!c){u=d+1;break}}else h===-1&&(c=!1,h=d+1);return h===-1?"":a.slice(u,h)}},extname:function(a){e(a);for(var o=-1,u=0,h=-1,c=!0,d=0,b=a.length-1;b>=0;--b){var v=a.charCodeAt(b);if(v===47){if(!c){u=b+1;break}continue}h===-1&&(c=!1,h=b+1),v===46?o===-1?o=b:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||h===-1||d===0||d===1&&o===h-1&&o===u+1?"":a.slice(o,h)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof a);return i("/",a)},parse:function(a){e(a);var o={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return o;var u=a.charCodeAt(0),h=u===47,c;h?(o.root="/",c=1):c=0;for(var d=-1,b=0,v=-1,N=!0,E=a.length-1,p=0;E>=c;--E){if(u=a.charCodeAt(E),u===47){if(!N){b=E+1;break}continue}v===-1&&(N=!1,v=E+1),u===46?d===-1?d=E:p!==1&&(p=1):d!==-1&&(p=-1)}return d===-1||v===-1||p===0||p===1&&d===v-1&&d===b+1?v!==-1&&(b===0&&h?o.base=o.name=a.slice(1,v):o.base=o.name=a.slice(b,v)):(b===0&&h?(o.name=a.slice(1,d),o.base=a.slice(1,v)):(o.name=a.slice(b,d),o.base=a.slice(b,v)),o.ext=a.slice(d,v)),b>0?o.dir=a.slice(0,b-1):h&&(o.dir="/"),o},sep:"/",delimiter:":",posix:null};return Fn=n,Fn}var hc=fc();const di=Wi(hc);class ui{constructor(e){var t,i;t=e.indexOf("://"),t>-1&&(e=new URL(e).pathname),i=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=i.dir+"/",this.filename=i.base,this.extension=i.ext.slice(1)}parse(e){return di.parse(e)}isAbsolute(e){return di.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return di.resolve(this.directory,e)}relative(e){var t=e&&e.indexOf("://")>-1;return t?e:di.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class qt{constructor(e,t){var i=e.indexOf("://")>-1,n=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=t,!i&&t!==!1&&typeof t!="string"&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,n=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new ui(this.base),n=s.resolve(n))}this.Path=new ui(n),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t=e.indexOf("://")>-1,i;return t?e:(i=di.resolve(this.directory,e),this.origin+i)}relative(e){return di.relative(e,this.directory)}toString(){return this.href}}const Ri=1,Ft=3,cc=9;class Ze{constructor(e,t,i){var n;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Ze))return new Ze(e,t,i);if(typeof t=="string"?this.base=this.parseComponent(t):typeof t=="object"&&t.steps&&(this.base=t),n=this.checkType(e),n==="string")return this.str=e,wt(this,this.parse(e));if(n==="range")return wt(this,this.fromRange(e,this.base,i));if(n==="node")return wt(this,this.fromNode(e,this.base,i));if(n==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(Fu(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Ze?"EpubCFI":!1}parse(e){var t={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},i,n,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),i=this.getChapterComponent(e),i?(t.base=this.parseComponent(i),n=this.getPathComponent(e),t.path=this.parseComponent(n),s=this.getRange(e),s&&(t.range=!0,t.start=this.parseComponent(s[0]),t.end=this.parseComponent(s[1])),t.spinePos=t.base.steps[1].index,t):{spinePos:-1})}parseComponent(e){var t={steps:[],terminal:{offset:null,assertion:null}},i=e.split(":"),n=i[0].split("/"),s;return i.length>1&&(s=i[1],t.terminal=this.parseTerminal(s)),n[0]===""&&n.shift(),t.steps=n.map((function(a){return this.parseStep(a)}).bind(this)),t}parseStep(e){var t,i,n,s,a;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(a=s[1]),i=parseInt(e),!isNaN(i))return i%2===0?(t="element",n=i/2-1):(t="text",n=(i-1)/2),{type:t,index:n,id:a||null}}parseTerminal(e){var t,i,n=e.match(/\[(.*)\]/);return n&&n[1]?(t=parseInt(e.split("[")[0]),i=n[1]):t=parseInt(e),ct(t)||(t=null),{offset:t,assertion:i}}getChapterComponent(e){var t=e.split("!");return t[0]}getPathComponent(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}getRange(e){var t=e.split(",");return t.length===3?[t[1],t[2]]:!1}getCharecterOffsetComponent(e){var t=e.split(":");return t[1]||""}joinSteps(e){return e?e.map(function(t){var i="";return t.type==="element"&&(i+=(t.index+1)*2),t.type==="text"&&(i+=1+2*t.index),t.id&&(i+="["+t.id+"]"),i}).join("/"):""}segmentString(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(t+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(t+="["+e.terminal.assertion+"]"),t}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,t){var i,n,s,a;if(typeof e=="string"&&(e=new Ze(e)),typeof t=="string"&&(t=new Ze(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return-1;e.range?(i=e.path.steps.concat(e.start.steps),s=e.start.terminal):(i=e.path.steps,s=e.path.terminal),t.range?(n=t.path.steps.concat(t.start.steps),a=t.start.terminal):(n=t.path.steps,a=t.path.terminal);for(var o=0;o<i.length;o++){if(!i[o])return-1;if(!n[o]||i[o].index>n[o].index)return 1;if(i[o].index<n[o].index)return-1}return i.length<n.length?-1:s.offset>a.offset?1:s.offset<a.offset?-1:0}step(e){var t=e.nodeType===Ft?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var i=this.filter(e,t),n;if(i)return n=i.nodeType===Ft?"text":"element",{id:i.id,tagName:i.tagName,type:n,index:this.filteredPosition(i,t)}}pathTo(e,t,i){for(var n={steps:[],terminal:{offset:null,assertion:null}},s=e,a;s&&s.parentNode&&s.parentNode.nodeType!=cc;)i?a=this.filteredStep(s,i):a=this.step(s),a&&n.steps.unshift(a),s=s.parentNode;return t!=null&&t>=0&&(n.terminal.offset=t,n.steps[n.steps.length-1].type!="text"&&n.steps.push({type:"text",index:0})),n}equalStep(e,t){return!e||!t?!1:e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,a=e.endContainer,o=e.startOffset,u=e.endOffset,h=!1;if(i&&(h=s.ownerDocument.querySelector("."+i)!=null),typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),e.collapsed)h&&(o=this.patchOffset(s,o,i)),n.path=this.pathTo(s,o,i);else{n.range=!0,h&&(o=this.patchOffset(s,o,i)),n.start=this.pathTo(s,o,i),h&&(u=this.patchOffset(a,u,i)),n.end=this.pathTo(a,u,i),n.path={steps:[],terminal:null};var c=n.start.steps.length,d;for(d=0;d<c&&this.equalStep(n.start.steps[d],n.end.steps[d]);d++)d===c-1?n.start.terminal===n.end.terminal&&(n.path.steps.push(n.start.steps[d]),n.range=!1):n.path.steps.push(n.start.steps[d]);n.start.steps=n.start.steps.slice(n.path.steps.length),n.end.steps=n.end.steps.slice(n.path.steps.length)}return n}fromNode(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null};return typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),n.path=this.pathTo(e,null,i),n}filter(e,t){var i,n,s,a,o,u=!1;return e.nodeType===Ft?(u=!0,s=e.parentNode,i=e.parentNode.classList.contains(t)):(u=!1,i=e.classList.contains(t)),i&&u?(a=s.previousSibling,o=s.nextSibling,a&&a.nodeType===Ft?n=a:o&&o.nodeType===Ft&&(n=o),n||e):i&&!u?!1:e}patchOffset(e,t,i){if(e.nodeType!=Ft)throw new Error("Anchor must be a text node");var n=e,s=t;for(e.parentNode.classList.contains(i)&&(n=e.parentNode);n.previousSibling;){if(n.previousSibling.nodeType===Ri)if(n.previousSibling.classList.contains(i))s+=n.previousSibling.textContent.length;else break;else s+=n.previousSibling.textContent.length;n=n.previousSibling}return s}normalizedMap(e,t,i){var n={},s=-1,a,o=e.length,u,h;for(a=0;a<o;a++)u=e[a].nodeType,u===Ri&&e[a].classList.contains(i)&&(u=Ft),a>0&&u===Ft&&h===Ft?n[a]=s:t===u&&(s=s+1,n[a]=s),h=u;return n}position(e){var t,i;return e.nodeType===Ri?(t=e.parentNode.children,t||(t=ms(e.parentNode)),i=Array.prototype.indexOf.call(t,e)):(t=this.textNodes(e.parentNode),i=t.indexOf(e)),i}filteredPosition(e,t){var i,n,s;return e.nodeType===Ri?(i=e.parentNode.children,s=this.normalizedMap(i,Ri,t)):(i=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(e=e.parentNode,i=e.parentNode.childNodes),s=this.normalizedMap(i,Ft,t)),n=Array.prototype.indexOf.call(i,e),s[n]}stepsToXpath(e){var t=[".","*"];return e.forEach(function(i){var n=i.index+1;i.id?t.push("*[position()="+n+" and @id='"+i.id+"']"):i.type==="text"?t.push("text()["+n+"]"):t.push("*["+n+"]")}),t.join("/")}stepsToQuerySelector(e){var t=["html"];return e.forEach(function(i){var n=i.index+1;i.id?t.push("#"+i.id):i.type==="text"||t.push("*:nth-child("+n+")")}),t.join(">")}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter(function(i){return i.nodeType===Ft?!0:!!(t&&i.classList.contains(t))})}walkToNode(e,t,i){var n=t||document,s=n.documentElement,a,o,u=e.length,h;for(h=0;h<u&&(o=e[h],o.type==="element"?o.id?s=n.getElementById(o.id):(a=s.children||ms(s),s=a[o.index]):o.type==="text"&&(s=this.textNodes(s,i)[o.index]),!!s);h++);return s}findNode(e,t,i){var n=t||document,s,a;return!i&&typeof n.evaluate<"u"?(a=this.stepsToXpath(e),s=n.evaluate(a,n,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):i?s=this.walkToNode(e,n,i):s=this.walkToNode(e,n),s}fixMiss(e,t,i,n){var s=this.findNode(e.slice(0,-1),i,n),a=s.childNodes,o=this.normalizedMap(a,Ft,n),u,h,c=e[e.length-1].index;for(let d in o){if(!o.hasOwnProperty(d))return;if(o[d]===c)if(u=a[d],h=u.textContent.length,t>h)t=t-h;else{u.nodeType===Ri?s=u.childNodes[0]:s=u;break}}return{container:s,offset:t}}toRange(e,t){var i=e||document,n,s,a,o,u,h=this,c,d,b=t?i.querySelector("."+t)!=null:!1,v;if(typeof i.createRange<"u"?n=i.createRange():n=new Mu,h.range?(s=h.start,c=h.path.steps.concat(s.steps),o=this.findNode(c,i,b?t:null),a=h.end,d=h.path.steps.concat(a.steps),u=this.findNode(d,i,b?t:null)):(s=h.path,c=h.path.steps,o=this.findNode(h.path.steps,i,b?t:null)),o)try{s.terminal.offset!=null?n.setStart(o,s.terminal.offset):n.setStart(o,0)}catch{v=this.fixMiss(c,s.terminal.offset,i,b?t:null),n.setStart(v.container,v.offset)}else return console.log("No startContainer found for",this.toString()),null;if(u)try{a.terminal.offset!=null?n.setEnd(u,a.terminal.offset):n.setEnd(u,0)}catch{v=this.fixMiss(d,h.end.terminal.offset,i,b?t:null),n.setEnd(v.container,v.offset)}return n}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,t,i){var n=parseInt(t),s=(e+1)*2,a="/"+s+"/";return a+=(n+1)*2,i&&(a+="["+i+"]"),a}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class jt{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){let t;for(let i=0;i<this.hooks.length;i++)if(t=this.hooks[i],t===e){this.hooks.splice(i,1);break}}trigger(){var e=arguments,t=this.context,i=[];return this.hooks.forEach(function(n){try{var s=n.apply(t,e)}catch(a){console.log(a)}s&&typeof s.then=="function"&&i.push(s)}),Promise.all(i)}list(){return this.hooks}clear(){return this.hooks=[]}}function Uu(r,e){var t,i,n=e.url,s=n.indexOf("://")>-1;r&&(i=st(r,"head"),t=st(i,"base"),t||(t=r.createElement("base"),i.insertBefore(t,i.firstChild)),!s&&window&&window.location&&(n=window.location.origin+n),t.setAttribute("href",n))}function dc(r,e){var t,i,n=e.canonical;r&&(t=st(r,"head"),i=st(t,"link[rel='canonical']"),i?i.setAttribute("href",n):(i=r.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",n),t.appendChild(i)))}function pc(r,e){var t,i,n=e.idref;r&&(t=st(r,"head"),i=st(t,"link[property='dc.identifier']"),i?i.setAttribute("content",n):(i=r.createElement("meta"),i.setAttribute("name","dc.identifier"),i.setAttribute("content",n),t.appendChild(i)))}function gc(r,e){var t=r.querySelectorAll("a[href]");if(t.length)for(var i=st(r.ownerDocument,"base"),n=i?i.getAttribute("href"):void 0,s=(function(o){var u=o.getAttribute("href");if(u.indexOf("mailto:")!==0){var h=u.indexOf("://")>-1;if(h)o.setAttribute("target","_blank");else{var c;try{c=new qt(u,n)}catch{}o.onclick=function(){return c&&c.hash?e(c.Path.path+c.hash):e(c?c.Path.path:u),!1}}}}).bind(this),a=0;a<t.length;a++)s(t[a])}function eo(r,e,t){return e.forEach(function(i,n){i&&t[n]&&(i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=r.replace(new RegExp(i,"g"),t[n]))}),r}function dr(r,e,t,i){var n=typeof window<"u"?window.URL:!1,s=n?"blob":"arraybuffer",a=new Ge,o=new XMLHttpRequest,u=XMLHttpRequest.prototype,h;"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),t&&(o.withCredentials=!0),o.onreadystatechange=d,o.onerror=c,o.open("GET",r,!0);for(h in i)o.setRequestHeader(h,i[h]);e=="json"&&o.setRequestHeader("Accept","application/json"),e||(e=new ui(r).extension),e=="blob"&&(o.responseType=s),cr(e)&&o.overrideMimeType("text/xml"),e=="binary"&&(o.responseType="arraybuffer"),o.send();function c(b){a.reject(b)}function d(){if(this.readyState===XMLHttpRequest.DONE){var b=!1;if((this.responseType===""||this.responseType==="document")&&(b=this.responseXML),this.status===200||this.status===0||b){var v;if(!this.response&&!b)return a.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),a.promise;if(this.status===403)return a.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),a.promise;b?v=this.responseXML:cr(e)?v=Xt(this.response,"text/xml"):e=="xhtml"?v=Xt(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?v=Xt(this.response,"text/html"):e=="json"?v=JSON.parse(this.response):e=="blob"?n?v=this.response:v=new Blob([this.response]):v=this.response,a.resolve(v)}else a.reject({status:this.status,message:this.response,stack:new Error().stack})}}return a.promise}class vc{constructor(e,t){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new jt(this),this.hooks.content=new jt(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||dr,i=new Ge,n=i.promise;return this.contents?i.resolve(this.contents):t(this.url).then((function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){i.resolve(this.contents)}).bind(this)).catch(function(s){i.reject(s)}),n}base(){return Uu(this.document,this)}render(e){var t=new Ge,i=t.promise;return this.output,this.load(e).then((function(n){var s=typeof navigator<"u"&&navigator.userAgent||"",a=s.indexOf("Trident")>=0,o;typeof XMLSerializer>"u"||a?o=Tu.DOMParser:o=XMLSerializer;var u=new o;return this.output=u.serializeToString(n),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){t.resolve(this.output)}).bind(this)).catch(function(n){t.reject(n)}),i}find(e){var t=this,i=[],n=e.toLowerCase(),s=function(a){for(var o=a.textContent.toLowerCase(),u=t.document.createRange(),h,c,d=-1,b,v=150;c!=-1;)c=o.indexOf(n,d+1),c!=-1&&(u=t.document.createRange(),u.setStart(a,c),u.setEnd(a,c+n.length),h=t.cfiFromRange(u),a.textContent.length<v?b=a.textContent:(b=a.textContent.substring(c-v/2,c+v/2),b="..."+b+"..."),i.push({cfi:h,excerpt:b})),d=c};return zr(t.document,function(a){s(a)}),i}search(e,t=5){if(typeof document.createTreeWalker>"u")return this.find(e);let i=[];const n=150,s=this,a=e.toLowerCase(),o=function(d){const N=d.reduce((E,p)=>E+p.textContent,"").toLowerCase().indexOf(a);if(N!=-1){const p=N+a.length;let g=0,m=0;if(N<d[0].length){let x;for(;g<d.length-1&&(m+=d[g].length,!(p<=m));)g+=1;let T=d[0],_=d[g],C=s.document.createRange();C.setStart(T,N);let I=d.slice(0,g).reduce((k,B)=>k+B.textContent.length,0);C.setEnd(_,I>p?p:p-I),x=s.cfiFromRange(C);let L=d.slice(0,g+1).reduce((k,B)=>k+B.textContent,"");L.length>n&&(L=L.substring(N-n/2,N+n/2),L="..."+L+"..."),i.push({cfi:x,excerpt:L})}}},u=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let h,c=[];for(;h=u.nextNode();)c.push(h),c.length==t&&(o(c.slice(0,t)),c=c.slice(1,t));return c.length>0&&o(c),i}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(i){var n=i.replace("rendition:",""),s=n.indexOf("-"),a,o;s!=-1&&(a=n.slice(0,s),o=n.slice(s+1),t[a]=o)}),t}cfiFromRange(e){return new Ze(e,this.cfiBase).toString()}cfiFromElement(e){return new Ze(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class mc{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new jt,this.hooks.content=new jt,this.hooks.content.register(Uu),this.hooks.content.register(dc),this.hooks.content.register(pc),this.epubcfi=new Ze,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,i){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((n,s)=>{var a=this.manifest[n.idref],o;n.index=s,n.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,n.index,n.id),n.href&&(n.url=t(n.href,!0),n.canonical=i(n.href)),a&&(n.href=a.href,n.url=t(n.href,!0),n.canonical=i(n.href),a.properties.length&&n.properties.push.apply(n.properties,a.properties)),n.linear==="yes"?(n.prev=(function(){let u=n.index;for(;u>0;){let h=this.get(u-1);if(h&&h.linear)return h;u-=1}}).bind(this),n.next=(function(){let u=n.index;for(;u<this.spineItems.length-1;){let h=this.get(u+1);if(h&&h.linear)return h;u+=1}}).bind(this)):(n.prev=function(){},n.next=function(){}),o=new vc(n,this.hooks),this.append(o)}),this.loaded=!0}get(e){var t=0;if(typeof e>"u")for(;t<this.spineItems.length;){let i=this.spineItems[t];if(i&&i.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new Ze(e).spinePos:typeof e=="number"||isNaN(e)===!1?t=e:typeof e=="string"&&e.indexOf("#")===0?t=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(t,i){t.index=i}),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Vs{constructor(e){this._q=[],this.context=e,this.tick=js,this.running=!1,this.paused=!1}enqueue(){var e,t,i,n=[].shift.call(arguments),s=arguments;if(!n)throw new Error("No Task Provided");return typeof n=="function"?(e=new Ge,t=e.promise,i={task:n,args:s,deferred:e,promise:t}):i={promise:n},this._q.push(i),this.paused==!1&&!this.running&&this.run(),i.promise}dequeue(){var e,t,i;if(this._q.length&&!this.paused){if(e=this._q.shift(),t=e.task,t)return i=t.apply(this.context,e.args),i&&typeof i.then=="function"?i.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,i),e.promise);if(e.promise)return e.promise}else return e=new Ge,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Ge),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Jr="0.3",Tr=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],xe={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class qu{constructor(e,t,i){this.spine=e,this.request=t,this.pause=i||100,this.q=new Vs(this),this.epubcfi=new Ze,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(t){t.linear&&this.q.enqueue(this.process.bind(this),t)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(t){var i=new Ge,n=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(n),e.unload(),this.processingTimeout=setTimeout(()=>i.resolve(n),this.pause),i.promise}).bind(this))}parse(e,t,i){var n=[],s,a=e.ownerDocument,o=st(a,"body"),u=0,h,c=i||this.break,d=function(b){var v=b.length,N,E=0;if(b.textContent.trim().length===0)return!1;for(u==0&&(s=this.createRange(),s.startContainer=b,s.startOffset=0),N=c-u,N>v&&(u+=v,E=v);E<v;)if(N=c-u,u===0&&(E+=1,s=this.createRange(),s.startContainer=b,s.startOffset=E),E+N>=v)u+=v-E,E=v;else{E+=N,s.endContainer=b,s.endOffset=E;let p=new Ze(s,t).toString();n.push(p),u=0}h=b};if(zr(o,d.bind(this)),s&&s.startContainer&&h){s.endContainer=h,s.endOffset=h.length;let b=new Ze(s,t).toString();n.push(b),u=0}return n}generateFromWords(e,t,i){var n=e?new Ze(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(s){s.linear&&(n?s.index>=n.spinePos&&this.q.enqueue(this.processWords.bind(this),s,t,n,i):this.q.enqueue(this.processWords.bind(this),s,t,n,i))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,t,i,n){return n&&this._locationsWords.length>=n?Promise.resolve():e.load(this.request).then((function(s){var a=new Ge,o=this.parseWords(s,e,t,i),u=n-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=n?o.slice(0,u):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,t,i,n){var s=t.cfiBase,a=[],o=e.ownerDocument,u=st(o,"body"),h=i,c=n?n.spinePos!==t.index:!0,d;n&&t.index===n.spinePos&&(d=n.findNode(n.range?n.path.steps.concat(n.start.steps):n.path.steps,e.ownerDocument));var b=function(v){if(!c)if(v===d)c=!0;else return!1;if(v.textContent.length<10&&v.textContent.trim().length===0)return!1;var N=this.countWords(v.textContent),E,p=0;if(N===0)return!1;for(E=h-this._wordCounter,E>N&&(this._wordCounter+=N,p=N);p<N;)if(E=h-this._wordCounter,p+E>=N)this._wordCounter+=N-p,p=N;else{p+=E;let g=new Ze(v,s);a.push({cfi:g.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return zr(u,b.bind(this)),a}locationFromCfi(e){let t;return Ze.prototype.isCfiString(e)&&(e=new Ze(e)),this._locations.length===0?-1:(t=qi(e,this._locations,this.epubcfi.compare),t>this.total?this.total:t)}percentageFromCfi(e){if(this._locations.length===0)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var t=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let i=new Ze(this._locations[this.total]);return i.collapse(),i.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(xe.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}Jt(qu.prototype);class yc{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var t;if(!e)throw new Error("Container File Not Found");if(t=st(e,"rootfile"),!t)throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=di.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class to{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,i,n;if(!e)throw new Error("Package File Not Found");if(t=st(e,"metadata"),!t)throw new Error("No Metadata Found");if(i=st(e,"manifest"),!i)throw new Error("No Manifest Found");if(n=st(e,"spine"),!n)throw new Error("No Spine Found");return this.manifest=this.parseManifest(i),this.navPath=this.findNavPath(i),this.ncxPath=this.findNcxPath(i,n),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=Ou(n),this.spine=this.parseSpine(n,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=n.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}parseManifest(e){var t={},i=oi(e,"item"),n=Array.prototype.slice.call(i);return n.forEach(function(s){var a=s.getAttribute("id"),o=s.getAttribute("href")||"",u=s.getAttribute("media-type")||"",h=s.getAttribute("media-overlay")||"",c=s.getAttribute("properties")||"";t[a]={href:o,type:u,overlay:h,properties:c.length?c.split(" "):[]}}),t}parseSpine(e,t){var i=[],n=oi(e,"itemref"),s=Array.prototype.slice.call(n);return s.forEach(function(a,o){var u=a.getAttribute("idref"),h=a.getAttribute("properties")||"",c=h.length?h.split(" "):[],d={id:a.getAttribute("id"),idref:u,linear:a.getAttribute("linear")||"yes",properties:c,index:o};i.push(d)}),i}findUniqueIdentifier(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var i=e.getElementById(t);return i&&i.localName==="identifier"&&i.namespaceURI==="http://purl.org/dc/elements/1.1/"&&i.childNodes.length>0?i.childNodes[0].nodeValue.trim():""}findNavPath(e){var t=Oi(e,"item",{properties:"nav"});return t?t.getAttribute("href"):!1}findNcxPath(e,t){var i=Oi(e,"item",{"media-type":"application/x-dtbncx+xml"}),n;return i||(n=t.getAttribute("toc"),n&&(i=e.querySelector(`#${n}`))),i?i.getAttribute("href"):!1}findCoverPath(e){var t=st(e,"package");t.getAttribute("version");var i=Oi(e,"item",{properties:"cover-image"});if(i)return i.getAttribute("href");var n=Oi(e,"meta",{name:"cover"});if(n){var s=n.getAttribute("content"),a=e.getElementById(s);return a?a.getAttribute("href"):""}else return!1}getElementText(e,t){var i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t),n;return!i||i.length===0?"":(n=i[0],n.childNodes.length?n.childNodes[0].nodeValue:"")}getPropertyText(e,t){var i=Oi(e,"meta",{property:t});return i&&i.childNodes.length?i.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let t=e.readingOrder||e.spine;return this.spine=t.map((i,n)=>(i.index=n,i.linear=i.linear||"yes",i)),e.resources.forEach((i,n)=>{this.manifest[n]=i,i.rel&&i.rel[0]==="cover"&&(this.coverPath=i.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((i,n)=>(i.label=i.title,i)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Pn{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t=e.nodeType,i,n;t&&(i=st(e,"html"),n=st(e,"ncx")),t?i?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):n&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,i=0;i<e.length;i++)t=e[i],t.href&&(this.tocByHref[t.href]=i),t.id&&(this.tocById[t.id]=i),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(e.indexOf("#")===0?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,i){if(i.length===0)return;const n=i[t];if(n&&(e===n.id||e===n.href))return n;{let s;for(let a=0;a<i.length&&(s=this.getByIndex(e,t,i[a].subitems),!s);++a);return s}}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=Mr(e,"nav","toc"),i=[];if(!t)return i;let n=Li(t,"ol",!0);return n&&(i=this.parseNavList(n)),i}parseNavList(e,t){const i=[];if(!e||!e.children)return i;for(let n=0;n<e.children.length;n++){const s=this.navItem(e.children[n],t);s&&i.push(s)}return i}navItem(e,t){let i=e.getAttribute("id")||void 0,n=Li(e,"a",!0)||Li(e,"span",!0);if(!n)return;let s=n.getAttribute("href")||"";i||(i=s);let a=n.textContent||"",o=[],u=Li(e,"ol",!0);return u&&(o=this.parseNavList(u,i)),{id:i,href:s,label:a,subitems:o,parent:t}}parseLandmarks(e){var t=Mr(e,"nav","landmarks"),i=t?oi(t,"li"):[],n=i.length,s,a=[],o;if(!i||n===0)return a;for(s=0;s<n;++s)o=this.landmarkItem(i[s]),o&&(a.push(o),this.landmarksByType[o.type]=s);return a}landmarkItem(e){let t=Li(e,"a",!0);if(!t)return;let i=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,n=t.getAttribute("href")||"",s=t.textContent||"";return{href:n,label:s,type:i}}parseNcx(e){var t=oi(e,"navPoint"),i=t.length,n,s={},a=[],o,u;if(!t||i===0)return a;for(n=0;n<i;++n)o=this.ncxItem(t[n]),s[o.id]=o,o.parent?(u=s[o.parent],u.subitems.push(o)):a.push(o);return a}ncxItem(e){var t=e.getAttribute("id")||!1,i=st(e,"content"),n=i.getAttribute("src"),s=st(e,"navLabel"),a=s.textContent?s.textContent:"",o=[],u=e.parentNode,h;return u&&(u.nodeName==="navPoint"||u.nodeName.split(":").slice(-1)[0]==="navPoint")&&(h=u.getAttribute("id")),{id:t,href:n,label:a,subitems:o,parent:h}}load(e){return e.map(t=>(t.label=t.title,t.subitems=t.children?this.load(t.children):[],t))}forEach(e){return this.toc.forEach(e)}}var Yi={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},bc=function(){var r,e,t,i,n={};for(r in Yi)if(Yi.hasOwnProperty(r)){for(e in Yi[r])if(Yi[r].hasOwnProperty(e))if(t=Yi[r][e],typeof t=="string")n[t]=r+"/"+e;else for(i=0;i<t.length;i++)n[t[i]]=r+"/"+e}return n}(),_c="text/plain";function wc(r){return r&&bc[r.split(".").pop().toLowerCase()]||_c}const zi={lookup:wc};class Ec{constructor(e,t){this.settings={replacements:t&&t.replacements||"base64",archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(t){return e[t]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var t=new qt(e),i=zi.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(n=>zu(n)).then(n=>vs(n,i)):this.settings.request(e,"blob").then(n=>Pr(n,i))}replacements(){if(this.settings.replacements==="none")return new Promise((function(t){t(this.urls)}).bind(this));var e=this.urls.map(t=>{var i=this.settings.resolver(t);return this.createUrl(i).catch(n=>(console.error(n),null))});return Promise.all(e).then(t=>(this.replacementUrls=t.filter(i=>typeof i=="string"),t))}replaceCss(e,t){var i=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach((function(n){var s=this.createCssFile(n,e,t).then((function(a){var o=this.urls.indexOf(n);o>-1&&(this.replacementUrls[o]=a)}).bind(this));i.push(s)}).bind(this)),Promise.all(i)}createCssFile(e){var t;if(di.isAbsolute(e))return new Promise(function(a){a()});var i=this.settings.resolver(e),n;this.settings.archive?n=this.settings.archive.getText(i):n=this.settings.request(i,"text");var s=this.urls.map(a=>{var o=this.settings.resolver(a),u=new ui(i).relative(o);return u});return n?n.then(a=>(a=eo(a,s,this.replacementUrls),this.settings.replacements==="base64"?t=vs(a,"text/css"):t=Pr(a,"text/css"),t),a=>new Promise(function(o){o()})):new Promise(function(a){a()})}relativeTo(e,t){return t=t||this.settings.resolver,this.urls.map((function(i){var n=t(i),s=new ui(e).relative(n);return s}).bind(this))}get(e){var t=this.urls.indexOf(e);if(t!==-1)return this.replacementUrls.length?new Promise((function(i,n){i(this.replacementUrls[t])}).bind(this)):this.createUrl(e)}substitute(e,t){var i;return t?i=this.relativeTo(t):i=this.urls,eo(e,i,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class zn{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Ze,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=st(e,"html"),i=st(e,"ncx");if(t)return this.parseNav(e);if(i)return this.parseNcx(e)}parseNav(e){var t=Mr(e,"nav","page-list"),i=t?oi(t,"li"):[],n=i.length,s,a=[],o;if(!i||n===0)return a;for(s=0;s<n;++s)o=this.item(i[s]),a.push(o);return a}parseNcx(e){var t=[],i=0,n,s,a,o=0;if(s=st(e,"pageList"),!s||(a=oi(s,"pageTarget"),o=a.length,!a||a.length===0))return t;for(i=0;i<o;++i)n=this.ncxItem(a[i]),t.push(n);return t}ncxItem(e){var t=st(e,"navLabel"),i=st(t,"text"),n=i.textContent,s=st(e,"content"),a=s.getAttribute("src"),o=parseInt(n,10);return{href:a,page:o}}item(e){var t=st(e,"a"),i=t.getAttribute("href")||"",n=t.textContent||"",s=parseInt(n),a=i.indexOf("epubcfi"),o,u,h;return a!=-1?(o=i.split("#"),u=o[0],h=o.length>1?o[1]:!1,{cfi:h,href:i,packageUrl:u,page:s}):{href:i,page:s}}process(e){e.forEach(function(t){this.pages.push(t.page),t.cfi&&this.locations.push(t.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(this.locations.length===0)return-1;var i=Lr(e,this.locations,this.epubcfi.compare);return i!=-1?t=this.pages[i]:(i=qi(e,this.locations,this.epubcfi.compare),t=i-1>=0?this.pages[i-1]:this.pages[0],t!==void 0||(t=-1)),t}cfiFromPage(e){var t=-1;typeof e!="number"&&(e=parseInt(e));var i=this.pages.indexOf(e);return i!=-1&&(t=this.locations[i]),t}pageFromPercentage(e){var t=Math.round(this.totalPages*e);return t}percentageFromPage(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(t*1e3)/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e),i=this.percentageFromPage(t);return i}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class ju{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,i){var n=1,s=i||0,a=e,o=t,u=Math.floor(a/12),h,c,d,b;this._spread&&a>=this._minSpreadWidth?n=2:n=1,this.name==="reflowable"&&this._flow==="paginated"&&!(i>=0)&&(s=u%2===0?u:u-1),this.name==="pre-paginated"&&(s=0),n>1?(h=a/n-s,d=h+s):(h=a,d=a),this.name==="pre-paginated"&&n>1&&(a=h),c=h*n+s,b=a,this.width=a,this.height=o,this.spreadWidth=c,this.pageWidth=d,this.delta=b,this.columnWidth=h,this.gap=s,this.divisor=n,this.update({width:a,height:o,spreadWidth:c,pageWidth:d,delta:b,columnWidth:h,gap:s,divisor:n})}format(e,t,i){var n;return this.name==="pre-paginated"?n=e.fit(this.columnWidth,this.height,t):this._flow==="paginated"?n=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):i&&i==="horizontal"?n=e.size(null,this.height):n=e.size(this.width,null),n}count(e,t){let i,n;return this.name==="pre-paginated"?(i=1,n=1):this._flow==="paginated"?(t=t||this.delta,i=Math.ceil(e/t),n=i*this.divisor):(t=t||this.height,i=Math.ceil(e/t),n=i),{spreads:i,pages:n}}update(e){if(Object.keys(e).forEach(t=>{this.props[t]===e[t]&&delete e[t]}),Object.keys(e).length>0){let t=wt(this.props,e);this.emit(xe.LAYOUT.UPDATED,t,e)}}}Jt(ju.prototype);class xc{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&(typeof e[t]=="string"?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,t){var i=new qt(t);this._themes[e]={url:i.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||e=="default")&&this.update(e)}select(e){var t=this._current,i;this._current=e,this.update(e),i=this.rendition.getContents(),i.forEach(n=>{n.removeClass(t),n.addClass(e)})}update(e){var t=this.rendition.getContents();t.forEach(i=>{this.add(e,i)})}inject(e){var t=[],i=this._themes,n;for(var s in i)i.hasOwnProperty(s)&&(s===this._current||s==="default")&&(n=i[s],(n.rules&&Object.keys(n.rules).length>0||n.url&&t.indexOf(n.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,t){var i=this._themes[e];!i||!t||(i.url?t.addStylesheet(i.url):i.serialized?(t.addStylesheetCss(i.serialized,e),i.injected=!0):i.rules&&(t.addStylesheetRules(i.rules,e),i.injected=!0))}override(e,t,i){var n=this.rendition.getContents();this._overrides[e]={value:t,priority:i===!0},n.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach(i=>{i.css(e)})}overrides(e){var t=this._overrides;for(var i in t)t.hasOwnProperty(i)&&e.css(i,t[i].value,t[i].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Ur{constructor(e,t,i,n=!1){this.layout=e,this.horizontal=i==="horizontal",this.direction=t||"ltr",this._dev=n}section(e){var t=this.findRanges(e),i=this.rangeListToCfiList(e.section.cfiBase,t);return i}page(e,t,i,n){var s=e&&e.document?e.document.body:!1,a;if(s){if(a=this.rangePairToCfiPair(t,{start:this.findStart(s,i,n),end:this.findEnd(s,i,n)}),this._dev===!0){let o=e.document,u=new Ze(a.start).toRange(o),h=new Ze(a.end).toRange(o),c=o.defaultView.getSelection(),d=o.createRange();c.removeAllRanges(),d.setStart(u.startContainer,u.startOffset),d.setEnd(h.endContainer,h.endOffset),c.addRange(d)}return a}}walk(e,t){if(!(e&&e.nodeType===Node.TEXT_NODE)){var i={acceptNode:function(u){return u.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},n=i.acceptNode;n.acceptNode=i.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n,!1),a,o;(a=s.nextNode())&&(o=t(a),!o););return o}}findRanges(e){for(var t=[],i=e.contents.scrollWidth(),n=Math.ceil(i/this.layout.spreadWidth),s=n*this.layout.divisor,a=this.layout.columnWidth,o=this.layout.gap,u,h,c=0;c<s.pages;c++)u=(a+o)*c,h=a*(c+1)+o*c,t.push({start:this.findStart(e.document.body,u,h),end:this.findEnd(e.document.body,u,h)});return t}findStart(e,t,i){for(var n=[e],s,a,o=e;n.length;)if(s=n.shift(),a=this.walk(s,u=>{var h,c,d,b,v;if(v=gs(u),this.horizontal&&this.direction==="ltr"){if(h=this.horizontal?v.left:v.top,c=this.horizontal?v.right:v.bottom,h>=t&&h<=i)return u;if(c>t)return u;o=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(h=v.left,c=v.right,c<=i&&c>=t)return u;if(h<i)return u;o=u,n.push(u)}else{if(d=v.top,b=v.bottom,d>=t&&d<=i)return u;if(b>t)return u;o=u,n.push(u)}}),a)return this.findTextStartRange(a,t,i);return this.findTextStartRange(o,t,i)}findEnd(e,t,i){for(var n=[e],s,a=e,o;n.length;)if(s=n.shift(),o=this.walk(s,u=>{var h,c,d,b,v;if(v=gs(u),this.horizontal&&this.direction==="ltr"){if(h=Math.round(v.left),c=Math.round(v.right),h>i&&a)return a;if(c>i)return u;a=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(h=Math.round(this.horizontal?v.left:v.top),c=Math.round(this.horizontal?v.right:v.bottom),c<t&&a)return a;if(h<t)return u;a=u,n.push(u)}else{if(d=Math.round(v.top),b=Math.round(v.bottom),d>i&&a)return a;if(b>i)return u;a=u,n.push(u)}}),o)return this.findTextEndRange(o,t,i);return this.findTextEndRange(a,t,i)}findTextStartRange(e,t,i){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,h,c=0;c<n.length;c++)if(s=n[c],a=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(o=a.left,o>=t)return s}else if(this.horizontal&&this.direction==="rtl"){if(h=a.right,h<=i)return s}else if(u=a.top,u>=t)return s;return n[0]}findTextEndRange(e,t,i){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,h,c,d,b=0;b<n.length;b++){if(a=n[b],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=o.left,h=o.right,u>i&&s)return s;if(h>i)return a}else if(this.horizontal&&this.direction==="rtl"){if(u=o.left,h=o.right,h<t&&s)return s;if(u<t)return a}else{if(c=o.top,d=o.bottom,c>i&&s)return s;if(d>i)return a}s=a}return n[n.length-1]}splitTextNodeIntoRanges(e,t){var i=[],n=e.textContent||"",s=n.trim(),a,o=e.ownerDocument,u=t||" ",h=s.indexOf(u);if(h===-1||e.nodeType!=Node.TEXT_NODE)return a=o.createRange(),a.selectNodeContents(e),[a];for(a=o.createRange(),a.setStart(e,0),a.setEnd(e,h),i.push(a),a=!1;h!=-1;)h=s.indexOf(u,h+1),h>0&&(a&&(a.setEnd(e,h),i.push(a)),a=o.createRange(),a.setStart(e,h+1));return a&&(a.setEnd(e,s.length),i.push(a)),i}rangePairToCfiPair(e,t){var i=t.start,n=t.end;i.collapse(!0),n.collapse(!1);let s=new Ze(i,e).toString(),a=new Ze(n,e).toString();return{start:s,end:a}}rangeListToCfiList(e,t){for(var i=[],n,s=0;s<t.length;s++)n=this.rangePairToCfiPair(e,t[s]),i.push(n);return i}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const Wu=typeof navigator<"u",Ac=Wu&&/Chrome/.test(navigator.userAgent),io=Wu&&!Ac&&/AppleWebKit/.test(navigator.userAgent),Dc=1;class Gs{constructor(e,t,i,n){this.epubcfi=new Ze,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=n||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",Jr),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return Tr}width(e){var t=this.content;return e&&ct(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&ct(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&ct(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&ct(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t,i=this.document.createRange(),n=this.content||this.document.body,s=Br(n);return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.width,s&&s.width&&(t+=s.width),Math.round(t)}textHeight(){let e,t,i=this.document.createRange(),n=this.content||this.document.body;return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.bottom,Math.round(t)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,i){var n=this.content||this.document.body;return t?n.style.setProperty(e,t,i?"important":""):n.style.removeProperty(e),this.window.getComputedStyle(n)[e]}viewport(e){var t=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},n=[],s={};if(t&&t.hasAttribute("content")){let a=t.getAttribute("content"),o=a.match(/width\s*=\s*([^,]*)/),u=a.match(/height\s*=\s*([^,]*)/),h=a.match(/initial-scale\s*=\s*([^,]*)/),c=a.match(/minimum-scale\s*=\s*([^,]*)/),d=a.match(/maximum-scale\s*=\s*([^,]*)/),b=a.match(/user-scalable\s*=\s*([^,]*)/);o&&o.length&&typeof o[1]<"u"&&(i.width=o[1]),u&&u.length&&typeof u[1]<"u"&&(i.height=u[1]),h&&h.length&&typeof h[1]<"u"&&(i.scale=h[1]),c&&c.length&&typeof c[1]<"u"&&(i.minimum=c[1]),d&&d.length&&typeof d[1]<"u"&&(i.maximum=d[1]),b&&b.length&&typeof b[1]<"u"&&(i.scalable=b[1])}return s=Iu(e||{},i),e&&(s.width&&n.push("width="+s.width),s.height&&n.push("height="+s.height),s.scale&&n.push("initial-scale="+s.scale),s.scalable==="no"?(n.push("minimum-scale="+s.scale),n.push("maximum-scale="+s.scale),n.push("user-scalable="+s.scalable)):(s.scalable&&n.push("user-scalable="+s.scalable),s.minimum&&n.push("minimum-scale="+s.minimum),s.maximum&&n.push("minimum-scale="+s.maximum)),t||(t=this.document.createElement("meta"),t.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(t)),t.setAttribute("content",n.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(xe.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();(e!=this._size.width||t!=this._size.height)&&(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(xe.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,t=(function(o){o.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),i=0;i<e.length;i+=1){var n;try{n=e[i].cssRules}catch{return}if(!n)return;for(var s=0;s<n.length;s+=1)if(n[s].media){var a=this.window.matchMedia(n[s].media.mediaText);a.addListener(t)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(t=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),t,i=0;i<e.length;i++)t=e[i],typeof t.naturalWidth<"u"&&t.naturalWidth===0&&(t.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var i,n={left:0,top:0};if(!this.document)return n;if(this.epubcfi.isCfiString(e)){let s=new Ze(e).toRange(this.document,t);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let a=s.startContainer.textContent.indexOf(" ",s.startOffset);a==-1&&(a=s.startContainer.textContent.length),s.setEnd(s.startContainer,a)}}catch(a){console.error("setting end offset to start container length failed",a)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)i=s.startContainer.getBoundingClientRect(),n.left=i.left,n.top=i.top;else if(io){let a=s.startContainer,o=new Range;try{a.nodeType===Dc?i=a.getBoundingClientRect():s.startOffset+2<a.length?(o.setStart(a,s.startOffset),o.setEnd(a,s.startOffset+2),i=o.getBoundingClientRect()):s.startOffset-2>0?(o.setStart(a,s.startOffset-2),o.setEnd(a,s.startOffset),i=o.getBoundingClientRect()):i=a.parentNode.getBoundingClientRect()}catch(u){console.error(u,u.stack)}}else i=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),a=this.document.getElementById(s);if(a)if(io){let o=new Range;o.selectNode(a),i=o.getBoundingClientRect()}else i=a.getBoundingClientRect()}return i&&(n.left=i.left,n.top=i.top),n}addStylesheet(e){return new Promise((function(t,i){var n,s=!1;if(!this.document){t(!1);return}if(n=this.document.querySelector("link[href='"+e+"']"),n){t(!0);return}n=this.document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}_getStylesheetNode(e){var t;return e="epubjs-inserted-css-"+(e||""),this.document?(t=this.document.getElementById(e),t||(t=this.document.createElement("style"),t.id=e,this.document.head.appendChild(t)),t):!1}addStylesheetCss(e,t){if(!this.document||!e)return!1;var i;return i=this._getStylesheetNode(t),i.innerHTML=e,!0}addStylesheetRules(e,t){var i;if(!(!this.document||!e||e.length===0))if(i=this._getStylesheetNode(t).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var n=0,s=e.length;n<s;n++){var a=1,o=e[n],u=e[n][0],h="";Object.prototype.toString.call(o[1][0])==="[object Array]"&&(o=o[1],a=0);for(var c=o.length;a<c;a++){var d=o[a];h+=d[0]+":"+d[1]+(d[2]?" !important":"")+`;
`}i.insertRule(u+"{"+h+"}",i.cssRules.length)}else Object.keys(e).forEach(v=>{const N=e[v];if(Array.isArray(N))N.forEach(E=>{const g=Object.keys(E).map(m=>`${m}:${E[m]}`).join(";");i.insertRule(`${v}{${g}}`,i.cssRules.length)});else{const p=Object.keys(N).map(g=>`${g}:${N[g]}`).join(";");i.insertRule(`${v}{${p}}`,i.cssRules.length)}})}addScript(e){return new Promise((function(t,i){var n,s=!1;if(!this.document){t(!1);return}n=this.document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}addClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.add(e))}removeClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),Tr.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(Tr.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var t=this.window.getSelection();this.triggerSelectedEvent(t)}).bind(this),250)}triggerSelectedEvent(e){var t,i;e&&e.rangeCount>0&&(t=e.getRangeAt(0),t.collapsed||(i=new Ze(t,this.cfiBase).toString(),this.emit(xe.CONTENTS.SELECTED,i),this.emit(xe.CONTENTS.SELECTED_RANGE,t)))}range(e,t){var i=new Ze(e);return i.toRange(this.document,t)}cfiFromRange(e,t){return new Ze(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new Ze(e,this.cfiBase,t).toString()}map(e){var t=new Ur(e);return t.section()}size(e,t){var i={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),i.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),i.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(i)}columns(e,t,i,n,s){let a=Ii("column-axis"),o=Ii("column-gap"),u=Ii("column-width"),h=Ii("column-fill"),d=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&d==="horizontal"&&this.direction(s),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),d==="vertical"?(this.css("padding-top",n/2+"px",!0),this.css("padding-bottom",n/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(a,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",n/2+"px",!0),this.css("padding-right",n/2+"px",!0),this.css(a,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(h,"auto"),this.css(o,n+"px"),this.css(u,i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,t,i){var n="scale("+e+")",s="";this.css("transform-origin","top left"),(t>=0||i>=0)&&(s=" translate("+(t||0)+"px, "+(i||0)+"px )"),this.css("transform",n+s)}fit(e,t,i){var n=this.viewport(),s=parseInt(n.width),a=parseInt(n.height),o=e/s,u=t/a,h=o<u?o:u;if(this.layoutStyle("paginated"),this.width(s),this.height(a),this.overflow("hidden"),this.scaler(h,0,0),this.css("background-size",s*h+"px "+a*h+"px"),this.css("background-color","transparent"),i&&i.properties.includes("page-spread-left")){var c=e-s*h;this.css("margin-left",c+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,i,n,s){var a=new Ur(t,s);return a.page(this,e,i,n)}linksHandler(){gc(this.content,e=>{this.emit(xe.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let t=Ii("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(i){switch(i){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}Jt(Gs.prototype);class Cc{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,i,n,s,a){let o=encodeURI(t+e),h=new Ze(t).spinePos,c=new Hu({type:e,cfiRange:t,data:i,sectionIndex:h,cb:n,className:s,styles:a});return this._annotations[o]=c,h in this._annotationsBySectionIndex?this._annotationsBySectionIndex[h].push(o):this._annotationsBySectionIndex[h]=[o],this.rendition.views().forEach(b=>{c.sectionIndex===b.index&&c.attach(b)}),c}remove(e,t){let i=encodeURI(e+t);if(i in this._annotations){let n=this._annotations[i];if(t&&n.type!==t)return;this.rendition.views().forEach(a=>{this._removeFromAnnotationBySectionIndex(n.sectionIndex,i),n.sectionIndex===a.index&&n.detach(a)}),delete this._annotations[i]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(i=>i!==t)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,i,n,s){return this.add("highlight",e,t,i,n,s)}underline(e,t,i,n,s){return this.add("underline",e,t,i,n,s)}mark(e,t,i){return this.add("mark",e,t,i)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].attach(e)})}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].detach(e)})}show(){}hide(){}}class Hu{constructor({type:e,cfiRange:t,data:i,sectionIndex:n,cb:s,className:a,styles:o}){this.type=e,this.cfiRange=t,this.data=i,this.sectionIndex=n,this.mark=void 0,this.cb=s,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let{cfiRange:t,data:i,type:n,mark:s,cb:a,className:o,styles:u}=this,h;return n==="highlight"?h=e.highlight(t,i,a,o,u):n==="underline"?h=e.underline(t,i,a,o,u):n==="mark"&&(h=e.mark(t,i,a)),this.mark=h,this.emit(xe.ANNOTATION.ATTACH,h),h}detach(e){let{cfiRange:t,type:i}=this,n;return e&&(i==="highlight"?n=e.unhighlight(t):i==="underline"?n=e.ununderline(t):i==="mark"&&(n=e.unmark(t))),this.mark=void 0,this.emit(xe.ANNOTATION.DETACH,n),n}text(){}}Jt(Hu.prototype);var Mt={},Xi={},ro;function Sc(){if(ro)return Xi;ro=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.createElement=r;function r(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return Xi.default={createElement:r},Xi}var Ni={},no;function Tc(){if(no)return Ni;no=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.proxyMouse=r,Ni.clone=e,Ni.default={proxyMouse:r};function r(i,n){function s(h){for(var c=n.length-1;c>=0;c--){var d=n[c],b=h.clientX,v=h.clientY;if(h.touches&&h.touches.length&&(b=h.touches[0].clientX,v=h.touches[0].clientY),!!t(d,i,b,v)){d.dispatchEvent(e(h));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch{this.target=i}else this.target=i;for(var a=["mouseup","mousedown","click","touchstart"],o=0;o<a.length;o++){var u=a[o];this.target.addEventListener(u,function(h){return s(h)},!1)}}function e(i){var n=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,n)}catch{var s=document.createEvent("MouseEvents");return s.initMouseEvent(i.type,!1,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),s}}function t(i,n,s,a){var o=n.getBoundingClientRect();function u(v,N,E){var p=v.top-o.top,g=v.left-o.left,m=p+v.height,x=g+v.width;return p<=E&&g<=N&&m>E&&x>N}var h=i.getBoundingClientRect();if(!u(h,s,a))return!1;for(var c=i.getClientRects(),d=0,b=c.length;d<b;d++)if(u(c[d],s,a))return!0;return!1}return Ni}var so;function Rc(){if(so)return Mt;so=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.Underline=Mt.Highlight=Mt.Mark=Mt.Pane=void 0;var r=function E(p,g,m){p===null&&(p=Function.prototype);var x=Object.getOwnPropertyDescriptor(p,g);if(x===void 0){var T=Object.getPrototypeOf(p);return T===null?void 0:E(T,g,m)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(m)}},e=function(){function E(p,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,g,m){return g&&E(p.prototype,g),m&&E(p,m),p}}(),t=Sc(),i=a(t),n=Tc(),s=a(n);function a(E){return E&&E.__esModule?E:{default:E}}function o(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function u(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}function h(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}Mt.Pane=function(){function E(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;h(this,E),this.target=p,this.element=i.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),s.default.proxyMouse(this.target,this.marks),this.container=g,this.container.appendChild(this.element),this.render()}return e(E,[{key:"addMark",value:function(g){var m=i.default.createElement("g");return this.element.appendChild(m),g.bind(m,this.container),this.marks.push(g),g.render(),g}},{key:"removeMark",value:function(g){var m=this.marks.indexOf(g);if(m!==-1){var x=g.unbind();this.element.removeChild(x),this.marks.splice(m,1)}}},{key:"render",value:function(){v(this.element,b(this.target,this.container));var g=!0,m=!1,x=void 0;try{for(var T=this.marks[Symbol.iterator](),_;!(g=(_=T.next()).done);g=!0){var C=_.value;C.render()}}catch(I){m=!0,x=I}finally{try{!g&&T.return&&T.return()}finally{if(m)throw x}}}}]),E}();var c=Mt.Mark=function(){function E(){h(this,E),this.element=null}return e(E,[{key:"bind",value:function(g,m){this.element=g,this.container=m}},{key:"unbind",value:function(){var g=this.element;return this.element=null,g}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(g){this.element&&this.element.dispatchEvent(g)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var g=[],m=this.element.firstChild;m;)g.push(m.getBoundingClientRect()),m=m.nextSibling;return g}},{key:"filteredRanges",value:function(){var g=Array.from(this.range.getClientRects());return g.filter(function(m){for(var x=0;x<g.length;x++){if(g[x]===m)return!0;var T=N(g[x],m);if(T)return!1}return!0})}}]),E}(),d=Mt.Highlight=function(E){u(p,E);function p(g,m,x,T){h(this,p);var _=o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return _.range=g,_.className=m,_.data=x||{},_.attributes=T||{},_}return e(p,[{key:"bind",value:function(m,x){r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"bind",this).call(this,m,x);for(var T in this.data)this.data.hasOwnProperty(T)&&(this.element.dataset[T]=this.data[T]);for(var T in this.attributes)this.attributes.hasOwnProperty(T)&&this.element.setAttribute(T,this.attributes[T]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var m=this.element.ownerDocument.createDocumentFragment(),x=this.filteredRanges(),T=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),C=0,I=x.length;C<I;C++){var L=x[C],k=i.default.createElement("rect");k.setAttribute("x",L.left-T.left+_.left),k.setAttribute("y",L.top-T.top+_.top),k.setAttribute("height",L.height),k.setAttribute("width",L.width),m.appendChild(k)}this.element.appendChild(m)}}]),p}(c);Mt.Underline=function(E){u(p,E);function p(g,m,x,T){return h(this,p),o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,g,m,x,T))}return e(p,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var m=this.element.ownerDocument.createDocumentFragment(),x=this.filteredRanges(),T=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),C=0,I=x.length;C<I;C++){var L=x[C],k=i.default.createElement("rect");k.setAttribute("x",L.left-T.left+_.left),k.setAttribute("y",L.top-T.top+_.top),k.setAttribute("height",L.height),k.setAttribute("width",L.width),k.setAttribute("fill","none");var B=i.default.createElement("line");B.setAttribute("x1",L.left-T.left+_.left),B.setAttribute("x2",L.left-T.left+_.left+L.width),B.setAttribute("y1",L.top-T.top+_.top+L.height-1),B.setAttribute("y2",L.top-T.top+_.top+L.height-1),B.setAttribute("stroke-width",1),B.setAttribute("stroke","black"),B.setAttribute("stroke-linecap","square"),m.appendChild(k),m.appendChild(B)}this.element.appendChild(m)}}]),p}(d);function b(E,p){var g=p.getBoundingClientRect(),m=E.getBoundingClientRect();return{top:m.top-g.top,left:m.left-g.left,height:E.scrollHeight,width:E.scrollWidth}}function v(E,p){E.style.setProperty("top",p.top+"px","important"),E.style.setProperty("left",p.left+"px","important"),E.style.setProperty("height",p.height+"px","important"),E.style.setProperty("width",p.width+"px","important")}function N(E,p){return p.right<=E.right&&p.left>=E.left&&p.top>=E.top&&p.bottom<=E.bottom}return Mt}var xr=Rc();class Vu{constructor(e,t){this.settings=wt({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id="epubjs-view-"+Kr(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Ze,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",e&&e=="horizontal"?t.style.flex="none":t.style.flex="initial",t}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Sr(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(i){return this.load(i)}).bind(this)).then((function(){let i=this.contents.writingMode(),n;return this.settings.flow==="scrolled"?n=i.indexOf("vertical")===0?"horizontal":"vertical":n=i.indexOf("vertical")===0?"vertical":"horizontal",i.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(n),this.emit(xe.VIEWS.AXIS,n),this.setWritingMode(i),this.emit(xe.VIEWS.WRITING_MODE,i),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,a)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}).bind(this),(function(i){return this.emit(xe.VIEWS.LOAD_ERROR,i),new Promise((n,s)=>{s(i)})}).bind(this)).then((function(){this.emit(xe.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var i=e||this.settings.width,n=t||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",i,n):this.settings.axis==="horizontal"?this.lock("height",i,n):this.lock("width",i,n),this.settings.width=i,this.settings.height=n}lock(e,t,i){var n=Br(this.element),s;this.iframe?s=Br(this.iframe):s={width:0,height:0},e=="width"&&ct(t)&&(this.lockedWidth=t-n.width-s.width),e=="height"&&ct(i)&&(this.lockedHeight=i-n.height-s.height),e==="both"&&ct(t)&&ct(i)&&(this.lockedWidth=t-n.width-s.width,this.lockedHeight=i-n.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t=this.lockedWidth,i=this.lockedHeight,n;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(t=this.layout.columnWidth,i=this.layout.height):this.settings.axis==="horizontal"?(t=this.contents.textWidth(),t%this.layout.pageWidth>0&&(t=Math.ceil(t/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(n=t/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&n%2>0&&(t+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(i=this.contents.textHeight(),this.settings.flow==="paginated"&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||t!=this._width||i!=this._height)&&this.reframe(t,i),this._expanding=!1)}reframe(e,t){var i;ct(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),ct(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t);let n=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?t-this.prevBounds.height:t;i={width:e,height:t,widthDelta:n,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let a;for(let o in this.marks)this.marks.hasOwnProperty(o)&&(a=this.marks[o],this.placeMark(a.element,a.range))}),this.onResize(this,i),this.emit(xe.VIEWS.RESIZED,i),this.prevBounds=i,this.elementBounds=Sr(this.element)}load(e){var t=new Ge,i=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),i;if(this.iframe.onload=(function(s){this.onLoad(s,t)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=Pr(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),i;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var n=this;MSApp.execUnsafeLocalFunction(function(){n.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return i}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Gs(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):(i=this.document.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(xe.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(xe.CONTENTS.RESIZE,n=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new Ge;return this.displayed?t.resolve(this):this.render(e).then((function(){this.emit(xe.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}).bind(this),function(i){t.reject(i,this)}),t.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(xe.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(xe.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=Sr(this.element)),this.elementBounds}highlight(e,t={},i,n="epubjs-hl",s={}){if(!this.contents)return;const a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(xe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new xr.Pane(this.iframe,this.element));let h=new xr.Highlight(o,n,t,a),c=this.pane.addMark(h);return this.highlights[e]={mark:c,element:c.element,listeners:[u,i]},c.element.setAttribute("ref",n),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}underline(e,t={},i,n="epubjs-ul",s={}){if(!this.contents)return;const a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(xe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new xr.Pane(this.iframe,this.element));let h=new xr.Underline(o,n,t,a),c=this.pane.addMark(h);return this.underlines[e]={mark:c,element:c.element,listeners:[u,i]},c.element.setAttribute("ref",n),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}mark(e,t={},i){if(!this.contents)return;if(e in this.marks)return this.marks[e];let n=this.contents.range(e);if(!n)return;let s=n.commonAncestorContainer,a=s.nodeType===1?s:s.parentNode,o=h=>{this.emit(xe.VIEWS.MARK_CLICKED,e,t)};n.collapsed&&s.nodeType===1?(n=new Range,n.selectNodeContents(s)):n.collapsed&&(n=new Range,n.selectNodeContents(a));let u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,t&&Object.keys(t).forEach(h=>{u.dataset[h]=t[h]}),i&&(u.addEventListener("click",i),u.addEventListener("touchstart",i)),u.addEventListener("click",o),u.addEventListener("touchstart",o),this.placeMark(u,n),this.element.appendChild(u),this.marks[e]={element:u,range:n,listeners:[o,i]},a}placeMark(e,t){let i,n,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let o=t.getBoundingClientRect();i=o.top,n=o.right}else{let o=t.getClientRects(),u;for(var a=0;a!=o.length;a++)u=o[a],(!s||u.left<s)&&(s=u.left,n=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,i=u.top)}e.style.top=`${i}px`,e.style.left=`${n}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&Bu(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}Jt(Vu.prototype);function Nc(){var r="reverse",e=kc();return document.body.appendChild(e),e.scrollLeft>0?r="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(r="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(r="negative")),document.body.removeChild(e),r}function kc(){var r=document.createElement("div");r.dir="rtl",r.style.position="fixed",r.style.width="1px",r.style.height="1px",r.style.top="0px",r.style.left="0px",r.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var t=document.createElement("span");t.style.width="1px",t.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",e.appendChild(t),e.appendChild(i),r.appendChild(e),r}var Mn,ao;function Zs(){if(ao)return Mn;ao=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Mn=r,Mn}var Un,oo;function Ic(){if(oo)return Un;oo=1;var r=typeof Pt=="object"&&Pt&&Pt.Object===Object&&Pt;return Un=r,Un}var qn,uo;function Gu(){if(uo)return qn;uo=1;var r=Ic(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return qn=t,qn}var jn,lo;function Oc(){if(lo)return jn;lo=1;var r=Gu(),e=function(){return r.Date.now()};return jn=e,jn}var Wn,fo;function Lc(){if(fo)return Wn;fo=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return Wn=e,Wn}var Hn,ho;function Bc(){if(ho)return Hn;ho=1;var r=Lc(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return Hn=t,Hn}var Vn,co;function Zu(){if(co)return Vn;co=1;var r=Gu(),e=r.Symbol;return Vn=e,Vn}var Gn,po;function Fc(){if(po)return Gn;po=1;var r=Zu(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,n=r?r.toStringTag:void 0;function s(a){var o=t.call(a,n),u=a[n];try{a[n]=void 0;var h=!0}catch{}var c=i.call(a);return h&&(o?a[n]=u:delete a[n]),c}return Gn=s,Gn}var Zn,go;function Pc(){if(go)return Zn;go=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return Zn=t,Zn}var $n,vo;function zc(){if(vo)return $n;vo=1;var r=Zu(),e=Fc(),t=Pc(),i="[object Null]",n="[object Undefined]",s=r?r.toStringTag:void 0;function a(o){return o==null?o===void 0?n:i:s&&s in Object(o)?e(o):t(o)}return $n=a,$n}var Yn,mo;function Mc(){if(mo)return Yn;mo=1;function r(e){return e!=null&&typeof e=="object"}return Yn=r,Yn}var Xn,yo;function Uc(){if(yo)return Xn;yo=1;var r=zc(),e=Mc(),t="[object Symbol]";function i(n){return typeof n=="symbol"||e(n)&&r(n)==t}return Xn=i,Xn}var Kn,bo;function qc(){if(bo)return Kn;bo=1;var r=Bc(),e=Zs(),t=Uc(),i=NaN,n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function u(h){if(typeof h=="number")return h;if(t(h))return i;if(e(h)){var c=typeof h.valueOf=="function"?h.valueOf():h;h=e(c)?c+"":c}if(typeof h!="string")return h===0?h:+h;h=r(h);var d=s.test(h);return d||a.test(h)?o(h.slice(2),d?2:8):n.test(h)?i:+h}return Kn=u,Kn}var Jn,_o;function $u(){if(_o)return Jn;_o=1;var r=Zs(),e=Oc(),t=qc(),i="Expected a function",n=Math.max,s=Math.min;function a(o,u,h){var c,d,b,v,N,E,p=0,g=!1,m=!1,x=!0;if(typeof o!="function")throw new TypeError(i);u=t(u)||0,r(h)&&(g=!!h.leading,m="maxWait"in h,b=m?n(t(h.maxWait)||0,u):b,x="trailing"in h?!!h.trailing:x);function T(Y){var ce=c,ue=d;return c=d=void 0,p=Y,v=o.apply(ue,ce),v}function _(Y){return p=Y,N=setTimeout(L,u),g?T(Y):v}function C(Y){var ce=Y-E,ue=Y-p,me=u-ce;return m?s(me,b-ue):me}function I(Y){var ce=Y-E,ue=Y-p;return E===void 0||ce>=u||ce<0||m&&ue>=b}function L(){var Y=e();if(I(Y))return k(Y);N=setTimeout(L,C(Y))}function k(Y){return N=void 0,x&&c?T(Y):(c=d=void 0,v)}function B(){N!==void 0&&clearTimeout(N),p=0,c=E=d=N=void 0}function $(){return N===void 0?v:k(e())}function H(){var Y=e(),ce=I(Y);if(c=arguments,d=this,E=Y,ce){if(N===void 0)return _(E);if(m)return clearTimeout(N),N=setTimeout(L,u),T(E)}return N===void 0&&(N=setTimeout(L,u)),v}return H.cancel=B,H.flush=$,H}return Jn=a,Jn}var Qn,wo;function jc(){if(wo)return Qn;wo=1;var r=$u(),e=Zs(),t="Expected a function";function i(n,s,a){var o=!0,u=!0;if(typeof n!="function")throw new TypeError(t);return e(a)&&(o="leading"in a?!!a.leading:o,u="trailing"in a?!!a.trailing:u),r(n,s,{leading:o,maxWait:s,trailing:u})}return Qn=i,Qn}var Wc=jc();const Hc=Wi(Wc);class Vc{constructor(e){this.settings=e||{},this.id="epubjs-container-"+Kr(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,i=e.width,n=e.overflow||!1,s=e.axis||"vertical",a=e.direction;wt(this.settings,e),e.height&&ct(e.height)&&(t=e.height+"px"),e.width&&ct(e.width)&&(i=e.width+"px");let o=document.createElement("div");return o.id=this.id,o.classList.add("epub-container"),o.style.wordSpacing="0",o.style.lineHeight="0",o.style.verticalAlign="top",o.style.position="relative",s==="horizontal"&&(o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="nowrap"),i&&(o.style.width=i),t&&(o.style.height=t),n&&(n==="scroll"&&s==="vertical"?(o.style["overflow-y"]=n,o.style["overflow-x"]="hidden"):n==="scroll"&&s==="horizontal"?(o.style["overflow-y"]="hidden",o.style["overflow-x"]=n):o.style.overflow=n),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}getElement(e){var t;if(Nu(e)?t=e:typeof e=="string"&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}attachTo(e){var t=this.getElement(e),i;if(t)return this.settings.hidden?i=this.wrapper:i=this.container,t.appendChild(i),this.element=t,t}getContainer(){return this.container}onResize(e){(!ct(this.settings.width)||!ct(this.settings.height))&&(this.resizeFunc=Hc(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,t){var i;let n=e||this.settings.width,s=t||this.settings.height;e===null?(i=this.element.getBoundingClientRect(),i.width&&(e=Math.floor(i.width),this.container.style.width=e+"px")):ct(e)?this.container.style.width=e+"px":this.container.style.width=e,t===null?(i=i||this.element.getBoundingClientRect(),i.height&&(t=i.height,this.container.style.height=t+"px")):ct(t)?this.container.style.height=t+"px":this.container.style.height=t,ct(e)||(e=this.container.clientWidth),ct(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let a=Fr(),o=window.getComputedStyle(document.body),u={left:parseFloat(o["padding-left"])||0,right:parseFloat(o["padding-right"])||0,top:parseFloat(o["padding-top"])||0,bottom:parseFloat(o["padding-bottom"])||0};return n||(e=a.width-u.left-u.right),(this.settings.fullsize&&!s||!s)&&(t=a.height-u.top-u.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?Fr():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var i="#"+this.id+" ",n="";this.sheet||(this.sheet=this.getSheet()),t.forEach(function(s){for(var a in s)s.hasOwnProperty(a)&&(n+=a+":"+s[a]+";")}),this.sheet.insertRule(i+e+" {"+n+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class Gc{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(this.length){for(var i=0;i<t;i++)e=this._views[i],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,i=this.length,n=0;n<i;n++)if(t=this._views[n],t.displayed&&t.section.index==e.index)return t}displayed(){for(var e=[],t,i=this.length,n=0;n<i;n++)t=this._views[n],t.displayed&&e.push(t);return e}show(){for(var e,t=this.length,i=0;i<t;i++)e=this._views[i],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,i=0;i<t;i++)e=this._views[i],e.displayed&&e.hide();this.hidden=!0}}class qr{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new Vs(this),this.settings=wt(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),wt(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){let i=e.tagName;typeof this.settings.fullsize>"u"&&i&&(i.toLowerCase()=="body"||i.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=Nc(),this.stage=new Vc({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new Gc(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(t){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(xe.MANAGERS.ORIENTATION_CHANGE,t)}).bind(this),500)}onResized(e){this.resize()}resize(e,t,i){let n=this.stage.size(e,t);if(this.winBounds=Fr(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===n.width&&this._stageSize.height===n.height||(this._stageSize=n,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(xe.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},i))}createView(e,t){return new this.View(e,wt(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,i){let n;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||t.index===0)return;if(n=t.next(),n&&!n.properties.includes("page-spread-left"))return i.call(this,n)}}display(e,t){var i=new Ge,n=i.promise;(t===e.href||ct(t))&&(t=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let o=s.offset();if(this.settings.direction==="ltr")this.scrollTo(o.left,o.top,!0);else{let u=s.width();this.scrollTo(o.left+u,o.top,!0)}if(t){let u=s.locationOf(t),h=s.width();this.moveTo(u,h)}return i.resolve(),n}this.clear();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.add(e,a).then((function(o){if(t){let u=o.locationOf(t),h=o.width();this.moveTo(u,h)}}).bind(this),o=>{i.reject(o)}).then((function(){return this.handleNextPrePaginated(a,e,this.add)}).bind(this)).then((function(){this.views.show(),i.resolve()}).bind(this)),n}afterDisplayed(e){this.emit(xe.MANAGERS.ADDED,e)}afterResized(e){this.emit(xe.MANAGERS.RESIZE,e.section)}moveTo(e,t){var i=0,n=0;this.isPaginated?(i=Math.floor(e.left/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollWidth&&(i=this.container.scrollWidth-this.layout.delta),n=Math.floor(e.top/this.layout.delta)*this.layout.delta,n+this.layout.delta>this.container.scrollHeight&&(n=this.container.scrollHeight-this.layout.delta)):n=e.top,this.settings.direction==="rtl"&&(i=i+this.layout.delta,i=i-t),this.scrollTo(i,n,!0)}add(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(xe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}append(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(xe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}prepend(e,t){var i=this.createView(e,t);return i.on(xe.VIEWS.RESIZED,n=>{this.counter(n)}),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(xe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,t;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,t<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft,t>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(t=this.container.scrollLeft+this.layout.delta*-1,t>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(n=!0),this.append(e,n).then((function(){return this.handleNextPrePaginated(n,e,this.append)}).bind(this),s=>s).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,t;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft,t>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft+this.container.offsetWidth,t<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(t=this.container.scrollLeft,t<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(n=!0),this.prepend(e,n).then((function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}).bind(this),s=>s).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=t.height<window.innerHeight?t.height:window.innerHeight,n=t.width<window.innerWidth?t.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let a=0,o=0;return this.settings.fullsize&&(a=s?window.scrollY:window.scrollX),e.map(h=>{let{index:c,href:d}=h.section,b=h.position(),v=h.width(),N=h.height(),E,p,g,m;s?(E=a+t.top-b.top+o,p=E+i-o,m=this.layout.count(N,i).pages,g=i):(E=a+t.left-b.left+o,p=E+n-o,m=this.layout.count(v,n).pages,g=n);let x=Math.ceil(E/g),T=[],_=Math.ceil(p/g);if(this.settings.direction==="rtl"&&!s){let L=x;x=m-_,_=m-L}T=[];for(var C=x;C<=_;C++){let L=C+1;T.push(L)}let I=this.mapping.page(h.contents,h.section.cfiBase,E,p);return{index:c,href:d,pages:T,totalPages:m,mapping:I}})}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=0,n=0;return this.settings.fullsize&&(i=window.scrollX),e.map(a=>{let{index:o,href:u}=a.section,h,c=a.position(),d=a.width(),b,v,N;this.settings.direction==="rtl"?(h=t.right-i,N=Math.min(Math.abs(h-c.left),this.layout.width)-n,v=c.width-(c.right-h)-n,b=v-N):(h=t.left+i,N=Math.min(c.right-h,this.layout.width)-n,b=h-c.left+n,v=b+N),n+=N;let E=this.mapping.page(a.contents,a.section.cfiBase,b,v),p=this.layout.count(d).pages,g=Math.floor(b/this.layout.pageWidth),m=[],x=Math.floor(v/this.layout.pageWidth);if(g<0&&(g=0,x=x+1),this.settings.direction==="rtl"){let _=g;g=p-x,x=p-_}for(var T=g+1;T<=x;T++){let _=T;m.push(_)}return{index:o,href:u,pages:m,totalPages:p,mapping:E}})}isVisible(e,t,i,n){var s=e.position(),a=n||this.bounds();return this.settings.axis==="horizontal"&&s.right>a.left-t&&s.left<a.right+i?!0:this.settings.axis==="vertical"&&s.bottom>a.top-t&&s.top<a.bottom+i}visible(){for(var e=this.bounds(),t=this.views.displayed(),i=t.length,n=[],s,a,o=0;o<i;o++)a=t[o],s=this.isVisible(a,0,0,e),s===!0&&n.push(a);return n}scrollBy(e,t,i){let n=this.settings.direction==="rtl"?-1:1;i&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*n,t*n):(e&&(this.container.scrollLeft+=e*n),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,i){i&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(xe.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(xe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Ur(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(t){t&&t.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){!t&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Ur(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t="auto"){let i=e==="paginated"||e==="auto";this.isPaginated=i,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=i?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(t){const i=t&&t.contents;i&&e.push(i)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}Jt(qr.prototype);const Zc={easeInCubic:function(r){return Math.pow(r,3)}};class bs{constructor(e,t){this.settings=wt({duration:80,minVelocity:.2,minDistance:10,easing:Zc.easeInCubic},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(xe.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(xe.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;["touchstart","touchmove","touchend"].forEach(i=>{t.on(i,n=>this.triggerViewEvent(n,t))})}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:i}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:i}=e.touches[0],n=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&n<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();t!==0?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,i=Math.abs(t),n=this.endTime-this.startTime,s=t/n,a=this.settings.minVelocity;if(i<=this.settings.minDistance||i>=e)return 0;if(s>a)return-1;if(s<-a)return 1}needsSnap(){let e=this.scrollLeft,t=this.layout.pageWidth*this.layout.divisor;return e%t!==0}snap(e=0){let t=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor,n=Math.round(t/i)*i;return e&&(n+=e*i),this.smoothScrollTo(n)}smoothScrollTo(e){const t=new Ge,i=this.scrollLeft,n=this.now(),s=this.settings.duration,a=this.settings.easing;this.snapping=!0;function o(){const u=this.now(),h=Math.min(1,(u-n)/s);if(a(h),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,t.resolve();return}h<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(i+(e-i)*h,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}return o.call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}Jt(bs.prototype);var $c=$u();const Yc=Wi($c);class Xc extends qr{constructor(e){super(e),this.name="continuous",this.settings=wt(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),wt(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return qr.prototype.display.call(this,e,t).then((function(){return this.fill()}).bind(this))}fill(e){var t=e||new Ge;return this.q.enqueue(()=>this.check()).then(i=>{i?this.fill(t):t.resolve()}),t.promise}moveTo(e){var t=0,i=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,t+this.settings.offsetDelta):(i=e.top,e.top+this.settings.offsetDelta),(t>0||i>0)&&this.scrollBy(t,i,!0)}afterResized(e){this.emit(xe.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(xe.VIEWS.RESIZED,i=>{t.expanded=!0}),t.on(xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(xe.VIEWS.RESIZED,i=>{t.expanded=!0}),t.on(xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(xe.VIEWS.RESIZED,i=>{this.counter(i),t.expanded=!0}),t.on(xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t=this.bounds(),i=this.views.all(),n=i.length,s=typeof e<"u"?e:this.settings.offset||0,a,o,u=new Ge,h=[],c=0;c<n;c++)if(o=i[c],a=this.isVisible(o,s,s,t),a===!0)if(o.displayed)o.show();else{let d=o.display(this.request).then(function(b){b.show()},b=>{o.hide()});h.push(d)}else this.q.enqueue(o.destroy.bind(o)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return h.length?Promise.all(h).catch(d=>{u.reject(d)}):(u.resolve(),u.promise)}check(e,t){var i=new Ge,n=[],s=this.settings.axis==="horizontal",a=this.settings.offset||0;e&&s&&(a=e),t&&!s&&(a=t);var o=this._bounds;let u=s?this.scrollLeft:this.scrollTop,h=s?Math.floor(o.width):o.height,c=s?this.container.scrollWidth:this.container.scrollHeight,d=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",b=this.settings.rtlScrollType,v=this.settings.direction==="rtl";this.settings.fullsize?(s&&v&&b==="negative"||!s&&v&&b==="default")&&(u=u*-1):(v&&b==="default"&&d==="horizontal"&&(u=c-h-u),v&&b==="negative"&&d==="horizontal"&&(u=u*-1));let N=()=>{let x=this.views.first(),T=x&&x.section.prev();T&&n.push(this.prepend(T))},E=()=>{let x=this.views.last(),T=x&&x.section.next();T&&n.push(this.append(T))},p=u+h+a,g=u-a;p>=c&&E(),g<0&&N();let m=n.map(x=>x.display(this.request));return n.length?Promise.all(m).then(()=>this.check()).then(()=>this.update(a),x=>x):(this.q.enqueue((function(){this.update()}).bind(this)),i.resolve(!1),i.promise)}trim(){for(var e=new Ge,t=this.views.displayed(),i=t[0],n=t[t.length-1],s=this.views.indexOf(i),a=this.views.indexOf(n),o=this.views.slice(0,s),u=this.views.slice(a+1),h=0;h<o.length-1;h++)this.erase(o[h],o);for(var c=1;c<u.length;c++)this.erase(u[c]);return e.resolve(),e.promise}erase(e,t){var i,n;this.settings.fullsize?(i=window.scrollY,n=window.scrollX):(i=this.container.scrollTop,n=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),t&&(this.settings.axis==="vertical"?this.scrollTo(0,i-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(n+Math.floor(s.width),0,!0):this.scrollTo(n,0,!0):this.scrollTo(n-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(t){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new bs(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=js;let t=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=Yc(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,t,i=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*i,t=window.scrollX*i):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(xe.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(xe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new bs(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class $s{constructor(e,t){this.settings=wt(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),wt(this.settings,t),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new jt(this),this.hooks.serialize=new jt(this),this.hooks.content=new jt(this),this.hooks.unloaded=new jt(this),this.hooks.layout=new jt(this),this.hooks.render=new jt(this),this.hooks.show=new jt(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new xc(this),this.annotations=new Cc(this),this.epubcfi=new Ze,this.q=new Vs(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Ge,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var t;return typeof e=="string"&&e==="default"?t=qr:typeof e=="string"&&e==="continuous"?t=Xc:t=e,t}requireView(e){var t;return typeof e=="string"&&e==="iframe"?t=Vu:t=e,t}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(xe.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(xe.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(xe.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(xe.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(xe.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(xe.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(xe.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var t=new Ge,i=t.promise,n;return this.displaying=t,this.book.locations.length()&&ku(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),n=this.book.spine.get(e),n?(this.manager.display(n,e).then(()=>{t.resolve(n),this.displaying=void 0,this.emit(xe.RENDITION.DISPLAYED,n),this.reportLocation()},s=>{this.emit(xe.RENDITION.DISPLAY_ERROR,s)}),i):(t.reject(new Error("No Section Found")),i)}}afterDisplayed(e){e.on(xe.VIEWS.MARK_CLICKED,(t,i)=>this.triggerMarkEvent(t,i,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(xe.RENDITION.RENDERED,e.section,e)}):this.emit(xe.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(xe.RENDITION.REMOVED,e.section,e)})}onResized(e,t){this.emit(xe.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(xe.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,i){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,i)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t,i=this.settings.layout||e.layout||"reflowable",n=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",a=this.settings.flow||e.flow||"auto",o=e.viewport||"",u=this.settings.minSpreadWidth||e.minSpreadWidth||800,h=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),t={layout:i,spread:n,orientation:s,flow:a,viewport:o,minSpreadWidth:u,direction:h},t}flow(e){var t=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(t="scrolled"),(e==="auto"||e==="paginated")&&(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new ju(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(xe.LAYOUT.UPDATED,(t,i)=>{this.emit(xe.RENDITION.LAYOUT,t,i)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(n){let s=this.located(n);!s||!s.start||!s.end||(this.location=s,this.emit(xe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(xe.RENDITION.RELOCATED,this.location))}).bind(this));else if(i){let n=this.located(i);if(!n||!n.start||!n.end)return;this.location=n,this.emit(xe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(xe.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(t){return this.located(t)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],i=e[e.length-1],n={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:i.index,href:i.href,cfi:i.mapping.end,displayed:{page:i.pages[i.pages.length-1]||1,total:i.totalPages}}},s=this.book.locations.locationFromCfi(t.mapping.start),a=this.book.locations.locationFromCfi(i.mapping.end);s!=null&&(n.start.location=s,n.start.percentage=this.book.locations.percentageFromLocation(s)),a!=null&&(n.end.location=a,n.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(t.mapping.start),u=this.book.pageList.pageFromCfi(i.mapping.end);return o!=-1&&(n.start.page=o),u!=-1&&(n.end.page=u),i.index===this.book.spine.last().index&&n.end.displayed.page>=n.end.displayed.total&&(n.atEnd=!0),t.index===this.book.spine.first().index&&n.start.displayed.page===1&&(n.atStart=!0),n}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){Tr.forEach(t=>{e.on(t,i=>this.triggerViewEvent(i,e))}),e.on(xe.CONTENTS.SELECTED,t=>this.triggerSelectedEvent(t,e))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(xe.RENDITION.SELECTED,e,t)}triggerMarkEvent(e,t,i){this.emit(xe.RENDITION.MARK_CLICKED,e,t,i)}getRange(e,t){var i=new Ze(e),n=this.manager.visible().filter(function(s){if(i.spinePos===s.index)return!0});if(n.length)return n[0].contents.range(i,t)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let t=e.window.getComputedStyle(e.content,null),i=(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)))*.95,n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,a){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(xe.CONTENTS.LINK_CLICKED,t=>{let i=this.book.path.relative(t);this.display(i)})}injectStylesheet(e,t){let i=e.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(i)}injectScript(e,t){let i=e.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",this.settings.script),i.textContent=" ",e.getElementsByTagName("head")[0].appendChild(i)}injectIdentifier(e,t){let i=this.book.packaging.metadata.identifier,n=e.createElement("meta");n.setAttribute("name","dc.relation.ispartof"),i&&n.setAttribute("content",i),e.getElementsByTagName("head")[0].appendChild(n)}}Jt($s.prototype);function pi(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var es={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Eo;function Kc(){return Eo||(Eo=1,function(r,e){(function(t){r.exports=t()})(function(){return function t(i,n,s){function a(h,c){if(!n[h]){if(!i[h]){var d=typeof pi=="function"&&pi;if(!c&&d)return d(h,!0);if(o)return o(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var v=n[h]={exports:{}};i[h][0].call(v.exports,function(N){var E=i[h][1][N];return a(E||N)},v,v.exports,t,i,n,s)}return n[h].exports}for(var o=typeof pi=="function"&&pi,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(t,i,n){var s=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(u){for(var h=[],c,d,b,v,N,E,p,g=0,m=u.length,x=m,T=s.getTypeOf(u)!=="string";g<u.length;)x=m-g,T?(c=u[g++],d=g<m?u[g++]:0,b=g<m?u[g++]:0):(c=u.charCodeAt(g++),d=g<m?u.charCodeAt(g++):0,b=g<m?u.charCodeAt(g++):0),v=c>>2,N=(c&3)<<4|d>>4,E=x>1?(d&15)<<2|b>>6:64,p=x>2?b&63:64,h.push(o.charAt(v)+o.charAt(N)+o.charAt(E)+o.charAt(p));return h.join("")},n.decode=function(u){var h,c,d,b,v,N,E,p=0,g=0,m="data:";if(u.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");u=u.replace(/[^A-Za-z0-9+/=]/g,"");var x=u.length*3/4;if(u.charAt(u.length-1)===o.charAt(64)&&x--,u.charAt(u.length-2)===o.charAt(64)&&x--,x%1!==0)throw new Error("Invalid base64 input, bad content length.");var T;for(a.uint8array?T=new Uint8Array(x|0):T=new Array(x|0);p<u.length;)b=o.indexOf(u.charAt(p++)),v=o.indexOf(u.charAt(p++)),N=o.indexOf(u.charAt(p++)),E=o.indexOf(u.charAt(p++)),h=b<<2|v>>4,c=(v&15)<<4|N>>2,d=(N&3)<<6|E,T[g++]=h,N!==64&&(T[g++]=c),E!==64&&(T[g++]=d);return T}},{"./support":30,"./utils":32}],2:[function(t,i,n){var s=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(c,d,b,v,N){this.compressedSize=c,this.uncompressedSize=d,this.crc32=b,this.compression=v,this.compressedContent=N}h.prototype={getContentWorker:function(){var c=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(c,d,b){return c.pipe(new o).pipe(new u("uncompressedSize")).pipe(d.compressWorker(b)).pipe(new u("compressedSize")).withStreamInfo("compression",d)},i.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,n){var s=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,n){var s=t("./utils");function a(){for(var c,d=[],b=0;b<256;b++){c=b;for(var v=0;v<8;v++)c=c&1?3988292384^c>>>1:c>>>1;d[b]=c}return d}var o=a();function u(c,d,b,v){var N=o,E=v+b;c=c^-1;for(var p=v;p<E;p++)c=c>>>8^N[(c^d[p])&255];return c^-1}function h(c,d,b,v){var N=o,E=v+b;c=c^-1;for(var p=v;p<E;p++)c=c>>>8^N[(c^d.charCodeAt(p))&255];return c^-1}i.exports=function(d,b){if(typeof d>"u"||!d.length)return 0;var v=s.getTypeOf(d)!=="string";return v?u(b|0,d,d.length,0):h(b|0,d,d.length,0)}},{"./utils":32}],5:[function(t,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,i,n){var s=null;typeof Promise<"u"?s=Promise:s=t("lie"),i.exports={Promise:s}},{lie:37}],7:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),u=t("./stream/GenericWorker"),h=s?"uint8array":"array";n.magic="\b\0";function c(d,b){u.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=b,this.meta={}}o.inherits(c,u),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(h,d.data),!1)},c.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(b){d.push({data:b,meta:d.meta})}},n.compressWorker=function(d){return new c("Deflate",d)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,n){var s=t("../utils"),a=t("../stream/GenericWorker"),o=t("../utf8"),u=t("../crc32"),h=t("../signature"),c=function(g,m){var x="",T;for(T=0;T<m;T++)x+=String.fromCharCode(g&255),g=g>>>8;return x},d=function(g,m){var x=g;return g||(x=m?16893:33204),(x&65535)<<16},b=function(g){return(g||0)&63},v=function(g,m,x,T,_,C){var I=g.file,L=g.compression,k=C!==o.utf8encode,B=s.transformTo("string",C(I.name)),$=s.transformTo("string",o.utf8encode(I.name)),H=I.comment,Y=s.transformTo("string",C(H)),ce=s.transformTo("string",o.utf8encode(H)),ue=$.length!==I.name.length,me=ce.length!==H.length,re,Q,ye="",ke="",pe="",we=I.dir,Pe=I.date,Ne={crc32:0,compressedSize:0,uncompressedSize:0};(!m||x)&&(Ne.crc32=g.crc32,Ne.compressedSize=g.compressedSize,Ne.uncompressedSize=g.uncompressedSize);var Ue=0;m&&(Ue|=8),!k&&(ue||me)&&(Ue|=2048);var Ke=0,We=0;we&&(Ke|=16),_==="UNIX"?(We=798,Ke|=d(I.unixPermissions,we)):(We=20,Ke|=b(I.dosPermissions)),re=Pe.getUTCHours(),re=re<<6,re=re|Pe.getUTCMinutes(),re=re<<5,re=re|Pe.getUTCSeconds()/2,Q=Pe.getUTCFullYear()-1980,Q=Q<<4,Q=Q|Pe.getUTCMonth()+1,Q=Q<<5,Q=Q|Pe.getUTCDate(),ue&&(ke=c(1,1)+c(u(B),4)+$,ye+="up"+c(ke.length,2)+ke),me&&(pe=c(1,1)+c(u(Y),4)+ce,ye+="uc"+c(pe.length,2)+pe);var Re="";Re+=`
\0`,Re+=c(Ue,2),Re+=L.magic,Re+=c(re,2),Re+=c(Q,2),Re+=c(Ne.crc32,4),Re+=c(Ne.compressedSize,4),Re+=c(Ne.uncompressedSize,4),Re+=c(B.length,2),Re+=c(ye.length,2);var $e=h.LOCAL_FILE_HEADER+Re+B+ye,Ye=h.CENTRAL_FILE_HEADER+c(We,2)+Re+c(Y.length,2)+"\0\0\0\0"+c(Ke,4)+c(T,4)+B+ye+Y;return{fileRecord:$e,dirRecord:Ye}},N=function(g,m,x,T,_){var C="",I=s.transformTo("string",_(T));return C=h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(g,2)+c(g,2)+c(m,4)+c(x,4)+c(I.length,2)+I,C},E=function(g){var m="";return m=h.DATA_DESCRIPTOR+c(g.crc32,4)+c(g.compressedSize,4)+c(g.uncompressedSize,4),m};function p(g,m,x,T){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=x,this.encodeFileName=T,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,a),p.prototype.push=function(g){var m=g.meta.percent||0,x=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,a.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:x?(m+100*(x-T-1))/x:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var m=this.streamFiles&&!g.file.dir;if(m){var x=v(g,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var m=this.streamFiles&&!g.file.dir,x=v(g,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),m)this.push({data:E(g),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var x=this.bytesWritten-g,T=N(this.dirRecords.length,x,g,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var m=this;return g.on("data",function(x){m.processChunk(x)}),g.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),g.on("error",function(x){m.error(x)}),this},p.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},p.prototype.error=function(g){var m=this._sources;if(!a.prototype.error.call(this,g))return!1;for(var x=0;x<m.length;x++)try{m[x].error(g)}catch{}return!0},p.prototype.lock=function(){a.prototype.lock.call(this);for(var g=this._sources,m=0;m<g.length;m++)g[m].lock()},i.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,n){var s=t("../compressions"),a=t("./ZipFileWorker"),o=function(u,h){var c=u||h,d=s[c];if(!d)throw new Error(c+" is not a valid compression method !");return d};n.generateWorker=function(u,h,c){var d=new a(h.streamFiles,c,h.platform,h.encodeFileName),b=0;try{u.forEach(function(v,N){b++;var E=o(N.options.compression,h.compression),p=N.options.compressionOptions||h.compressionOptions||{},g=N.dir,m=N.date;N._compressWorker(E,p).withStreamInfo("file",{name:v,dir:g,date:m,comment:N.comment||"",unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions}).pipe(d)}),d.entriesCount=b}catch(v){d.error(v)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}s.prototype=t("./object"),s.prototype.loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=t("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,n){var s=t("./utils"),a=t("./external"),o=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function d(b){return new a.Promise(function(v,N){var E=b.decompressed.getContentWorker().pipe(new h);E.on("error",function(p){N(p)}).on("end",function(){E.streamInfo.crc32!==b.decompressed.crc32?N(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}i.exports=function(b,v){var N=this;return v=s.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(b)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,v.optimizedBinaryString,v.base64).then(function(E){var p=new u(v);return p.load(E),p}).then(function(p){var g=[a.Promise.resolve(p)],m=p.files;if(v.checkCRC32)for(var x=0;x<m.length;x++)g.push(d(m[x]));return a.Promise.all(g)}).then(function(p){for(var g=p.shift(),m=g.files,x=0;x<m.length;x++){var T=m[x],_=T.fileNameStr,C=s.resolve(T.fileNameStr);N.file(C,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:v.createFolders}),T.dir||(N.file(C).unsafeOriginalName=_)}return g.zipComment.length&&(N.comment=g.zipComment),N})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,n){var s=t("../utils"),a=t("../stream/GenericWorker");function o(u,h){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(o,a),o.prototype._bindStream=function(u){var h=this;this._stream=u,u.pause(),u.on("data",function(c){h.push({data:c,meta:{percent:0}})}).on("error",function(c){h.isPaused?this.generatedError=c:h.error(c)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},o.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},o.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,n){var s=t("readable-stream").Readable,a=t("../utils");a.inherits(o,s);function o(u,h,c){s.call(this,h),this._helper=u;var d=this;u.on("data",function(b,v){d.push(b)||d._helper.pause(),c&&c(v)}).on("error",function(b){d.emit("error",b)}).on("end",function(){d.push(null)})}o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,i,n){var s=t("./utf8"),a=t("./utils"),o=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),h=t("./defaults"),c=t("./compressedObject"),d=t("./zipObject"),b=t("./generate"),v=t("./nodejsUtils"),N=t("./nodejs/NodejsStreamInputAdapter"),E=function(_,C,I){var L=a.getTypeOf(C),k,B=a.extend(I||{},h);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&B.unixPermissions&16384&&(B.dir=!0),B.dosPermissions&&B.dosPermissions&16&&(B.dir=!0),B.dir&&(_=g(_)),B.createFolders&&(k=p(_))&&m.call(this,k,!0);var $=L==="string"&&B.binary===!1&&B.base64===!1;(!I||typeof I.binary>"u")&&(B.binary=!$);var H=C instanceof c&&C.uncompressedSize===0;(H||B.dir||!C||C.length===0)&&(B.base64=!1,B.binary=!0,C="",B.compression="STORE",L="string");var Y=null;C instanceof c||C instanceof o?Y=C:v.isNode&&v.isStream(C)?Y=new N(_,C):Y=a.prepareContent(_,C,B.binary,B.optimizedBinaryString,B.base64);var ce=new d(_,Y,B);this.files[_]=ce},p=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var C=_.lastIndexOf("/");return C>0?_.substring(0,C):""},g=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},m=function(_,C){return C=typeof C<"u"?C:h.createFolders,_=g(_),this.files[_]||E.call(this,_,null,{dir:!0,createFolders:C}),this.files[_]};function x(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var C,I,L;for(C in this.files)L=this.files[C],I=C.slice(this.root.length,C.length),I&&C.slice(0,this.root.length)===this.root&&_(I,L)},filter:function(_){var C=[];return this.forEach(function(I,L){_(I,L)&&C.push(L)}),C},file:function(_,C,I){if(arguments.length===1)if(x(_)){var L=_;return this.filter(function(B,$){return!$.dir&&L.test(B)})}else{var k=this.files[this.root+_];return k&&!k.dir?k:null}else _=this.root+_,E.call(this,_,C,I);return this},folder:function(_){if(!_)return this;if(x(_))return this.filter(function(k,B){return B.dir&&_.test(k)});var C=this.root+_,I=m.call(this,C),L=this.clone();return L.root=I.name,L},remove:function(_){_=this.root+_;var C=this.files[_];if(C||(_.slice(-1)!=="/"&&(_+="/"),C=this.files[_]),C&&!C.dir)delete this.files[_];else for(var I=this.filter(function(k,B){return B.name.slice(0,_.length)===_}),L=0;L<I.length;L++)delete this.files[I[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var C,I={};try{if(I=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),I.type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");a.checkSupport(I.type),(I.platform==="darwin"||I.platform==="freebsd"||I.platform==="linux"||I.platform==="sunos")&&(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var L=I.comment||this.comment||"";C=b.generateWorker(this,I,L)}catch(k){C=new o("error"),C.error(k)}return new u(C,I.type||"string",I.mimeType)},generateAsync:function(_,C){return this.generateInternalStream(_).accumulate(C)},generateNodeStream:function(_,C){return _=_||{},_.type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(C)}};i.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,n){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,n){var s=t("./DataReader"),a=t("../utils");function o(u){s.call(this,u);for(var h=0;h<this.data.length;h++)u[h]=u[h]&255}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data[this.zero+u]},o.prototype.lastIndexOfSignature=function(u){for(var h=u.charCodeAt(0),c=u.charCodeAt(1),d=u.charCodeAt(2),b=u.charCodeAt(3),v=this.length-4;v>=0;--v)if(this.data[v]===h&&this.data[v+1]===c&&this.data[v+2]===d&&this.data[v+3]===b)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(u){var h=u.charCodeAt(0),c=u.charCodeAt(1),d=u.charCodeAt(2),b=u.charCodeAt(3),v=this.readData(4);return h===v[0]&&c===v[1]&&d===v[2]&&b===v[3]},o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,i,n){var s=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var u=0,h;for(this.checkOffset(o),h=this.index+o-1;h>=this.index;h--)u=(u<<8)+this.byteAt(h);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1))}},i.exports=a},{"../utils":32}],19:[function(t,i,n){var s=t("./Uint8ArrayReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,n){var s=t("./DataReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},o.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},o.prototype.readAndCheckSignature=function(u){var h=this.readData(4);return u===h},o.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,i,n){var s=t("./ArrayReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,n){var s=t("../utils"),a=t("../support"),o=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");i.exports=function(d){var b=s.getTypeOf(d);return s.checkSupport(b),b==="string"&&!a.uint8array?new u(d):b==="nodebuffer"?new h(d):a.uint8array?new c(s.transformTo("uint8array",d)):new o(s.transformTo("array",d))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,n){var s=t("./GenericWorker"),a=t("../utils");function o(u){s.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(o,s),o.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,n){var s=t("./GenericWorker"),a=t("../crc32"),o=t("../utils");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o.inherits(u,s),u.prototype.processChunk=function(h){this.streamInfo.crc32=a(h.data,this.streamInfo.crc32||0),this.push(h)},i.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,n){var s=t("../utils"),a=t("./GenericWorker");function o(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(o,a),o.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}a.prototype.processChunk.call(this,u)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,n){var s=t("../utils"),a=t("./GenericWorker"),o=16*1024;function u(h){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=s.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}s.inherits(u,a),u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=o,c=null,d=Math.min(this.max,this.index+h);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d);break}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,n){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(u){o.processChunk(u)}),a.on("end",function(){o.end()}),a.on("error",function(u){o.error(u)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},i.exports=s},{}],29:[function(t,i,n){var s=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),u=t("../base64"),h=t("../support"),c=t("../external"),d=null;if(h.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(p,g,m){switch(p){case"blob":return s.newBlob(s.transformTo("arraybuffer",g),m);case"base64":return u.encode(g);default:return s.transformTo(p,g)}}function v(p,g){var m,x=0,T=null,_=0;for(m=0;m<g.length;m++)_+=g[m].length;switch(p){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":for(T=new Uint8Array(_),m=0;m<g.length;m++)T.set(g[m],x),x+=g[m].length;return T;case"nodebuffer":return Buffer.concat(g);default:throw new Error("concat : unsupported type '"+p+"'")}}function N(p,g){return new c.Promise(function(m,x){var T=[],_=p._internalType,C=p._outputType,I=p._mimeType;p.on("data",function(L,k){T.push(L),g&&g(k)}).on("error",function(L){T=[],x(L)}).on("end",function(){try{var L=b(C,v(_,T),I);m(L)}catch(k){x(k)}T=[]}).resume()})}function E(p,g,m){var x=g;switch(g){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string";break}try{this._internalType=x,this._outputType=g,this._mimeType=m,s.checkSupport(x),this._worker=p.pipe(new a(x)),p.lock()}catch(T){this._worker=new o("error"),this._worker.error(T)}}E.prototype={accumulate:function(p){return N(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(x){g.call(m,x.data,x.meta)}):this._worker.on(p,function(){s.delay(g,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},i.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new a;o.append(s),n.blob=o.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,n){for(var s=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),c=0;c<256;c++)h[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;h[254]=h[254]=1;var d=function(p){var g,m,x,T,_,C=p.length,I=0;for(T=0;T<C;T++)m=p.charCodeAt(T),(m&64512)===55296&&T+1<C&&(x=p.charCodeAt(T+1),(x&64512)===56320&&(m=65536+(m-55296<<10)+(x-56320),T++)),I+=m<128?1:m<2048?2:m<65536?3:4;for(a.uint8array?g=new Uint8Array(I):g=new Array(I),_=0,T=0;_<I;T++)m=p.charCodeAt(T),(m&64512)===55296&&T+1<C&&(x=p.charCodeAt(T+1),(x&64512)===56320&&(m=65536+(m-55296<<10)+(x-56320),T++)),m<128?g[_++]=m:m<2048?(g[_++]=192|m>>>6,g[_++]=128|m&63):m<65536?(g[_++]=224|m>>>12,g[_++]=128|m>>>6&63,g[_++]=128|m&63):(g[_++]=240|m>>>18,g[_++]=128|m>>>12&63,g[_++]=128|m>>>6&63,g[_++]=128|m&63);return g},b=function(p,g){var m;for(g=g||p.length,g>p.length&&(g=p.length),m=g-1;m>=0&&(p[m]&192)===128;)m--;return m<0||m===0?g:m+h[p[m]]>g?m:g},v=function(p){var g,m,x,T,_=p.length,C=new Array(_*2);for(m=0,g=0;g<_;){if(x=p[g++],x<128){C[m++]=x;continue}if(T=h[x],T>4){C[m++]=65533,g+=T-1;continue}for(x&=T===2?31:T===3?15:7;T>1&&g<_;)x=x<<6|p[g++]&63,T--;if(T>1){C[m++]=65533;continue}x<65536?C[m++]=x:(x-=65536,C[m++]=55296|x>>10&1023,C[m++]=56320|x&1023)}return C.length!==m&&(C.subarray?C=C.subarray(0,m):C.length=m),s.applyFromCharCode(C)};n.utf8encode=function(g){return a.nodebuffer?o.newBufferFrom(g,"utf-8"):d(g)},n.utf8decode=function(g){return a.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(g=s.transformTo(a.uint8array?"uint8array":"array",g),v(g))};function N(){u.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(N,u),N.prototype.processChunk=function(p){var g=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=g;g=new Uint8Array(m.length+this.leftOver.length),g.set(this.leftOver,0),g.set(m,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var x=b(g),T=g;x!==g.length&&(a.uint8array?(T=g.subarray(0,x),this.leftOver=g.subarray(x,g.length)):(T=g.slice(0,x),this.leftOver=g.slice(x,g.length))),this.push({data:n.utf8decode(T),meta:p.meta})},N.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=N;function E(){u.call(this,"utf-8 encode")}s.inherits(E,u),E.prototype.processChunk=function(p){this.push({data:n.utf8encode(p.data),meta:p.meta})},n.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,n){var s=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),u=t("./external");t("setimmediate");function h(p){var g=null;return s.uint8array?g=new Uint8Array(p.length):g=new Array(p.length),d(p,g)}n.newBlob=function(p,g){n.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var m=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,x=new m;return x.append(p),x.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(p){return p}function d(p,g){for(var m=0;m<p.length;++m)g[m]=p.charCodeAt(m)&255;return g}var b={stringifyByChunk:function(p,g,m){var x=[],T=0,_=p.length;if(_<=m)return String.fromCharCode.apply(null,p);for(;T<_;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,p.slice(T,Math.min(T+m,_)))):x.push(String.fromCharCode.apply(null,p.subarray(T,Math.min(T+m,_)))),T+=m;return x.join("")},stringifyByChar:function(p){for(var g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);return g},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function v(p){var g=65536,m=n.getTypeOf(p),x=!0;if(m==="uint8array"?x=b.applyCanBeUsed.uint8array:m==="nodebuffer"&&(x=b.applyCanBeUsed.nodebuffer),x)for(;g>1;)try{return b.stringifyByChunk(p,m,g)}catch{g=Math.floor(g/2)}return b.stringifyByChar(p)}n.applyFromCharCode=v;function N(p,g){for(var m=0;m<p.length;m++)g[m]=p[m];return g}var E={};E.string={string:c,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return E.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,o.allocBuffer(p.length))}},E.array={string:v,array:c,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},E.arraybuffer={string:function(p){return v(new Uint8Array(p))},array:function(p){return N(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:c,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},E.uint8array={string:v,array:function(p){return N(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:c,nodebuffer:function(p){return o.newBufferFrom(p)}},E.nodebuffer={string:v,array:function(p){return N(p,new Array(p.length))},arraybuffer:function(p){return E.nodebuffer.uint8array(p).buffer},uint8array:function(p){return N(p,new Uint8Array(p.length))},nodebuffer:c},n.transformTo=function(p,g){if(g||(g=""),!p)return g;n.checkSupport(p);var m=n.getTypeOf(g),x=E[m][p](g);return x},n.resolve=function(p){for(var g=p.split("/"),m=[],x=0;x<g.length;x++){var T=g[x];T==="."||T===""&&x!==0&&x!==g.length-1||(T===".."?m.pop():m.push(T))}return m.join("/")},n.getTypeOf=function(p){if(typeof p=="string")return"string";if(Object.prototype.toString.call(p)==="[object Array]")return"array";if(s.nodebuffer&&o.isBuffer(p))return"nodebuffer";if(s.uint8array&&p instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&p instanceof ArrayBuffer)return"arraybuffer"},n.checkSupport=function(p){var g=s[p.toLowerCase()];if(!g)throw new Error(p+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(p){var g="",m,x;for(x=0;x<(p||"").length;x++)m=p.charCodeAt(x),g+="\\x"+(m<16?"0":"")+m.toString(16).toUpperCase();return g},n.delay=function(p,g,m){setImmediate(function(){p.apply(m||null,g||[])})},n.inherits=function(p,g){var m=function(){};m.prototype=g.prototype,p.prototype=new m},n.extend=function(){var p={},g,m;for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&typeof p[m]>"u"&&(p[m]=arguments[g][m]);return p},n.prepareContent=function(p,g,m,x,T){var _=u.Promise.resolve(g).then(function(C){var I=s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1);return I&&typeof FileReader<"u"?new u.Promise(function(L,k){var B=new FileReader;B.onload=function($){L($.target.result)},B.onerror=function($){k($.target.error)},B.readAsArrayBuffer(C)}):C});return _.then(function(C){var I=n.getTypeOf(C);return I?(I==="arraybuffer"?C=n.transformTo("uint8array",C):I==="string"&&(T?C=a.decode(C):m&&x!==!0&&(C=h(C))),C):u.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,n){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),u=t("./zipEntry"),h=t("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(b)+", expected "+a.pretty(d)+")")}},isSignature:function(d,b){var v=this.reader.index;this.reader.setIndex(d);var N=this.reader.readString(4),E=N===b;return this.reader.setIndex(v),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),b=h.uint8array?"uint8array":"array",v=a.transformTo(b,d);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d=this.zip64EndOfCentralSize-44,b=0,v,N,E;b<d;)v=this.reader.readInt(2),N=this.reader.readInt(4),E=this.reader.readData(N),this.zip64ExtensibleData[v]={id:v,length:N,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,b;for(d=0;d<this.files.length;d++)b=this.files[d],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)d=new u({zip64:this.zip64},this.loadOptions),d.readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0){var b=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw b?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(d);var v=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),d<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var N=this.centralDirOffset+this.centralDirSize;this.zip64&&(N+=20,N+=12+this.zip64EndOfCentralSize);var E=v-N;if(E>0)this.isSignature(v,o.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,n){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),c=t("./compressions"),d=t("./support"),b=0,v=3,N=function(p){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===p)return c[g];return null};function E(p,g){this.options=p,this.loadOptions=g}E.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(p){var g,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(g=N(this.compressionMethod),g===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var g=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(g),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),p===b&&(this.dosPermissions=this.externalFileAttributes&63),p===v&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var g=p.index+this.extraFieldsLength,m,x,T;for(this.extraFields||(this.extraFields={});p.index+4<g;)m=p.readInt(2),x=p.readInt(2),T=p.readData(x),this.extraFields[m]={id:m,length:x,value:T};p.setIndex(g)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var m=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var T=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var g=s(p.value);return g.readInt(1)!==1||u(this.fileName)!==g.readInt(4)?null:h.utf8decode(g.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var g=s(p.value);return g.readInt(1)!==1||u(this.fileComment)!==g.readInt(4)?null:h.utf8decode(g.readData(p.length-5))}return null}},i.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,n){var s=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),o=t("./utf8"),u=t("./compressedObject"),h=t("./stream/GenericWorker"),c=function(N,E,p){this.name=N,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=E,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}};c.prototype={internalStream:function(N){var E=null,p="string";try{if(!N)throw new Error("No output type specified.");p=N.toLowerCase();var g=p==="string"||p==="text";(p==="binarystring"||p==="text")&&(p="string"),E=this._decompressWorker();var m=!this._dataBinary;m&&!g&&(E=E.pipe(new o.Utf8EncodeWorker)),!m&&g&&(E=E.pipe(new o.Utf8DecodeWorker))}catch(x){E=new h("error"),E.error(x)}return new s(E,p,"")},async:function(N,E){return this.internalStream(N).accumulate(E)},nodeStream:function(N,E){return this.internalStream(N||"nodebuffer").toNodejsStream(E)},_compressWorker:function(N,E){if(this._data instanceof u&&this._data.compression.magic===N.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(p,N,E)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<d.length;v++)c.prototype[d[v]]=b;i.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,n){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,h=new a(N),c=s.document.createTextNode("");h.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=N,o=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){N(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:o=function(){setTimeout(N,0)};var b,v=[];function N(){b=!0;for(var p,g,m=v.length;m;){for(g=v,v=[],p=-1;++p<m;)g[p]();m=v.length}b=!1}i.exports=E;function E(p){v.push(p)===1&&!b&&o()}}).call(this,typeof Pt<"u"?Pt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,n){var s=t("immediate");function a(){}var o={},u=["REJECTED"],h=["FULFILLED"],c=["PENDING"];i.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,_!==a&&E(this,_)}d.prototype.finally=function(_){if(typeof _!="function")return this;var C=this.constructor;return this.then(I,L);function I(k){function B(){return k}return C.resolve(_()).then(B)}function L(k){function B(){throw k}return C.resolve(_()).then(B)}},d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,C){if(typeof _!="function"&&this.state===h||typeof C!="function"&&this.state===u)return this;var I=new this.constructor(a);if(this.state!==c){var L=this.state===h?_:C;v(I,L,this.outcome)}else this.queue.push(new b(I,_,C));return I};function b(_,C,I){this.promise=_,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},b.prototype.otherCallFulfilled=function(_){v(this.promise,this.onFulfilled,_)},b.prototype.callRejected=function(_){o.reject(this.promise,_)},b.prototype.otherCallRejected=function(_){v(this.promise,this.onRejected,_)};function v(_,C,I){s(function(){var L;try{L=C(I)}catch(k){return o.reject(_,k)}L===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,L)})}o.resolve=function(_,C){var I=p(N,C);if(I.status==="error")return o.reject(_,I.value);var L=I.value;if(L)E(_,L);else{_.state=h,_.outcome=C;for(var k=-1,B=_.queue.length;++k<B;)_.queue[k].callFulfilled(C)}return _},o.reject=function(_,C){_.state=u,_.outcome=C;for(var I=-1,L=_.queue.length;++I<L;)_.queue[I].callRejected(C);return _};function N(_){var C=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof C=="function")return function(){C.apply(_,arguments)}}function E(_,C){var I=!1;function L(H){I||(I=!0,o.reject(_,H))}function k(H){I||(I=!0,o.resolve(_,H))}function B(){C(k,L)}var $=p(B);$.status==="error"&&L($.value)}function p(_,C){var I={};try{I.value=_(C),I.status="success"}catch(L){I.status="error",I.value=L}return I}d.resolve=g;function g(_){return _ instanceof this?_:o.resolve(new this(a),_)}d.reject=m;function m(_){var C=new this(a);return o.reject(C,_)}d.all=x;function x(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,L=!1;if(!I)return this.resolve([]);for(var k=new Array(I),B=0,$=-1,H=new this(a);++$<I;)Y(_[$],$);return H;function Y(ce,ue){C.resolve(ce).then(me,function(re){L||(L=!0,o.reject(H,re))});function me(re){k[ue]=re,++B===I&&!L&&(L=!0,o.resolve(H,k))}}}d.race=T;function T(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,L=!1;if(!I)return this.resolve([]);for(var k=-1,B=new this(a);++k<I;)$(_[k]);return B;function $(H){C.resolve(H).then(function(Y){L||(L=!0,o.resolve(B,Y))},function(Y){L||(L=!0,o.reject(B,Y))})}}},{immediate:36}],38:[function(t,i,n){var s=t("./lib/utils/common").assign,a=t("./lib/deflate"),o=t("./lib/inflate"),u=t("./lib/zlib/constants"),h={};s(h,a,o,u),i.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,n){var s=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),c=Object.prototype.toString,d=0,b=4,v=0,N=1,E=2,p=-1,g=0,m=8;function x(I){if(!(this instanceof x))return new x(I);this.options=a.assign({level:p,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},I||{});var L=this.options;L.raw&&L.windowBits>0?L.windowBits=-L.windowBits:L.gzip&&L.windowBits>0&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(k!==v)throw new Error(u[k]);if(L.header&&s.deflateSetHeader(this.strm,L.header),L.dictionary){var B;if(typeof L.dictionary=="string"?B=o.string2buf(L.dictionary):c.call(L.dictionary)==="[object ArrayBuffer]"?B=new Uint8Array(L.dictionary):B=L.dictionary,k=s.deflateSetDictionary(this.strm,B),k!==v)throw new Error(u[k]);this._dict_set=!0}}x.prototype.push=function(I,L){var k=this.strm,B=this.options.chunkSize,$,H;if(this.ended)return!1;H=L===~~L?L:L===!0?b:d,typeof I=="string"?k.input=o.string2buf(I):c.call(I)==="[object ArrayBuffer]"?k.input=new Uint8Array(I):k.input=I,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new a.Buf8(B),k.next_out=0,k.avail_out=B),$=s.deflate(k,H),$!==N&&$!==v)return this.onEnd($),this.ended=!0,!1;(k.avail_out===0||k.avail_in===0&&(H===b||H===E))&&(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(k.output,k.next_out))):this.onData(a.shrinkBuf(k.output,k.next_out)))}while((k.avail_in>0||k.avail_out===0)&&$!==N);return H===b?($=s.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===v):(H===E&&(this.onEnd(v),k.avail_out=0),!0)},x.prototype.onData=function(I){this.chunks.push(I)},x.prototype.onEnd=function(I){I===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg};function T(I,L){var k=new x(L);if(k.push(I,!0),k.err)throw k.msg||u[k.err];return k.result}function _(I,L){return L=L||{},L.raw=!0,T(I,L)}function C(I,L){return L=L||{},L.gzip=!0,T(I,L)}n.Deflate=x,n.deflate=T,n.deflateRaw=_,n.gzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,n){var s=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),c=t("./zlib/zstream"),d=t("./zlib/gzheader"),b=Object.prototype.toString;function v(p){if(!(this instanceof v))return new v(p);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(p&&p.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15)===0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,g.windowBits);if(m!==u.Z_OK)throw new Error(h[m]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}v.prototype.push=function(p,g){var m=this.strm,x=this.options.chunkSize,T=this.options.dictionary,_,C,I,L,k,B,$=!1;if(this.ended)return!1;C=g===~~g?g:g===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof p=="string"?m.input=o.binstring2buf(p):b.call(p)==="[object ArrayBuffer]"?m.input=new Uint8Array(p):m.input=p,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new a.Buf8(x),m.next_out=0,m.avail_out=x),_=s.inflate(m,u.Z_NO_FLUSH),_===u.Z_NEED_DICT&&T&&(typeof T=="string"?B=o.string2buf(T):b.call(T)==="[object ArrayBuffer]"?B=new Uint8Array(T):B=T,_=s.inflateSetDictionary(this.strm,B)),_===u.Z_BUF_ERROR&&$===!0&&(_=u.Z_OK,$=!1),_!==u.Z_STREAM_END&&_!==u.Z_OK)return this.onEnd(_),this.ended=!0,!1;m.next_out&&(m.avail_out===0||_===u.Z_STREAM_END||m.avail_in===0&&(C===u.Z_FINISH||C===u.Z_SYNC_FLUSH))&&(this.options.to==="string"?(I=o.utf8border(m.output,m.next_out),L=m.next_out-I,k=o.buf2string(m.output,I),m.next_out=L,m.avail_out=x-L,L&&a.arraySet(m.output,m.output,I,L,0),this.onData(k)):this.onData(a.shrinkBuf(m.output,m.next_out))),m.avail_in===0&&m.avail_out===0&&($=!0)}while((m.avail_in>0||m.avail_out===0)&&_!==u.Z_STREAM_END);return _===u.Z_STREAM_END&&(C=u.Z_FINISH),C===u.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u.Z_OK):(C===u.Z_SYNC_FLUSH&&(this.onEnd(u.Z_OK),m.avail_out=0),!0)},v.prototype.onData=function(p){this.chunks.push(p)},v.prototype.onEnd=function(p){p===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function N(p,g){var m=new v(g);if(m.push(p,!0),m.err)throw m.msg||h[m.err];return m.result}function E(p,g){return g=g||{},g.raw=!0,N(p,g)}n.Inflate=v,n.inflate=N,n.inflateRaw=E,n.ungzip=N},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var c=h.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])}}return u},n.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var a={arraySet:function(u,h,c,d,b){if(h.subarray&&u.subarray){u.set(h.subarray(c,c+d),b);return}for(var v=0;v<d;v++)u[b+v]=h[c+v]},flattenChunks:function(u){var h,c,d,b,v,N;for(d=0,h=0,c=u.length;h<c;h++)d+=u[h].length;for(N=new Uint8Array(d),b=0,h=0,c=u.length;h<c;h++)v=u[h],N.set(v,b),b+=v.length;return N}},o={arraySet:function(u,h,c,d,b){for(var v=0;v<d;v++)u[b+v]=h[c+v]},flattenChunks:function(u){return[].concat.apply([],u)}};n.setTyped=function(u){u?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(s)},{}],42:[function(t,i,n){var s=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;u[254]=u[254]=1,n.string2buf=function(d){var b,v,N,E,p,g=d.length,m=0;for(E=0;E<g;E++)v=d.charCodeAt(E),(v&64512)===55296&&E+1<g&&(N=d.charCodeAt(E+1),(N&64512)===56320&&(v=65536+(v-55296<<10)+(N-56320),E++)),m+=v<128?1:v<2048?2:v<65536?3:4;for(b=new s.Buf8(m),p=0,E=0;p<m;E++)v=d.charCodeAt(E),(v&64512)===55296&&E+1<g&&(N=d.charCodeAt(E+1),(N&64512)===56320&&(v=65536+(v-55296<<10)+(N-56320),E++)),v<128?b[p++]=v:v<2048?(b[p++]=192|v>>>6,b[p++]=128|v&63):v<65536?(b[p++]=224|v>>>12,b[p++]=128|v>>>6&63,b[p++]=128|v&63):(b[p++]=240|v>>>18,b[p++]=128|v>>>12&63,b[p++]=128|v>>>6&63,b[p++]=128|v&63);return b};function c(d,b){if(b<65537&&(d.subarray&&o||!d.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(d,b));for(var v="",N=0;N<b;N++)v+=String.fromCharCode(d[N]);return v}n.buf2binstring=function(d){return c(d,d.length)},n.binstring2buf=function(d){for(var b=new s.Buf8(d.length),v=0,N=b.length;v<N;v++)b[v]=d.charCodeAt(v);return b},n.buf2string=function(d,b){var v,N,E,p,g=b||d.length,m=new Array(g*2);for(N=0,v=0;v<g;){if(E=d[v++],E<128){m[N++]=E;continue}if(p=u[E],p>4){m[N++]=65533,v+=p-1;continue}for(E&=p===2?31:p===3?15:7;p>1&&v<g;)E=E<<6|d[v++]&63,p--;if(p>1){m[N++]=65533;continue}E<65536?m[N++]=E:(E-=65536,m[N++]=55296|E>>10&1023,m[N++]=56320|E&1023)}return c(m,N)},n.utf8border=function(d,b){var v;for(b=b||d.length,b>d.length&&(b=d.length),v=b-1;v>=0&&(d[v]&192)===128;)v--;return v<0||v===0?b:v+u[d[v]]>b?v:b}},{"./common":41}],43:[function(t,i,n){function s(a,o,u,h){for(var c=a&65535|0,d=a>>>16&65535|0,b=0;u!==0;){b=u>2e3?2e3:u,u-=b;do c=c+o[h++]|0,d=d+c|0;while(--b);c%=65521,d%=65521}return c|d<<16|0}i.exports=s},{}],44:[function(t,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,n){function s(){for(var u,h=[],c=0;c<256;c++){u=c;for(var d=0;d<8;d++)u=u&1?3988292384^u>>>1:u>>>1;h[c]=u}return h}var a=s();function o(u,h,c,d){var b=a,v=d+c;u^=-1;for(var N=d;N<v;N++)u=u>>>8^b[(u^h[N])&255];return u^-1}i.exports=o},{}],46:[function(t,i,n){var s=t("../utils/common"),a=t("./trees"),o=t("./adler32"),u=t("./crc32"),h=t("./messages"),c=0,d=1,b=3,v=4,N=5,E=0,p=1,g=-2,m=-3,x=-5,T=-1,_=1,C=2,I=3,L=4,k=0,B=2,$=8,H=9,Y=15,ce=8,ue=29,me=256,re=me+1+ue,Q=30,ye=19,ke=2*re+1,pe=15,we=3,Pe=258,Ne=Pe+we+1,Ue=32,Ke=42,We=69,Re=73,$e=91,Ye=103,Be=113,O=666,F=1,G=2,te=3,J=4,K=3;function le(l,P){return l.msg=h[P],P}function oe(l){return(l<<1)-(l>4?9:0)}function ae(l){for(var P=l.length;--P>=0;)l[P]=0}function X(l){var P=l.state,j=P.pending;j>l.avail_out&&(j=l.avail_out),j!==0&&(s.arraySet(l.output,P.pending_buf,P.pending_out,j,l.next_out),l.next_out+=j,P.pending_out+=j,l.total_out+=j,l.avail_out-=j,P.pending-=j,P.pending===0&&(P.pending_out=0))}function fe(l,P){a._tr_flush_block(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,P),l.block_start=l.strstart,X(l.strm)}function ie(l,P){l.pending_buf[l.pending++]=P}function Ae(l,P){l.pending_buf[l.pending++]=P>>>8&255,l.pending_buf[l.pending++]=P&255}function Te(l,P,j,w){var z=l.avail_in;return z>w&&(z=w),z===0?0:(l.avail_in-=z,s.arraySet(P,l.input,l.next_in,z,j),l.state.wrap===1?l.adler=o(l.adler,P,z,j):l.state.wrap===2&&(l.adler=u(l.adler,P,z,j)),l.next_in+=z,l.total_in+=z,z)}function Ie(l,P){var j=l.max_chain_length,w=l.strstart,z,Z,Ce=l.prev_length,be=l.nice_match,Ee=l.strstart>l.w_size-Ne?l.strstart-(l.w_size-Ne):0,Le=l.window,mt=l.w_mask,He=l.prev,Fe=l.strstart+Pe,nt=Le[w+Ce-1],Ve=Le[w+Ce];l.prev_length>=l.good_match&&(j>>=2),be>l.lookahead&&(be=l.lookahead);do if(z=P,!(Le[z+Ce]!==Ve||Le[z+Ce-1]!==nt||Le[z]!==Le[w]||Le[++z]!==Le[w+1])){w+=2,z++;do;while(Le[++w]===Le[++z]&&Le[++w]===Le[++z]&&Le[++w]===Le[++z]&&Le[++w]===Le[++z]&&Le[++w]===Le[++z]&&Le[++w]===Le[++z]&&Le[++w]===Le[++z]&&Le[++w]===Le[++z]&&w<Fe);if(Z=Pe-(Fe-w),w=Fe-Pe,Z>Ce){if(l.match_start=P,Ce=Z,Z>=be)break;nt=Le[w+Ce-1],Ve=Le[w+Ce]}}while((P=He[P&mt])>Ee&&--j!==0);return Ce<=l.lookahead?Ce:l.lookahead}function Oe(l){var P=l.w_size,j,w,z,Z,Ce;do{if(Z=l.window_size-l.lookahead-l.strstart,l.strstart>=P+(P-Ne)){s.arraySet(l.window,l.window,P,P,0),l.match_start-=P,l.strstart-=P,l.block_start-=P,w=l.hash_size,j=w;do z=l.head[--j],l.head[j]=z>=P?z-P:0;while(--w);w=P,j=w;do z=l.prev[--j],l.prev[j]=z>=P?z-P:0;while(--w);Z+=P}if(l.strm.avail_in===0)break;if(w=Te(l.strm,l.window,l.strstart+l.lookahead,Z),l.lookahead+=w,l.lookahead+l.insert>=we)for(Ce=l.strstart-l.insert,l.ins_h=l.window[Ce],l.ins_h=(l.ins_h<<l.hash_shift^l.window[Ce+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[Ce+we-1])&l.hash_mask,l.prev[Ce&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=Ce,Ce++,l.insert--,!(l.lookahead+l.insert<we)););}while(l.lookahead<Ne&&l.strm.avail_in!==0)}function ze(l,P){var j=65535;for(j>l.pending_buf_size-5&&(j=l.pending_buf_size-5);;){if(l.lookahead<=1){if(Oe(l),l.lookahead===0&&P===c)return F;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var w=l.block_start+j;if((l.strstart===0||l.strstart>=w)&&(l.lookahead=l.strstart-w,l.strstart=w,fe(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-Ne&&(fe(l,!1),l.strm.avail_out===0))return F}return l.insert=0,P===v?(fe(l,!0),l.strm.avail_out===0?te:J):(l.strstart>l.block_start&&(fe(l,!1),l.strm.avail_out===0),F)}function tt(l,P){for(var j,w;;){if(l.lookahead<Ne){if(Oe(l),l.lookahead<Ne&&P===c)return F;if(l.lookahead===0)break}if(j=0,l.lookahead>=we&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),j!==0&&l.strstart-j<=l.w_size-Ne&&(l.match_length=Ie(l,j)),l.match_length>=we)if(w=a._tr_tally(l,l.strstart-l.match_start,l.match_length-we),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=we){l.match_length--;do l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.match_length!==0);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else w=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(w&&(fe(l,!1),l.strm.avail_out===0))return F}return l.insert=l.strstart<we-1?l.strstart:we-1,P===v?(fe(l,!0),l.strm.avail_out===0?te:J):l.last_lit&&(fe(l,!1),l.strm.avail_out===0)?F:G}function Xe(l,P){for(var j,w,z;;){if(l.lookahead<Ne){if(Oe(l),l.lookahead<Ne&&P===c)return F;if(l.lookahead===0)break}if(j=0,l.lookahead>=we&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=we-1,j!==0&&l.prev_length<l.max_lazy_match&&l.strstart-j<=l.w_size-Ne&&(l.match_length=Ie(l,j),l.match_length<=5&&(l.strategy===_||l.match_length===we&&l.strstart-l.match_start>4096)&&(l.match_length=we-1)),l.prev_length>=we&&l.match_length<=l.prev_length){z=l.strstart+l.lookahead-we,w=a._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-we),l.lookahead-=l.prev_length-1,l.prev_length-=2;do++l.strstart<=z&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart);while(--l.prev_length!==0);if(l.match_available=0,l.match_length=we-1,l.strstart++,w&&(fe(l,!1),l.strm.avail_out===0))return F}else if(l.match_available){if(w=a._tr_tally(l,0,l.window[l.strstart-1]),w&&fe(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return F}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(w=a._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<we-1?l.strstart:we-1,P===v?(fe(l,!0),l.strm.avail_out===0?te:J):l.last_lit&&(fe(l,!1),l.strm.avail_out===0)?F:G}function lt(l,P){for(var j,w,z,Z,Ce=l.window;;){if(l.lookahead<=Pe){if(Oe(l),l.lookahead<=Pe&&P===c)return F;if(l.lookahead===0)break}if(l.match_length=0,l.lookahead>=we&&l.strstart>0&&(z=l.strstart-1,w=Ce[z],w===Ce[++z]&&w===Ce[++z]&&w===Ce[++z])){Z=l.strstart+Pe;do;while(w===Ce[++z]&&w===Ce[++z]&&w===Ce[++z]&&w===Ce[++z]&&w===Ce[++z]&&w===Ce[++z]&&w===Ce[++z]&&w===Ce[++z]&&z<Z);l.match_length=Pe-(Z-z),l.match_length>l.lookahead&&(l.match_length=l.lookahead)}if(l.match_length>=we?(j=a._tr_tally(l,1,l.match_length-we),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0):(j=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++),j&&(fe(l,!1),l.strm.avail_out===0))return F}return l.insert=0,P===v?(fe(l,!0),l.strm.avail_out===0?te:J):l.last_lit&&(fe(l,!1),l.strm.avail_out===0)?F:G}function at(l,P){for(var j;;){if(l.lookahead===0&&(Oe(l),l.lookahead===0)){if(P===c)return F;break}if(l.match_length=0,j=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,j&&(fe(l,!1),l.strm.avail_out===0))return F}return l.insert=0,P===v?(fe(l,!0),l.strm.avail_out===0?te:J):l.last_lit&&(fe(l,!1),l.strm.avail_out===0)?F:G}function rt(l,P,j,w,z){this.good_length=l,this.max_lazy=P,this.nice_length=j,this.max_chain=w,this.func=z}var pt;pt=[new rt(0,0,0,0,ze),new rt(4,4,8,4,tt),new rt(4,5,16,8,tt),new rt(4,6,32,32,tt),new rt(4,4,16,16,Xe),new rt(8,16,32,32,Xe),new rt(8,16,128,128,Xe),new rt(8,32,128,256,Xe),new rt(32,128,258,1024,Xe),new rt(32,258,258,4096,Xe)];function ft(l){l.window_size=2*l.w_size,ae(l.head),l.max_lazy_match=pt[l.level].max_lazy,l.good_match=pt[l.level].good_length,l.nice_match=pt[l.level].nice_length,l.max_chain_length=pt[l.level].max_chain,l.strstart=0,l.block_start=0,l.lookahead=0,l.insert=0,l.match_length=l.prev_length=we-1,l.match_available=0,l.ins_h=0}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(ke*2),this.dyn_dtree=new s.Buf16((2*Q+1)*2),this.bl_tree=new s.Buf16((2*ye+1)*2),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(pe+1),this.heap=new s.Buf16(2*re+1),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*re+1),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(l){var P;return!l||!l.state?le(l,g):(l.total_in=l.total_out=0,l.data_type=B,P=l.state,P.pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?Ke:Be,l.adler=P.wrap===2?0:1,P.last_flush=c,a._tr_init(P),E)}function de(l){var P=se(l);return P===E&&ft(l.state),P}function De(l,P){return!l||!l.state||l.state.wrap!==2?g:(l.state.gzhead=P,E)}function U(l,P,j,w,z,Z){if(!l)return g;var Ce=1;if(P===T&&(P=6),w<0?(Ce=0,w=-w):w>15&&(Ce=2,w-=16),z<1||z>H||j!==$||w<8||w>15||P<0||P>9||Z<0||Z>L)return le(l,g);w===8&&(w=9);var be=new D;return l.state=be,be.strm=l,be.wrap=Ce,be.gzhead=null,be.w_bits=w,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=z+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+we-1)/we),be.window=new s.Buf8(be.w_size*2),be.head=new s.Buf16(be.hash_size),be.prev=new s.Buf16(be.w_size),be.lit_bufsize=1<<z+6,be.pending_buf_size=be.lit_bufsize*4,be.pending_buf=new s.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=P,be.strategy=Z,be.method=j,de(l)}function ee(l,P){return U(l,P,$,Y,ce,k)}function f(l,P){var j,w,z,Z;if(!l||!l.state||P>N||P<0)return l?le(l,g):g;if(w=l.state,!l.output||!l.input&&l.avail_in!==0||w.status===O&&P!==v)return le(l,l.avail_out===0?x:g);if(w.strm=l,j=w.last_flush,w.last_flush=P,w.status===Ke)if(w.wrap===2)l.adler=0,ie(w,31),ie(w,139),ie(w,8),w.gzhead?(ie(w,(w.gzhead.text?1:0)+(w.gzhead.hcrc?2:0)+(w.gzhead.extra?4:0)+(w.gzhead.name?8:0)+(w.gzhead.comment?16:0)),ie(w,w.gzhead.time&255),ie(w,w.gzhead.time>>8&255),ie(w,w.gzhead.time>>16&255),ie(w,w.gzhead.time>>24&255),ie(w,w.level===9?2:w.strategy>=C||w.level<2?4:0),ie(w,w.gzhead.os&255),w.gzhead.extra&&w.gzhead.extra.length&&(ie(w,w.gzhead.extra.length&255),ie(w,w.gzhead.extra.length>>8&255)),w.gzhead.hcrc&&(l.adler=u(l.adler,w.pending_buf,w.pending,0)),w.gzindex=0,w.status=We):(ie(w,0),ie(w,0),ie(w,0),ie(w,0),ie(w,0),ie(w,w.level===9?2:w.strategy>=C||w.level<2?4:0),ie(w,K),w.status=Be);else{var Ce=$+(w.w_bits-8<<4)<<8,be=-1;w.strategy>=C||w.level<2?be=0:w.level<6?be=1:w.level===6?be=2:be=3,Ce|=be<<6,w.strstart!==0&&(Ce|=Ue),Ce+=31-Ce%31,w.status=Be,Ae(w,Ce),w.strstart!==0&&(Ae(w,l.adler>>>16),Ae(w,l.adler&65535)),l.adler=1}if(w.status===We)if(w.gzhead.extra){for(z=w.pending;w.gzindex<(w.gzhead.extra.length&65535)&&!(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>z&&(l.adler=u(l.adler,w.pending_buf,w.pending-z,z)),X(l),z=w.pending,w.pending===w.pending_buf_size));)ie(w,w.gzhead.extra[w.gzindex]&255),w.gzindex++;w.gzhead.hcrc&&w.pending>z&&(l.adler=u(l.adler,w.pending_buf,w.pending-z,z)),w.gzindex===w.gzhead.extra.length&&(w.gzindex=0,w.status=Re)}else w.status=Re;if(w.status===Re)if(w.gzhead.name){z=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>z&&(l.adler=u(l.adler,w.pending_buf,w.pending-z,z)),X(l),z=w.pending,w.pending===w.pending_buf_size)){Z=1;break}w.gzindex<w.gzhead.name.length?Z=w.gzhead.name.charCodeAt(w.gzindex++)&255:Z=0,ie(w,Z)}while(Z!==0);w.gzhead.hcrc&&w.pending>z&&(l.adler=u(l.adler,w.pending_buf,w.pending-z,z)),Z===0&&(w.gzindex=0,w.status=$e)}else w.status=$e;if(w.status===$e)if(w.gzhead.comment){z=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>z&&(l.adler=u(l.adler,w.pending_buf,w.pending-z,z)),X(l),z=w.pending,w.pending===w.pending_buf_size)){Z=1;break}w.gzindex<w.gzhead.comment.length?Z=w.gzhead.comment.charCodeAt(w.gzindex++)&255:Z=0,ie(w,Z)}while(Z!==0);w.gzhead.hcrc&&w.pending>z&&(l.adler=u(l.adler,w.pending_buf,w.pending-z,z)),Z===0&&(w.status=Ye)}else w.status=Ye;if(w.status===Ye&&(w.gzhead.hcrc?(w.pending+2>w.pending_buf_size&&X(l),w.pending+2<=w.pending_buf_size&&(ie(w,l.adler&255),ie(w,l.adler>>8&255),l.adler=0,w.status=Be)):w.status=Be),w.pending!==0){if(X(l),l.avail_out===0)return w.last_flush=-1,E}else if(l.avail_in===0&&oe(P)<=oe(j)&&P!==v)return le(l,x);if(w.status===O&&l.avail_in!==0)return le(l,x);if(l.avail_in!==0||w.lookahead!==0||P!==c&&w.status!==O){var Ee=w.strategy===C?at(w,P):w.strategy===I?lt(w,P):pt[w.level].func(w,P);if((Ee===te||Ee===J)&&(w.status=O),Ee===F||Ee===te)return l.avail_out===0&&(w.last_flush=-1),E;if(Ee===G&&(P===d?a._tr_align(w):P!==N&&(a._tr_stored_block(w,0,0,!1),P===b&&(ae(w.head),w.lookahead===0&&(w.strstart=0,w.block_start=0,w.insert=0))),X(l),l.avail_out===0))return w.last_flush=-1,E}return P!==v?E:w.wrap<=0?p:(w.wrap===2?(ie(w,l.adler&255),ie(w,l.adler>>8&255),ie(w,l.adler>>16&255),ie(w,l.adler>>24&255),ie(w,l.total_in&255),ie(w,l.total_in>>8&255),ie(w,l.total_in>>16&255),ie(w,l.total_in>>24&255)):(Ae(w,l.adler>>>16),Ae(w,l.adler&65535)),X(l),w.wrap>0&&(w.wrap=-w.wrap),w.pending!==0?E:p)}function y(l){var P;return!l||!l.state?g:(P=l.state.status,P!==Ke&&P!==We&&P!==Re&&P!==$e&&P!==Ye&&P!==Be&&P!==O?le(l,g):(l.state=null,P===Be?le(l,m):E))}function R(l,P){var j=P.length,w,z,Z,Ce,be,Ee,Le,mt;if(!l||!l.state||(w=l.state,Ce=w.wrap,Ce===2||Ce===1&&w.status!==Ke||w.lookahead))return g;for(Ce===1&&(l.adler=o(l.adler,P,j,0)),w.wrap=0,j>=w.w_size&&(Ce===0&&(ae(w.head),w.strstart=0,w.block_start=0,w.insert=0),mt=new s.Buf8(w.w_size),s.arraySet(mt,P,j-w.w_size,w.w_size,0),P=mt,j=w.w_size),be=l.avail_in,Ee=l.next_in,Le=l.input,l.avail_in=j,l.next_in=0,l.input=P,Oe(w);w.lookahead>=we;){z=w.strstart,Z=w.lookahead-(we-1);do w.ins_h=(w.ins_h<<w.hash_shift^w.window[z+we-1])&w.hash_mask,w.prev[z&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=z,z++;while(--Z);w.strstart=z,w.lookahead=we-1,Oe(w)}return w.strstart+=w.lookahead,w.block_start=w.strstart,w.insert=w.lookahead,w.lookahead=0,w.match_length=w.prev_length=we-1,w.match_available=0,l.next_in=Ee,l.input=Le,l.avail_in=be,w.wrap=Ce,E}n.deflateInit=ee,n.deflateInit2=U,n.deflateReset=de,n.deflateResetKeep=se,n.deflateSetHeader=De,n.deflate=f,n.deflateEnd=y,n.deflateSetDictionary=R,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,n){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=s},{}],48:[function(t,i,n){var s=30,a=12;i.exports=function(u,h){var c,d,b,v,N,E,p,g,m,x,T,_,C,I,L,k,B,$,H,Y,ce,ue,me,re,Q;c=u.state,d=u.next_in,re=u.input,b=d+(u.avail_in-5),v=u.next_out,Q=u.output,N=v-(h-u.avail_out),E=v+(u.avail_out-257),p=c.dmax,g=c.wsize,m=c.whave,x=c.wnext,T=c.window,_=c.hold,C=c.bits,I=c.lencode,L=c.distcode,k=(1<<c.lenbits)-1,B=(1<<c.distbits)-1;e:do{C<15&&(_+=re[d++]<<C,C+=8,_+=re[d++]<<C,C+=8),$=I[_&k];t:for(;;){if(H=$>>>24,_>>>=H,C-=H,H=$>>>16&255,H===0)Q[v++]=$&65535;else if(H&16){Y=$&65535,H&=15,H&&(C<H&&(_+=re[d++]<<C,C+=8),Y+=_&(1<<H)-1,_>>>=H,C-=H),C<15&&(_+=re[d++]<<C,C+=8,_+=re[d++]<<C,C+=8),$=L[_&B];i:for(;;){if(H=$>>>24,_>>>=H,C-=H,H=$>>>16&255,H&16){if(ce=$&65535,H&=15,C<H&&(_+=re[d++]<<C,C+=8,C<H&&(_+=re[d++]<<C,C+=8)),ce+=_&(1<<H)-1,ce>p){u.msg="invalid distance too far back",c.mode=s;break e}if(_>>>=H,C-=H,H=v-N,ce>H){if(H=ce-H,H>m&&c.sane){u.msg="invalid distance too far back",c.mode=s;break e}if(ue=0,me=T,x===0){if(ue+=g-H,H<Y){Y-=H;do Q[v++]=T[ue++];while(--H);ue=v-ce,me=Q}}else if(x<H){if(ue+=g+x-H,H-=x,H<Y){Y-=H;do Q[v++]=T[ue++];while(--H);if(ue=0,x<Y){H=x,Y-=H;do Q[v++]=T[ue++];while(--H);ue=v-ce,me=Q}}}else if(ue+=x-H,H<Y){Y-=H;do Q[v++]=T[ue++];while(--H);ue=v-ce,me=Q}for(;Y>2;)Q[v++]=me[ue++],Q[v++]=me[ue++],Q[v++]=me[ue++],Y-=3;Y&&(Q[v++]=me[ue++],Y>1&&(Q[v++]=me[ue++]))}else{ue=v-ce;do Q[v++]=Q[ue++],Q[v++]=Q[ue++],Q[v++]=Q[ue++],Y-=3;while(Y>2);Y&&(Q[v++]=Q[ue++],Y>1&&(Q[v++]=Q[ue++]))}}else if((H&64)===0){$=L[($&65535)+(_&(1<<H)-1)];continue i}else{u.msg="invalid distance code",c.mode=s;break e}break}}else if((H&64)===0){$=I[($&65535)+(_&(1<<H)-1)];continue t}else if(H&32){c.mode=a;break e}else{u.msg="invalid literal/length code",c.mode=s;break e}break}}while(d<b&&v<E);Y=C>>3,d-=Y,C-=Y<<3,_&=(1<<C)-1,u.next_in=d,u.next_out=v,u.avail_in=d<b?5+(b-d):5-(d-b),u.avail_out=v<E?257+(E-v):257-(v-E),c.hold=_,c.bits=C}},{}],49:[function(t,i,n){var s=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),c=0,d=1,b=2,v=4,N=5,E=6,p=0,g=1,m=2,x=-2,T=-3,_=-4,C=-5,I=8,L=1,k=2,B=3,$=4,H=5,Y=6,ce=7,ue=8,me=9,re=10,Q=11,ye=12,ke=13,pe=14,we=15,Pe=16,Ne=17,Ue=18,Ke=19,We=20,Re=21,$e=22,Ye=23,Be=24,O=25,F=26,G=27,te=28,J=29,K=30,le=31,oe=32,ae=852,X=592,fe=15,ie=fe;function Ae(U){return(U>>>24&255)+(U>>>8&65280)+((U&65280)<<8)+((U&255)<<24)}function Te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ie(U){var ee;return!U||!U.state?x:(ee=U.state,U.total_in=U.total_out=ee.total=0,U.msg="",ee.wrap&&(U.adler=ee.wrap&1),ee.mode=L,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new s.Buf32(ae),ee.distcode=ee.distdyn=new s.Buf32(X),ee.sane=1,ee.back=-1,p)}function Oe(U){var ee;return!U||!U.state?x:(ee=U.state,ee.wsize=0,ee.whave=0,ee.wnext=0,Ie(U))}function ze(U,ee){var f,y;return!U||!U.state||(y=U.state,ee<0?(f=0,ee=-ee):(f=(ee>>4)+1,ee<48&&(ee&=15)),ee&&(ee<8||ee>15))?x:(y.window!==null&&y.wbits!==ee&&(y.window=null),y.wrap=f,y.wbits=ee,Oe(U))}function tt(U,ee){var f,y;return U?(y=new Te,U.state=y,y.window=null,f=ze(U,ee),f!==p&&(U.state=null),f):x}function Xe(U){return tt(U,ie)}var lt=!0,at,rt;function pt(U){if(lt){var ee;for(at=new s.Buf32(512),rt=new s.Buf32(32),ee=0;ee<144;)U.lens[ee++]=8;for(;ee<256;)U.lens[ee++]=9;for(;ee<280;)U.lens[ee++]=7;for(;ee<288;)U.lens[ee++]=8;for(h(d,U.lens,0,288,at,0,U.work,{bits:9}),ee=0;ee<32;)U.lens[ee++]=5;h(b,U.lens,0,32,rt,0,U.work,{bits:5}),lt=!1}U.lencode=at,U.lenbits=9,U.distcode=rt,U.distbits=5}function ft(U,ee,f,y){var R,l=U.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new s.Buf8(l.wsize)),y>=l.wsize?(s.arraySet(l.window,ee,f-l.wsize,l.wsize,0),l.wnext=0,l.whave=l.wsize):(R=l.wsize-l.wnext,R>y&&(R=y),s.arraySet(l.window,ee,f-y,R,l.wnext),y-=R,y?(s.arraySet(l.window,ee,f-y,y,0),l.wnext=y,l.whave=l.wsize):(l.wnext+=R,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=R))),0}function D(U,ee){var f,y,R,l,P,j,w,z,Z,Ce,be,Ee,Le,mt,He=0,Fe,nt,Ve,yt,kt,Qt,ht,Rt,bt=new s.Buf8(4),zt,Lt,vr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return x;f=U.state,f.mode===ye&&(f.mode=ke),P=U.next_out,R=U.output,w=U.avail_out,l=U.next_in,y=U.input,j=U.avail_in,z=f.hold,Z=f.bits,Ce=j,be=w,Rt=p;e:for(;;)switch(f.mode){case L:if(f.wrap===0){f.mode=ke;break}for(;Z<16;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if(f.wrap&2&&z===35615){f.check=0,bt[0]=z&255,bt[1]=z>>>8&255,f.check=o(f.check,bt,2,0),z=0,Z=0,f.mode=k;break}if(f.flags=0,f.head&&(f.head.done=!1),!(f.wrap&1)||(((z&255)<<8)+(z>>8))%31){U.msg="incorrect header check",f.mode=K;break}if((z&15)!==I){U.msg="unknown compression method",f.mode=K;break}if(z>>>=4,Z-=4,ht=(z&15)+8,f.wbits===0)f.wbits=ht;else if(ht>f.wbits){U.msg="invalid window size",f.mode=K;break}f.dmax=1<<ht,U.adler=f.check=1,f.mode=z&512?re:ye,z=0,Z=0;break;case k:for(;Z<16;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if(f.flags=z,(f.flags&255)!==I){U.msg="unknown compression method",f.mode=K;break}if(f.flags&57344){U.msg="unknown header flags set",f.mode=K;break}f.head&&(f.head.text=z>>8&1),f.flags&512&&(bt[0]=z&255,bt[1]=z>>>8&255,f.check=o(f.check,bt,2,0)),z=0,Z=0,f.mode=B;case B:for(;Z<32;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}f.head&&(f.head.time=z),f.flags&512&&(bt[0]=z&255,bt[1]=z>>>8&255,bt[2]=z>>>16&255,bt[3]=z>>>24&255,f.check=o(f.check,bt,4,0)),z=0,Z=0,f.mode=$;case $:for(;Z<16;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}f.head&&(f.head.xflags=z&255,f.head.os=z>>8),f.flags&512&&(bt[0]=z&255,bt[1]=z>>>8&255,f.check=o(f.check,bt,2,0)),z=0,Z=0,f.mode=H;case H:if(f.flags&1024){for(;Z<16;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}f.length=z,f.head&&(f.head.extra_len=z),f.flags&512&&(bt[0]=z&255,bt[1]=z>>>8&255,f.check=o(f.check,bt,2,0)),z=0,Z=0}else f.head&&(f.head.extra=null);f.mode=Y;case Y:if(f.flags&1024&&(Ee=f.length,Ee>j&&(Ee=j),Ee&&(f.head&&(ht=f.head.extra_len-f.length,f.head.extra||(f.head.extra=new Array(f.head.extra_len)),s.arraySet(f.head.extra,y,l,Ee,ht)),f.flags&512&&(f.check=o(f.check,y,Ee,l)),j-=Ee,l+=Ee,f.length-=Ee),f.length))break e;f.length=0,f.mode=ce;case ce:if(f.flags&2048){if(j===0)break e;Ee=0;do ht=y[l+Ee++],f.head&&ht&&f.length<65536&&(f.head.name+=String.fromCharCode(ht));while(ht&&Ee<j);if(f.flags&512&&(f.check=o(f.check,y,Ee,l)),j-=Ee,l+=Ee,ht)break e}else f.head&&(f.head.name=null);f.length=0,f.mode=ue;case ue:if(f.flags&4096){if(j===0)break e;Ee=0;do ht=y[l+Ee++],f.head&&ht&&f.length<65536&&(f.head.comment+=String.fromCharCode(ht));while(ht&&Ee<j);if(f.flags&512&&(f.check=o(f.check,y,Ee,l)),j-=Ee,l+=Ee,ht)break e}else f.head&&(f.head.comment=null);f.mode=me;case me:if(f.flags&512){for(;Z<16;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if(z!==(f.check&65535)){U.msg="header crc mismatch",f.mode=K;break}z=0,Z=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0),U.adler=f.check=0,f.mode=ye;break;case re:for(;Z<32;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}U.adler=f.check=Ae(z),z=0,Z=0,f.mode=Q;case Q:if(f.havedict===0)return U.next_out=P,U.avail_out=w,U.next_in=l,U.avail_in=j,f.hold=z,f.bits=Z,m;U.adler=f.check=1,f.mode=ye;case ye:if(ee===N||ee===E)break e;case ke:if(f.last){z>>>=Z&7,Z-=Z&7,f.mode=G;break}for(;Z<3;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}switch(f.last=z&1,z>>>=1,Z-=1,z&3){case 0:f.mode=pe;break;case 1:if(pt(f),f.mode=We,ee===E){z>>>=2,Z-=2;break e}break;case 2:f.mode=Ne;break;case 3:U.msg="invalid block type",f.mode=K}z>>>=2,Z-=2;break;case pe:for(z>>>=Z&7,Z-=Z&7;Z<32;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if((z&65535)!==(z>>>16^65535)){U.msg="invalid stored block lengths",f.mode=K;break}if(f.length=z&65535,z=0,Z=0,f.mode=we,ee===E)break e;case we:f.mode=Pe;case Pe:if(Ee=f.length,Ee){if(Ee>j&&(Ee=j),Ee>w&&(Ee=w),Ee===0)break e;s.arraySet(R,y,l,Ee,P),j-=Ee,l+=Ee,w-=Ee,P+=Ee,f.length-=Ee;break}f.mode=ye;break;case Ne:for(;Z<14;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if(f.nlen=(z&31)+257,z>>>=5,Z-=5,f.ndist=(z&31)+1,z>>>=5,Z-=5,f.ncode=(z&15)+4,z>>>=4,Z-=4,f.nlen>286||f.ndist>30){U.msg="too many length or distance symbols",f.mode=K;break}f.have=0,f.mode=Ue;case Ue:for(;f.have<f.ncode;){for(;Z<3;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}f.lens[vr[f.have++]]=z&7,z>>>=3,Z-=3}for(;f.have<19;)f.lens[vr[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,zt={bits:f.lenbits},Rt=h(c,f.lens,0,19,f.lencode,0,f.work,zt),f.lenbits=zt.bits,Rt){U.msg="invalid code lengths set",f.mode=K;break}f.have=0,f.mode=Ke;case Ke:for(;f.have<f.nlen+f.ndist;){for(;He=f.lencode[z&(1<<f.lenbits)-1],Fe=He>>>24,nt=He>>>16&255,Ve=He&65535,!(Fe<=Z);){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if(Ve<16)z>>>=Fe,Z-=Fe,f.lens[f.have++]=Ve;else{if(Ve===16){for(Lt=Fe+2;Z<Lt;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if(z>>>=Fe,Z-=Fe,f.have===0){U.msg="invalid bit length repeat",f.mode=K;break}ht=f.lens[f.have-1],Ee=3+(z&3),z>>>=2,Z-=2}else if(Ve===17){for(Lt=Fe+3;Z<Lt;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}z>>>=Fe,Z-=Fe,ht=0,Ee=3+(z&7),z>>>=3,Z-=3}else{for(Lt=Fe+7;Z<Lt;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}z>>>=Fe,Z-=Fe,ht=0,Ee=11+(z&127),z>>>=7,Z-=7}if(f.have+Ee>f.nlen+f.ndist){U.msg="invalid bit length repeat",f.mode=K;break}for(;Ee--;)f.lens[f.have++]=ht}}if(f.mode===K)break;if(f.lens[256]===0){U.msg="invalid code -- missing end-of-block",f.mode=K;break}if(f.lenbits=9,zt={bits:f.lenbits},Rt=h(d,f.lens,0,f.nlen,f.lencode,0,f.work,zt),f.lenbits=zt.bits,Rt){U.msg="invalid literal/lengths set",f.mode=K;break}if(f.distbits=6,f.distcode=f.distdyn,zt={bits:f.distbits},Rt=h(b,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,zt),f.distbits=zt.bits,Rt){U.msg="invalid distances set",f.mode=K;break}if(f.mode=We,ee===E)break e;case We:f.mode=Re;case Re:if(j>=6&&w>=258){U.next_out=P,U.avail_out=w,U.next_in=l,U.avail_in=j,f.hold=z,f.bits=Z,u(U,be),P=U.next_out,R=U.output,w=U.avail_out,l=U.next_in,y=U.input,j=U.avail_in,z=f.hold,Z=f.bits,f.mode===ye&&(f.back=-1);break}for(f.back=0;He=f.lencode[z&(1<<f.lenbits)-1],Fe=He>>>24,nt=He>>>16&255,Ve=He&65535,!(Fe<=Z);){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if(nt&&(nt&240)===0){for(yt=Fe,kt=nt,Qt=Ve;He=f.lencode[Qt+((z&(1<<yt+kt)-1)>>yt)],Fe=He>>>24,nt=He>>>16&255,Ve=He&65535,!(yt+Fe<=Z);){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}z>>>=yt,Z-=yt,f.back+=yt}if(z>>>=Fe,Z-=Fe,f.back+=Fe,f.length=Ve,nt===0){f.mode=F;break}if(nt&32){f.back=-1,f.mode=ye;break}if(nt&64){U.msg="invalid literal/length code",f.mode=K;break}f.extra=nt&15,f.mode=$e;case $e:if(f.extra){for(Lt=f.extra;Z<Lt;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}f.length+=z&(1<<f.extra)-1,z>>>=f.extra,Z-=f.extra,f.back+=f.extra}f.was=f.length,f.mode=Ye;case Ye:for(;He=f.distcode[z&(1<<f.distbits)-1],Fe=He>>>24,nt=He>>>16&255,Ve=He&65535,!(Fe<=Z);){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if((nt&240)===0){for(yt=Fe,kt=nt,Qt=Ve;He=f.distcode[Qt+((z&(1<<yt+kt)-1)>>yt)],Fe=He>>>24,nt=He>>>16&255,Ve=He&65535,!(yt+Fe<=Z);){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}z>>>=yt,Z-=yt,f.back+=yt}if(z>>>=Fe,Z-=Fe,f.back+=Fe,nt&64){U.msg="invalid distance code",f.mode=K;break}f.offset=Ve,f.extra=nt&15,f.mode=Be;case Be:if(f.extra){for(Lt=f.extra;Z<Lt;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}f.offset+=z&(1<<f.extra)-1,z>>>=f.extra,Z-=f.extra,f.back+=f.extra}if(f.offset>f.dmax){U.msg="invalid distance too far back",f.mode=K;break}f.mode=O;case O:if(w===0)break e;if(Ee=be-w,f.offset>Ee){if(Ee=f.offset-Ee,Ee>f.whave&&f.sane){U.msg="invalid distance too far back",f.mode=K;break}Ee>f.wnext?(Ee-=f.wnext,Le=f.wsize-Ee):Le=f.wnext-Ee,Ee>f.length&&(Ee=f.length),mt=f.window}else mt=R,Le=P-f.offset,Ee=f.length;Ee>w&&(Ee=w),w-=Ee,f.length-=Ee;do R[P++]=mt[Le++];while(--Ee);f.length===0&&(f.mode=Re);break;case F:if(w===0)break e;R[P++]=f.length,w--,f.mode=Re;break;case G:if(f.wrap){for(;Z<32;){if(j===0)break e;j--,z|=y[l++]<<Z,Z+=8}if(be-=w,U.total_out+=be,f.total+=be,be&&(U.adler=f.check=f.flags?o(f.check,R,be,P-be):a(f.check,R,be,P-be)),be=w,(f.flags?z:Ae(z))!==f.check){U.msg="incorrect data check",f.mode=K;break}z=0,Z=0}f.mode=te;case te:if(f.wrap&&f.flags){for(;Z<32;){if(j===0)break e;j--,z+=y[l++]<<Z,Z+=8}if(z!==(f.total&4294967295)){U.msg="incorrect length check",f.mode=K;break}z=0,Z=0}f.mode=J;case J:Rt=g;break e;case K:Rt=T;break e;case le:return _;case oe:default:return x}return U.next_out=P,U.avail_out=w,U.next_in=l,U.avail_in=j,f.hold=z,f.bits=Z,(f.wsize||be!==U.avail_out&&f.mode<K&&(f.mode<G||ee!==v))&&ft(U,U.output,U.next_out,be-U.avail_out),Ce-=U.avail_in,be-=U.avail_out,U.total_in+=Ce,U.total_out+=be,f.total+=be,f.wrap&&be&&(U.adler=f.check=f.flags?o(f.check,R,be,U.next_out-be):a(f.check,R,be,U.next_out-be)),U.data_type=f.bits+(f.last?64:0)+(f.mode===ye?128:0)+(f.mode===We||f.mode===we?256:0),(Ce===0&&be===0||ee===v)&&Rt===p&&(Rt=C),Rt}function se(U){if(!U||!U.state)return x;var ee=U.state;return ee.window&&(ee.window=null),U.state=null,p}function de(U,ee){var f;return!U||!U.state||(f=U.state,(f.wrap&2)===0)?x:(f.head=ee,ee.done=!1,p)}function De(U,ee){var f=ee.length,y,R,l;return!U||!U.state||(y=U.state,y.wrap!==0&&y.mode!==Q)?x:y.mode===Q&&(R=1,R=a(R,ee,f,0),R!==y.check)?T:(l=ft(U,ee,f,f),l?(y.mode=le,_):(y.havedict=1,p))}n.inflateReset=Oe,n.inflateReset2=ze,n.inflateResetKeep=Ie,n.inflateInit=Xe,n.inflateInit2=tt,n.inflate=D,n.inflateEnd=se,n.inflateGetHeader=de,n.inflateSetDictionary=De,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,n){var s=t("../utils/common"),a=15,o=852,u=592,h=0,c=1,d=2,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],N=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(g,m,x,T,_,C,I,L){var k=L.bits,B=0,$=0,H=0,Y=0,ce=0,ue=0,me=0,re=0,Q=0,ye=0,ke,pe,we,Pe,Ne,Ue=null,Ke=0,We,Re=new s.Buf16(a+1),$e=new s.Buf16(a+1),Ye=null,Be=0,O,F,G;for(B=0;B<=a;B++)Re[B]=0;for($=0;$<T;$++)Re[m[x+$]]++;for(ce=k,Y=a;Y>=1&&Re[Y]===0;Y--);if(ce>Y&&(ce=Y),Y===0)return _[C++]=1<<24|64<<16|0,_[C++]=1<<24|64<<16|0,L.bits=1,0;for(H=1;H<Y&&Re[H]===0;H++);for(ce<H&&(ce=H),re=1,B=1;B<=a;B++)if(re<<=1,re-=Re[B],re<0)return-1;if(re>0&&(g===h||Y!==1))return-1;for($e[1]=0,B=1;B<a;B++)$e[B+1]=$e[B]+Re[B];for($=0;$<T;$++)m[x+$]!==0&&(I[$e[m[x+$]]++]=$);if(g===h?(Ue=Ye=I,We=19):g===c?(Ue=b,Ke-=257,Ye=v,Be-=257,We=256):(Ue=N,Ye=E,We=-1),ye=0,$=0,B=H,Ne=C,ue=ce,me=0,we=-1,Q=1<<ce,Pe=Q-1,g===c&&Q>o||g===d&&Q>u)return 1;for(;;){O=B-me,I[$]<We?(F=0,G=I[$]):I[$]>We?(F=Ye[Be+I[$]],G=Ue[Ke+I[$]]):(F=96,G=0),ke=1<<B-me,pe=1<<ue,H=pe;do pe-=ke,_[Ne+(ye>>me)+pe]=O<<24|F<<16|G|0;while(pe!==0);for(ke=1<<B-1;ye&ke;)ke>>=1;if(ke!==0?(ye&=ke-1,ye+=ke):ye=0,$++,--Re[B]===0){if(B===Y)break;B=m[x+I[$]]}if(B>ce&&(ye&Pe)!==we){for(me===0&&(me=ce),Ne+=H,ue=B-me,re=1<<ue;ue+me<Y&&(re-=Re[ue+me],!(re<=0));)ue++,re<<=1;if(Q+=1<<ue,g===c&&Q>o||g===d&&Q>u)return 1;we=ye&Pe,_[we]=ce<<24|ue<<16|Ne-C|0}}return ye!==0&&(_[Ne+ye]=B-me<<24|64<<16|0),L.bits=ce,0}},{"../utils/common":41}],51:[function(t,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,n){var s=t("../utils/common"),a=4,o=0,u=1,h=2;function c(D){for(var se=D.length;--se>=0;)D[se]=0}var d=0,b=1,v=2,N=3,E=258,p=29,g=256,m=g+1+p,x=30,T=19,_=2*m+1,C=15,I=16,L=7,k=256,B=16,$=17,H=18,Y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=512,Q=new Array((m+2)*2);c(Q);var ye=new Array(x*2);c(ye);var ke=new Array(re);c(ke);var pe=new Array(E-N+1);c(pe);var we=new Array(p);c(we);var Pe=new Array(x);c(Pe);function Ne(D,se,de,De,U){this.static_tree=D,this.extra_bits=se,this.extra_base=de,this.elems=De,this.max_length=U,this.has_stree=D&&D.length}var Ue,Ke,We;function Re(D,se){this.dyn_tree=D,this.max_code=0,this.stat_desc=se}function $e(D){return D<256?ke[D]:ke[256+(D>>>7)]}function Ye(D,se){D.pending_buf[D.pending++]=se&255,D.pending_buf[D.pending++]=se>>>8&255}function Be(D,se,de){D.bi_valid>I-de?(D.bi_buf|=se<<D.bi_valid&65535,Ye(D,D.bi_buf),D.bi_buf=se>>I-D.bi_valid,D.bi_valid+=de-I):(D.bi_buf|=se<<D.bi_valid&65535,D.bi_valid+=de)}function O(D,se,de){Be(D,de[se*2],de[se*2+1])}function F(D,se){var de=0;do de|=D&1,D>>>=1,de<<=1;while(--se>0);return de>>>1}function G(D){D.bi_valid===16?(Ye(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):D.bi_valid>=8&&(D.pending_buf[D.pending++]=D.bi_buf&255,D.bi_buf>>=8,D.bi_valid-=8)}function te(D,se){var de=se.dyn_tree,De=se.max_code,U=se.stat_desc.static_tree,ee=se.stat_desc.has_stree,f=se.stat_desc.extra_bits,y=se.stat_desc.extra_base,R=se.stat_desc.max_length,l,P,j,w,z,Z,Ce=0;for(w=0;w<=C;w++)D.bl_count[w]=0;for(de[D.heap[D.heap_max]*2+1]=0,l=D.heap_max+1;l<_;l++)P=D.heap[l],w=de[de[P*2+1]*2+1]+1,w>R&&(w=R,Ce++),de[P*2+1]=w,!(P>De)&&(D.bl_count[w]++,z=0,P>=y&&(z=f[P-y]),Z=de[P*2],D.opt_len+=Z*(w+z),ee&&(D.static_len+=Z*(U[P*2+1]+z)));if(Ce!==0){do{for(w=R-1;D.bl_count[w]===0;)w--;D.bl_count[w]--,D.bl_count[w+1]+=2,D.bl_count[R]--,Ce-=2}while(Ce>0);for(w=R;w!==0;w--)for(P=D.bl_count[w];P!==0;)j=D.heap[--l],!(j>De)&&(de[j*2+1]!==w&&(D.opt_len+=(w-de[j*2+1])*de[j*2],de[j*2+1]=w),P--)}}function J(D,se,de){var De=new Array(C+1),U=0,ee,f;for(ee=1;ee<=C;ee++)De[ee]=U=U+de[ee-1]<<1;for(f=0;f<=se;f++){var y=D[f*2+1];y!==0&&(D[f*2]=F(De[y]++,y))}}function K(){var D,se,de,De,U,ee=new Array(C+1);for(de=0,De=0;De<p-1;De++)for(we[De]=de,D=0;D<1<<Y[De];D++)pe[de++]=De;for(pe[de-1]=De,U=0,De=0;De<16;De++)for(Pe[De]=U,D=0;D<1<<ce[De];D++)ke[U++]=De;for(U>>=7;De<x;De++)for(Pe[De]=U<<7,D=0;D<1<<ce[De]-7;D++)ke[256+U++]=De;for(se=0;se<=C;se++)ee[se]=0;for(D=0;D<=143;)Q[D*2+1]=8,D++,ee[8]++;for(;D<=255;)Q[D*2+1]=9,D++,ee[9]++;for(;D<=279;)Q[D*2+1]=7,D++,ee[7]++;for(;D<=287;)Q[D*2+1]=8,D++,ee[8]++;for(J(Q,m+1,ee),D=0;D<x;D++)ye[D*2+1]=5,ye[D*2]=F(D,5);Ue=new Ne(Q,Y,g+1,m,C),Ke=new Ne(ye,ce,0,x,C),We=new Ne(new Array(0),ue,0,T,L)}function le(D){var se;for(se=0;se<m;se++)D.dyn_ltree[se*2]=0;for(se=0;se<x;se++)D.dyn_dtree[se*2]=0;for(se=0;se<T;se++)D.bl_tree[se*2]=0;D.dyn_ltree[k*2]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function oe(D){D.bi_valid>8?Ye(D,D.bi_buf):D.bi_valid>0&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function ae(D,se,de,De){oe(D),Ye(D,de),Ye(D,~de),s.arraySet(D.pending_buf,D.window,se,de,D.pending),D.pending+=de}function X(D,se,de,De){var U=se*2,ee=de*2;return D[U]<D[ee]||D[U]===D[ee]&&De[se]<=De[de]}function fe(D,se,de){for(var De=D.heap[de],U=de<<1;U<=D.heap_len&&(U<D.heap_len&&X(se,D.heap[U+1],D.heap[U],D.depth)&&U++,!X(se,De,D.heap[U],D.depth));)D.heap[de]=D.heap[U],de=U,U<<=1;D.heap[de]=De}function ie(D,se,de){var De,U,ee=0,f,y;if(D.last_lit!==0)do De=D.pending_buf[D.d_buf+ee*2]<<8|D.pending_buf[D.d_buf+ee*2+1],U=D.pending_buf[D.l_buf+ee],ee++,De===0?O(D,U,se):(f=pe[U],O(D,f+g+1,se),y=Y[f],y!==0&&(U-=we[f],Be(D,U,y)),De--,f=$e(De),O(D,f,de),y=ce[f],y!==0&&(De-=Pe[f],Be(D,De,y)));while(ee<D.last_lit);O(D,k,se)}function Ae(D,se){var de=se.dyn_tree,De=se.stat_desc.static_tree,U=se.stat_desc.has_stree,ee=se.stat_desc.elems,f,y,R=-1,l;for(D.heap_len=0,D.heap_max=_,f=0;f<ee;f++)de[f*2]!==0?(D.heap[++D.heap_len]=R=f,D.depth[f]=0):de[f*2+1]=0;for(;D.heap_len<2;)l=D.heap[++D.heap_len]=R<2?++R:0,de[l*2]=1,D.depth[l]=0,D.opt_len--,U&&(D.static_len-=De[l*2+1]);for(se.max_code=R,f=D.heap_len>>1;f>=1;f--)fe(D,de,f);l=ee;do f=D.heap[1],D.heap[1]=D.heap[D.heap_len--],fe(D,de,1),y=D.heap[1],D.heap[--D.heap_max]=f,D.heap[--D.heap_max]=y,de[l*2]=de[f*2]+de[y*2],D.depth[l]=(D.depth[f]>=D.depth[y]?D.depth[f]:D.depth[y])+1,de[f*2+1]=de[y*2+1]=l,D.heap[1]=l++,fe(D,de,1);while(D.heap_len>=2);D.heap[--D.heap_max]=D.heap[1],te(D,se),J(de,R,D.bl_count)}function Te(D,se,de){var De,U=-1,ee,f=se[0*2+1],y=0,R=7,l=4;for(f===0&&(R=138,l=3),se[(de+1)*2+1]=65535,De=0;De<=de;De++)ee=f,f=se[(De+1)*2+1],!(++y<R&&ee===f)&&(y<l?D.bl_tree[ee*2]+=y:ee!==0?(ee!==U&&D.bl_tree[ee*2]++,D.bl_tree[B*2]++):y<=10?D.bl_tree[$*2]++:D.bl_tree[H*2]++,y=0,U=ee,f===0?(R=138,l=3):ee===f?(R=6,l=3):(R=7,l=4))}function Ie(D,se,de){var De,U=-1,ee,f=se[0*2+1],y=0,R=7,l=4;for(f===0&&(R=138,l=3),De=0;De<=de;De++)if(ee=f,f=se[(De+1)*2+1],!(++y<R&&ee===f)){if(y<l)do O(D,ee,D.bl_tree);while(--y!==0);else ee!==0?(ee!==U&&(O(D,ee,D.bl_tree),y--),O(D,B,D.bl_tree),Be(D,y-3,2)):y<=10?(O(D,$,D.bl_tree),Be(D,y-3,3)):(O(D,H,D.bl_tree),Be(D,y-11,7));y=0,U=ee,f===0?(R=138,l=3):ee===f?(R=6,l=3):(R=7,l=4)}}function Oe(D){var se;for(Te(D,D.dyn_ltree,D.l_desc.max_code),Te(D,D.dyn_dtree,D.d_desc.max_code),Ae(D,D.bl_desc),se=T-1;se>=3&&D.bl_tree[me[se]*2+1]===0;se--);return D.opt_len+=3*(se+1)+5+5+4,se}function ze(D,se,de,De){var U;for(Be(D,se-257,5),Be(D,de-1,5),Be(D,De-4,4),U=0;U<De;U++)Be(D,D.bl_tree[me[U]*2+1],3);Ie(D,D.dyn_ltree,se-1),Ie(D,D.dyn_dtree,de-1)}function tt(D){var se=4093624447,de;for(de=0;de<=31;de++,se>>>=1)if(se&1&&D.dyn_ltree[de*2]!==0)return o;if(D.dyn_ltree[9*2]!==0||D.dyn_ltree[10*2]!==0||D.dyn_ltree[13*2]!==0)return u;for(de=32;de<g;de++)if(D.dyn_ltree[de*2]!==0)return u;return o}var Xe=!1;function lt(D){Xe||(K(),Xe=!0),D.l_desc=new Re(D.dyn_ltree,Ue),D.d_desc=new Re(D.dyn_dtree,Ke),D.bl_desc=new Re(D.bl_tree,We),D.bi_buf=0,D.bi_valid=0,le(D)}function at(D,se,de,De){Be(D,(d<<1)+(De?1:0),3),ae(D,se,de)}function rt(D){Be(D,b<<1,3),O(D,k,Q),G(D)}function pt(D,se,de,De){var U,ee,f=0;D.level>0?(D.strm.data_type===h&&(D.strm.data_type=tt(D)),Ae(D,D.l_desc),Ae(D,D.d_desc),f=Oe(D),U=D.opt_len+3+7>>>3,ee=D.static_len+3+7>>>3,ee<=U&&(U=ee)):U=ee=de+5,de+4<=U&&se!==-1?at(D,se,de,De):D.strategy===a||ee===U?(Be(D,(b<<1)+(De?1:0),3),ie(D,Q,ye)):(Be(D,(v<<1)+(De?1:0),3),ze(D,D.l_desc.max_code+1,D.d_desc.max_code+1,f+1),ie(D,D.dyn_ltree,D.dyn_dtree)),le(D),De&&oe(D)}function ft(D,se,de){return D.pending_buf[D.d_buf+D.last_lit*2]=se>>>8&255,D.pending_buf[D.d_buf+D.last_lit*2+1]=se&255,D.pending_buf[D.l_buf+D.last_lit]=de&255,D.last_lit++,se===0?D.dyn_ltree[de*2]++:(D.matches++,se--,D.dyn_ltree[(pe[de]+g+1)*2]++,D.dyn_dtree[$e(se)*2]++),D.last_lit===D.lit_bufsize-1}n._tr_init=lt,n._tr_stored_block=at,n._tr_flush_block=pt,n._tr_tally=ft,n._tr_align=rt},{"../utils/common":41}],53:[function(t,i,n){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=s},{}],54:[function(t,i,n){(function(s){(function(a,o){if(a.setImmediate)return;var u=1,h={},c=!1,d=a.document,b;function v(L){typeof L!="function"&&(L=new Function(""+L));for(var k=new Array(arguments.length-1),B=0;B<k.length;B++)k[B]=arguments[B+1];var $={callback:L,args:k};return h[u]=$,b(u),u++}function N(L){delete h[L]}function E(L){var k=L.callback,B=L.args;switch(B.length){case 0:k();break;case 1:k(B[0]);break;case 2:k(B[0],B[1]);break;case 3:k(B[0],B[1],B[2]);break;default:k.apply(o,B);break}}function p(L){if(c)setTimeout(p,0,L);else{var k=h[L];if(k){c=!0;try{E(k)}finally{N(L),c=!1}}}}function g(){b=function(L){process.nextTick(function(){p(L)})}}function m(){if(a.postMessage&&!a.importScripts){var L=!0,k=a.onmessage;return a.onmessage=function(){L=!1},a.postMessage("","*"),a.onmessage=k,L}}function x(){var L="setImmediate$"+Math.random()+"$",k=function(B){B.source===a&&typeof B.data=="string"&&B.data.indexOf(L)===0&&p(+B.data.slice(L.length))};a.addEventListener?a.addEventListener("message",k,!1):a.attachEvent("onmessage",k),b=function(B){a.postMessage(L+B,"*")}}function T(){var L=new MessageChannel;L.port1.onmessage=function(k){var B=k.data;p(B)},b=function(k){L.port2.postMessage(k)}}function _(){var L=d.documentElement;b=function(k){var B=d.createElement("script");B.onreadystatechange=function(){p(k),B.onreadystatechange=null,L.removeChild(B),B=null},L.appendChild(B)}}function C(){b=function(L){setTimeout(p,0,L)}}var I=Object.getPrototypeOf&&Object.getPrototypeOf(a);I=I&&I.setTimeout?I:a,{}.toString.call(a.process)==="[object process]"?g():m()?x():a.MessageChannel?T():d&&"onreadystatechange"in d.createElement("script")?_():C(),I.setImmediate=v,I.clearImmediate=N})(typeof self>"u"?typeof s>"u"?this:s:self)}).call(this,typeof Pt<"u"?Pt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(es)),es.exports}var Jc=Kc();const Qc=Wi(Jc);class ed{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new Qc}catch{throw new Error("JSZip lib not loaded")}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return dr(e,"binary").then((function(i){return this.zip.loadAsync(i,{base64:t})}).bind(this))}request(e,t){var i=new Ge,n,s=new ui(e);return t||(t=s.extension),t=="blob"?n=this.getBlob(e):n=this.getText(e),n?n.then((function(a){let o=this.handleResponse(a,t);i.resolve(o)}).bind(this)):i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise}handleResponse(e,t){var i;return t=="json"?i=JSON.parse(e):cr(t)?i=Xt(e,"text/xml"):t=="xhtml"?i=Xt(e,"application/xhtml+xml"):t=="html"||t=="htm"?i=Xt(e,"text/html"):i=e,i}getBlob(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||zi.lookup(n.name),n.async("uint8array").then(function(s){return new Blob([s],{type:t})})}getText(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return n.async("string").then(function(s){return s})}getBase64(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||zi.lookup(n.name),n.async("base64").then(function(s){return"data:"+t+";base64,"+s})}createUrl(e,t){var i=new Ge,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(o?(a=this.getBase64(e),a&&a.then((function(u){this.urlCache[e]=u,i.resolve(u)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,i.resolve(s)}).bind(this))),a||i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}}var ts={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var xo;function td(){return xo||(xo=1,function(r,e){(function(t){r.exports=t()})(function(){return function t(i,n,s){function a(h,c){if(!n[h]){if(!i[h]){var d=typeof pi=="function"&&pi;if(!c&&d)return d(h,!0);if(o)return o(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var v=n[h]={exports:{}};i[h][0].call(v.exports,function(N){var E=i[h][1][N];return a(E||N)},v,v.exports,t,i,n,s)}return n[h].exports}for(var o=typeof pi=="function"&&pi,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(t,i,n){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,h=new a(N),c=s.document.createTextNode("");h.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=N,o=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){N(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:o=function(){setTimeout(N,0)};var b,v=[];function N(){b=!0;for(var p,g,m=v.length;m;){for(g=v,v=[],p=-1;++p<m;)g[p]();m=v.length}b=!1}i.exports=E;function E(p){v.push(p)===1&&!b&&o()}}).call(this,typeof Pt<"u"?Pt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,i,n){var s=t(1);function a(){}var o={},u=["REJECTED"],h=["FULFILLED"],c=["PENDING"];i.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,_!==a&&E(this,_)}d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,C){if(typeof _!="function"&&this.state===h||typeof C!="function"&&this.state===u)return this;var I=new this.constructor(a);if(this.state!==c){var L=this.state===h?_:C;v(I,L,this.outcome)}else this.queue.push(new b(I,_,C));return I};function b(_,C,I){this.promise=_,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},b.prototype.otherCallFulfilled=function(_){v(this.promise,this.onFulfilled,_)},b.prototype.callRejected=function(_){o.reject(this.promise,_)},b.prototype.otherCallRejected=function(_){v(this.promise,this.onRejected,_)};function v(_,C,I){s(function(){var L;try{L=C(I)}catch(k){return o.reject(_,k)}L===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,L)})}o.resolve=function(_,C){var I=p(N,C);if(I.status==="error")return o.reject(_,I.value);var L=I.value;if(L)E(_,L);else{_.state=h,_.outcome=C;for(var k=-1,B=_.queue.length;++k<B;)_.queue[k].callFulfilled(C)}return _},o.reject=function(_,C){_.state=u,_.outcome=C;for(var I=-1,L=_.queue.length;++I<L;)_.queue[I].callRejected(C);return _};function N(_){var C=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof C=="function")return function(){C.apply(_,arguments)}}function E(_,C){var I=!1;function L(H){I||(I=!0,o.reject(_,H))}function k(H){I||(I=!0,o.resolve(_,H))}function B(){C(k,L)}var $=p(B);$.status==="error"&&L($.value)}function p(_,C){var I={};try{I.value=_(C),I.status="success"}catch(L){I.status="error",I.value=L}return I}d.resolve=g;function g(_){return _ instanceof this?_:o.resolve(new this(a),_)}d.reject=m;function m(_){var C=new this(a);return o.reject(C,_)}d.all=x;function x(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,L=!1;if(!I)return this.resolve([]);for(var k=new Array(I),B=0,$=-1,H=new this(a);++$<I;)Y(_[$],$);return H;function Y(ce,ue){C.resolve(ce).then(me,function(re){L||(L=!0,o.reject(H,re))});function me(re){k[ue]=re,++B===I&&!L&&(L=!0,o.resolve(H,k))}}}d.race=T;function T(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,L=!1;if(!I)return this.resolve([]);for(var k=-1,B=new this(a);++k<I;)$(_[k]);return B;function $(H){C.resolve(H).then(function(Y){L||(L=!0,o.resolve(B,Y))},function(Y){L||(L=!0,o.reject(B,Y))})}}},{1:1}],3:[function(t,i,n){(function(s){typeof s.Promise!="function"&&(s.Promise=t(2))}).call(this,typeof Pt<"u"?Pt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,i,n){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A};function a(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=o();function h(){try{if(!u||!u.open)return!1;var A=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),M=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!A||M)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(A,M){A=A||[],M=M||{};try{return new Blob(A,M)}catch(q){if(q.name!=="TypeError")throw q;for(var S=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new S,V=0;V<A.length;V+=1)W.append(A[V]);return W.getBlob(M.type)}}typeof Promise>"u"&&t(3);var d=Promise;function b(A,M){M&&A.then(function(S){M(null,S)},function(S){M(S)})}function v(A,M,S){typeof M=="function"&&A.then(M),typeof S=="function"&&A.catch(S)}function N(A){return typeof A!="string"&&(console.warn(A+" used as a key, but it is not a string."),A=String(A)),A}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",g=void 0,m={},x=Object.prototype.toString,T="readonly",_="readwrite";function C(A){for(var M=A.length,S=new ArrayBuffer(M),W=new Uint8Array(S),V=0;V<M;V++)W[V]=A.charCodeAt(V);return S}function I(A){return new d(function(M){var S=A.transaction(p,_),W=c([""]);S.objectStore(p).put(W,"key"),S.onabort=function(V){V.preventDefault(),V.stopPropagation(),M(!1)},S.oncomplete=function(){var V=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);M(q||!V||parseInt(V[1],10)>=43)}}).catch(function(){return!1})}function L(A){return typeof g=="boolean"?d.resolve(g):I(A).then(function(M){return g=M,g})}function k(A){var M=m[A.name],S={};S.promise=new d(function(W,V){S.resolve=W,S.reject=V}),M.deferredOperations.push(S),M.dbReady?M.dbReady=M.dbReady.then(function(){return S.promise}):M.dbReady=S.promise}function B(A){var M=m[A.name],S=M.deferredOperations.pop();if(S)return S.resolve(),S.promise}function $(A,M){var S=m[A.name],W=S.deferredOperations.pop();if(W)return W.reject(M),W.promise}function H(A,M){return new d(function(S,W){if(m[A.name]=m[A.name]||we(),A.db)if(M)k(A),A.db.close();else return S(A.db);var V=[A.name];M&&V.push(A.version);var q=u.open.apply(u,V);M&&(q.onupgradeneeded=function(ne){var he=q.result;try{he.createObjectStore(A.storeName),ne.oldVersion<=1&&he.createObjectStore(p)}catch(ge){if(ge.name==="ConstraintError")console.warn('The database "'+A.name+'" has been upgraded from version '+ne.oldVersion+" to version "+ne.newVersion+', but the storage "'+A.storeName+'" already exists.');else throw ge}}),q.onerror=function(ne){ne.preventDefault(),W(q.error)},q.onsuccess=function(){var ne=q.result;ne.onversionchange=function(he){he.target.close()},S(ne),B(A)}})}function Y(A){return H(A,!1)}function ce(A){return H(A,!0)}function ue(A,M){if(!A.db)return!0;var S=!A.db.objectStoreNames.contains(A.storeName),W=A.version<A.db.version,V=A.version>A.db.version;if(W&&(A.version!==M&&console.warn('The database "'+A.name+`" can't be downgraded from version `+A.db.version+" to version "+A.version+"."),A.version=A.db.version),V||S){if(S){var q=A.db.version+1;q>A.version&&(A.version=q)}return!0}return!1}function me(A){return new d(function(M,S){var W=new FileReader;W.onerror=S,W.onloadend=function(V){var q=btoa(V.target.result||"");M({__local_forage_encoded_blob:!0,data:q,type:A.type})},W.readAsBinaryString(A)})}function re(A){var M=C(atob(A.data));return c([M],{type:A.type})}function Q(A){return A&&A.__local_forage_encoded_blob}function ye(A){var M=this,S=M._initReady().then(function(){var W=m[M._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return v(S,A,A),S}function ke(A){k(A);for(var M=m[A.name],S=M.forages,W=0;W<S.length;W++){var V=S[W];V._dbInfo.db&&(V._dbInfo.db.close(),V._dbInfo.db=null)}return A.db=null,Y(A).then(function(q){return A.db=q,ue(A)?ce(A):q}).then(function(q){A.db=M.db=q;for(var ne=0;ne<S.length;ne++)S[ne]._dbInfo.db=q}).catch(function(q){throw $(A,q),q})}function pe(A,M,S,W){W===void 0&&(W=1);try{var V=A.db.transaction(A.storeName,M);S(null,V)}catch(q){if(W>0&&(!A.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return d.resolve().then(function(){if(!A.db||q.name==="NotFoundError"&&!A.db.objectStoreNames.contains(A.storeName)&&A.version<=A.db.version)return A.db&&(A.version=A.db.version+1),ce(A)}).then(function(){return ke(A).then(function(){pe(A,M,S,W-1)})}).catch(S);S(q)}}function we(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Pe(A){var M=this,S={db:null};if(A)for(var W in A)S[W]=A[W];var V=m[S.name];V||(V=we(),m[S.name]=V),V.forages.push(M),M._initReady||(M._initReady=M.ready,M.ready=ye);var q=[];function ne(){return d.resolve()}for(var he=0;he<V.forages.length;he++){var ge=V.forages[he];ge!==M&&q.push(ge._initReady().catch(ne))}var ve=V.forages.slice(0);return d.all(q).then(function(){return S.db=V.db,Y(S)}).then(function(_e){return S.db=_e,ue(S,M._defaultConfig.version)?ce(S):_e}).then(function(_e){S.db=V.db=_e,M._dbInfo=S;for(var Se=0;Se<ve.length;Se++){var je=ve[Se];je!==M&&(je._dbInfo.db=S.db,je._dbInfo.version=S.version)}})}function Ne(A,M){var S=this;A=N(A);var W=new d(function(V,q){S.ready().then(function(){pe(S._dbInfo,T,function(ne,he){if(ne)return q(ne);try{var ge=he.objectStore(S._dbInfo.storeName),ve=ge.get(A);ve.onsuccess=function(){var _e=ve.result;_e===void 0&&(_e=null),Q(_e)&&(_e=re(_e)),V(_e)},ve.onerror=function(){q(ve.error)}}catch(_e){q(_e)}})}).catch(q)});return b(W,M),W}function Ue(A,M){var S=this,W=new d(function(V,q){S.ready().then(function(){pe(S._dbInfo,T,function(ne,he){if(ne)return q(ne);try{var ge=he.objectStore(S._dbInfo.storeName),ve=ge.openCursor(),_e=1;ve.onsuccess=function(){var Se=ve.result;if(Se){var je=Se.value;Q(je)&&(je=re(je));var Je=A(je,Se.key,_e++);Je!==void 0?V(Je):Se.continue()}else V()},ve.onerror=function(){q(ve.error)}}catch(Se){q(Se)}})}).catch(q)});return b(W,M),W}function Ke(A,M,S){var W=this;A=N(A);var V=new d(function(q,ne){var he;W.ready().then(function(){return he=W._dbInfo,x.call(M)==="[object Blob]"?L(he.db).then(function(ge){return ge?M:me(M)}):M}).then(function(ge){pe(W._dbInfo,_,function(ve,_e){if(ve)return ne(ve);try{var Se=_e.objectStore(W._dbInfo.storeName);ge===null&&(ge=void 0);var je=Se.put(ge,A);_e.oncomplete=function(){ge===void 0&&(ge=null),q(ge)},_e.onabort=_e.onerror=function(){var Je=je.error?je.error:je.transaction.error;ne(Je)}}catch(Je){ne(Je)}})}).catch(ne)});return b(V,S),V}function We(A,M){var S=this;A=N(A);var W=new d(function(V,q){S.ready().then(function(){pe(S._dbInfo,_,function(ne,he){if(ne)return q(ne);try{var ge=he.objectStore(S._dbInfo.storeName),ve=ge.delete(A);he.oncomplete=function(){V()},he.onerror=function(){q(ve.error)},he.onabort=function(){var _e=ve.error?ve.error:ve.transaction.error;q(_e)}}catch(_e){q(_e)}})}).catch(q)});return b(W,M),W}function Re(A){var M=this,S=new d(function(W,V){M.ready().then(function(){pe(M._dbInfo,_,function(q,ne){if(q)return V(q);try{var he=ne.objectStore(M._dbInfo.storeName),ge=he.clear();ne.oncomplete=function(){W()},ne.onabort=ne.onerror=function(){var ve=ge.error?ge.error:ge.transaction.error;V(ve)}}catch(ve){V(ve)}})}).catch(V)});return b(S,A),S}function $e(A){var M=this,S=new d(function(W,V){M.ready().then(function(){pe(M._dbInfo,T,function(q,ne){if(q)return V(q);try{var he=ne.objectStore(M._dbInfo.storeName),ge=he.count();ge.onsuccess=function(){W(ge.result)},ge.onerror=function(){V(ge.error)}}catch(ve){V(ve)}})}).catch(V)});return b(S,A),S}function Ye(A,M){var S=this,W=new d(function(V,q){if(A<0){V(null);return}S.ready().then(function(){pe(S._dbInfo,T,function(ne,he){if(ne)return q(ne);try{var ge=he.objectStore(S._dbInfo.storeName),ve=!1,_e=ge.openKeyCursor();_e.onsuccess=function(){var Se=_e.result;if(!Se){V(null);return}A===0||ve?V(Se.key):(ve=!0,Se.advance(A))},_e.onerror=function(){q(_e.error)}}catch(Se){q(Se)}})}).catch(q)});return b(W,M),W}function Be(A){var M=this,S=new d(function(W,V){M.ready().then(function(){pe(M._dbInfo,T,function(q,ne){if(q)return V(q);try{var he=ne.objectStore(M._dbInfo.storeName),ge=he.openKeyCursor(),ve=[];ge.onsuccess=function(){var _e=ge.result;if(!_e){W(ve);return}ve.push(_e.key),_e.continue()},ge.onerror=function(){V(ge.error)}}catch(_e){V(_e)}})}).catch(V)});return b(S,A),S}function O(A,M){M=E.apply(this,arguments);var S=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||S.name,A.storeName=A.storeName||S.storeName);var W=this,V;if(!A.name)V=d.reject("Invalid arguments");else{var q=A.name===S.name&&W._dbInfo.db,ne=q?d.resolve(W._dbInfo.db):Y(A).then(function(he){var ge=m[A.name],ve=ge.forages;ge.db=he;for(var _e=0;_e<ve.length;_e++)ve[_e]._dbInfo.db=he;return he});A.storeName?V=ne.then(function(he){if(he.objectStoreNames.contains(A.storeName)){var ge=he.version+1;k(A);var ve=m[A.name],_e=ve.forages;he.close();for(var Se=0;Se<_e.length;Se++){var je=_e[Se];je._dbInfo.db=null,je._dbInfo.version=ge}var Je=new d(function(it,gt){var dt=u.open(A.name,ge);dt.onerror=function(Bt){var Vi=dt.result;Vi.close(),gt(Bt)},dt.onupgradeneeded=function(){var Bt=dt.result;Bt.deleteObjectStore(A.storeName)},dt.onsuccess=function(){var Bt=dt.result;Bt.close(),it(Bt)}});return Je.then(function(it){ve.db=it;for(var gt=0;gt<_e.length;gt++){var dt=_e[gt];dt._dbInfo.db=it,B(dt._dbInfo)}}).catch(function(it){throw($(A,it)||d.resolve()).catch(function(){}),it})}}):V=ne.then(function(he){k(A);var ge=m[A.name],ve=ge.forages;he.close();for(var _e=0;_e<ve.length;_e++){var Se=ve[_e];Se._dbInfo.db=null}var je=new d(function(Je,it){var gt=u.deleteDatabase(A.name);gt.onerror=function(){var dt=gt.result;dt&&dt.close(),it(gt.error)},gt.onblocked=function(){console.warn('dropInstance blocked for database "'+A.name+'" until all open connections are closed')},gt.onsuccess=function(){var dt=gt.result;dt&&dt.close(),Je(dt)}});return je.then(function(Je){ge.db=Je;for(var it=0;it<ve.length;it++){var gt=ve[it];B(gt._dbInfo)}}).catch(function(Je){throw($(A,Je)||d.resolve()).catch(function(){}),Je})})}return b(V,M),V}var F={_driver:"asyncStorage",_initStorage:Pe,_support:h(),iterate:Ue,getItem:Ne,setItem:Ke,removeItem:We,clear:Re,length:$e,key:Ye,keys:Be,dropInstance:O};function G(){return typeof openDatabase=="function"}var te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="~~local_forage_type~",K=/^~~local_forage_type~([^~]+)~/,le="__lfsc__:",oe=le.length,ae="arbf",X="blob",fe="si08",ie="ui08",Ae="uic8",Te="si16",Ie="si32",Oe="ur16",ze="ui32",tt="fl32",Xe="fl64",lt=oe+ae.length,at=Object.prototype.toString;function rt(A){var M=A.length*.75,S=A.length,W,V=0,q,ne,he,ge;A[A.length-1]==="="&&(M--,A[A.length-2]==="="&&M--);var ve=new ArrayBuffer(M),_e=new Uint8Array(ve);for(W=0;W<S;W+=4)q=te.indexOf(A[W]),ne=te.indexOf(A[W+1]),he=te.indexOf(A[W+2]),ge=te.indexOf(A[W+3]),_e[V++]=q<<2|ne>>4,_e[V++]=(ne&15)<<4|he>>2,_e[V++]=(he&3)<<6|ge&63;return ve}function pt(A){var M=new Uint8Array(A),S="",W;for(W=0;W<M.length;W+=3)S+=te[M[W]>>2],S+=te[(M[W]&3)<<4|M[W+1]>>4],S+=te[(M[W+1]&15)<<2|M[W+2]>>6],S+=te[M[W+2]&63];return M.length%3===2?S=S.substring(0,S.length-1)+"=":M.length%3===1&&(S=S.substring(0,S.length-2)+"=="),S}function ft(A,M){var S="";if(A&&(S=at.call(A)),A&&(S==="[object ArrayBuffer]"||A.buffer&&at.call(A.buffer)==="[object ArrayBuffer]")){var W,V=le;A instanceof ArrayBuffer?(W=A,V+=ae):(W=A.buffer,S==="[object Int8Array]"?V+=fe:S==="[object Uint8Array]"?V+=ie:S==="[object Uint8ClampedArray]"?V+=Ae:S==="[object Int16Array]"?V+=Te:S==="[object Uint16Array]"?V+=Oe:S==="[object Int32Array]"?V+=Ie:S==="[object Uint32Array]"?V+=ze:S==="[object Float32Array]"?V+=tt:S==="[object Float64Array]"?V+=Xe:M(new Error("Failed to get type for BinaryArray"))),M(V+pt(W))}else if(S==="[object Blob]"){var q=new FileReader;q.onload=function(){var ne=J+A.type+"~"+pt(this.result);M(le+X+ne)},q.readAsArrayBuffer(A)}else try{M(JSON.stringify(A))}catch(ne){console.error("Couldn't convert value into a JSON string: ",A),M(null,ne)}}function D(A){if(A.substring(0,oe)!==le)return JSON.parse(A);var M=A.substring(lt),S=A.substring(oe,lt),W;if(S===X&&K.test(M)){var V=M.match(K);W=V[1],M=M.substring(V[0].length)}var q=rt(M);switch(S){case ae:return q;case X:return c([q],{type:W});case fe:return new Int8Array(q);case ie:return new Uint8Array(q);case Ae:return new Uint8ClampedArray(q);case Te:return new Int16Array(q);case Oe:return new Uint16Array(q);case Ie:return new Int32Array(q);case ze:return new Uint32Array(q);case tt:return new Float32Array(q);case Xe:return new Float64Array(q);default:throw new Error("Unkown type: "+S)}}var se={serialize:ft,deserialize:D,stringToBuffer:rt,bufferToString:pt};function de(A,M,S,W){A.executeSql("CREATE TABLE IF NOT EXISTS "+M.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],S,W)}function De(A){var M=this,S={db:null};if(A)for(var W in A)S[W]=typeof A[W]!="string"?A[W].toString():A[W];var V=new d(function(q,ne){try{S.db=openDatabase(S.name,String(S.version),S.description,S.size)}catch(he){return ne(he)}S.db.transaction(function(he){de(he,S,function(){M._dbInfo=S,q()},function(ge,ve){ne(ve)})},ne)});return S.serializer=se,V}function U(A,M,S,W,V,q){A.executeSql(S,W,V,function(ne,he){he.code===he.SYNTAX_ERR?ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[M.storeName],function(ge,ve){ve.rows.length?q(ge,he):de(ge,M,function(){ge.executeSql(S,W,V,q)},q)},q):q(ne,he)},q)}function ee(A,M){var S=this;A=N(A);var W=new d(function(V,q){S.ready().then(function(){var ne=S._dbInfo;ne.db.transaction(function(he){U(he,ne,"SELECT * FROM "+ne.storeName+" WHERE key = ? LIMIT 1",[A],function(ge,ve){var _e=ve.rows.length?ve.rows.item(0).value:null;_e&&(_e=ne.serializer.deserialize(_e)),V(_e)},function(ge,ve){q(ve)})})}).catch(q)});return b(W,M),W}function f(A,M){var S=this,W=new d(function(V,q){S.ready().then(function(){var ne=S._dbInfo;ne.db.transaction(function(he){U(he,ne,"SELECT * FROM "+ne.storeName,[],function(ge,ve){for(var _e=ve.rows,Se=_e.length,je=0;je<Se;je++){var Je=_e.item(je),it=Je.value;if(it&&(it=ne.serializer.deserialize(it)),it=A(it,Je.key,je+1),it!==void 0){V(it);return}}V()},function(ge,ve){q(ve)})})}).catch(q)});return b(W,M),W}function y(A,M,S,W){var V=this;A=N(A);var q=new d(function(ne,he){V.ready().then(function(){M===void 0&&(M=null);var ge=M,ve=V._dbInfo;ve.serializer.serialize(M,function(_e,Se){Se?he(Se):ve.db.transaction(function(je){U(je,ve,"INSERT OR REPLACE INTO "+ve.storeName+" (key, value) VALUES (?, ?)",[A,_e],function(){ne(ge)},function(Je,it){he(it)})},function(je){if(je.code===je.QUOTA_ERR){if(W>0){ne(y.apply(V,[A,ge,S,W-1]));return}he(je)}})})}).catch(he)});return b(q,S),q}function R(A,M,S){return y.apply(this,[A,M,S,1])}function l(A,M){var S=this;A=N(A);var W=new d(function(V,q){S.ready().then(function(){var ne=S._dbInfo;ne.db.transaction(function(he){U(he,ne,"DELETE FROM "+ne.storeName+" WHERE key = ?",[A],function(){V()},function(ge,ve){q(ve)})})}).catch(q)});return b(W,M),W}function P(A){var M=this,S=new d(function(W,V){M.ready().then(function(){var q=M._dbInfo;q.db.transaction(function(ne){U(ne,q,"DELETE FROM "+q.storeName,[],function(){W()},function(he,ge){V(ge)})})}).catch(V)});return b(S,A),S}function j(A){var M=this,S=new d(function(W,V){M.ready().then(function(){var q=M._dbInfo;q.db.transaction(function(ne){U(ne,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(he,ge){var ve=ge.rows.item(0).c;W(ve)},function(he,ge){V(ge)})})}).catch(V)});return b(S,A),S}function w(A,M){var S=this,W=new d(function(V,q){S.ready().then(function(){var ne=S._dbInfo;ne.db.transaction(function(he){U(he,ne,"SELECT key FROM "+ne.storeName+" WHERE id = ? LIMIT 1",[A+1],function(ge,ve){var _e=ve.rows.length?ve.rows.item(0).key:null;V(_e)},function(ge,ve){q(ve)})})}).catch(q)});return b(W,M),W}function z(A){var M=this,S=new d(function(W,V){M.ready().then(function(){var q=M._dbInfo;q.db.transaction(function(ne){U(ne,q,"SELECT key FROM "+q.storeName,[],function(he,ge){for(var ve=[],_e=0;_e<ge.rows.length;_e++)ve.push(ge.rows.item(_e).key);W(ve)},function(he,ge){V(ge)})})}).catch(V)});return b(S,A),S}function Z(A){return new d(function(M,S){A.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(V,q){for(var ne=[],he=0;he<q.rows.length;he++)ne.push(q.rows.item(he).name);M({db:A,storeNames:ne})},function(V,q){S(q)})},function(W){S(W)})})}function Ce(A,M){M=E.apply(this,arguments);var S=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||S.name,A.storeName=A.storeName||S.storeName);var W=this,V;return A.name?V=new d(function(q){var ne;A.name===S.name?ne=W._dbInfo.db:ne=openDatabase(A.name,"","",0),A.storeName?q({db:ne,storeNames:[A.storeName]}):q(Z(ne))}).then(function(q){return new d(function(ne,he){q.db.transaction(function(ge){function ve(Je){return new d(function(it,gt){ge.executeSql("DROP TABLE IF EXISTS "+Je,[],function(){it()},function(dt,Bt){gt(Bt)})})}for(var _e=[],Se=0,je=q.storeNames.length;Se<je;Se++)_e.push(ve(q.storeNames[Se]));d.all(_e).then(function(){ne()}).catch(function(Je){he(Je)})},function(ge){he(ge)})})}):V=d.reject("Invalid arguments"),b(V,M),V}var be={_driver:"webSQLStorage",_initStorage:De,_support:G(),iterate:f,getItem:ee,setItem:R,removeItem:l,clear:P,length:j,key:w,keys:z,dropInstance:Ce};function Ee(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Le(A,M){var S=A.name+"/";return A.storeName!==M.storeName&&(S+=A.storeName+"/"),S}function mt(){var A="_localforage_support_test";try{return localStorage.setItem(A,!0),localStorage.removeItem(A),!1}catch{return!0}}function He(){return!mt()||localStorage.length>0}function Fe(A){var M=this,S={};if(A)for(var W in A)S[W]=A[W];return S.keyPrefix=Le(A,M._defaultConfig),He()?(M._dbInfo=S,S.serializer=se,d.resolve()):d.reject()}function nt(A){var M=this,S=M.ready().then(function(){for(var W=M._dbInfo.keyPrefix,V=localStorage.length-1;V>=0;V--){var q=localStorage.key(V);q.indexOf(W)===0&&localStorage.removeItem(q)}});return b(S,A),S}function Ve(A,M){var S=this;A=N(A);var W=S.ready().then(function(){var V=S._dbInfo,q=localStorage.getItem(V.keyPrefix+A);return q&&(q=V.serializer.deserialize(q)),q});return b(W,M),W}function yt(A,M){var S=this,W=S.ready().then(function(){for(var V=S._dbInfo,q=V.keyPrefix,ne=q.length,he=localStorage.length,ge=1,ve=0;ve<he;ve++){var _e=localStorage.key(ve);if(_e.indexOf(q)===0){var Se=localStorage.getItem(_e);if(Se&&(Se=V.serializer.deserialize(Se)),Se=A(Se,_e.substring(ne),ge++),Se!==void 0)return Se}}});return b(W,M),W}function kt(A,M){var S=this,W=S.ready().then(function(){var V=S._dbInfo,q;try{q=localStorage.key(A)}catch{q=null}return q&&(q=q.substring(V.keyPrefix.length)),q});return b(W,M),W}function Qt(A){var M=this,S=M.ready().then(function(){for(var W=M._dbInfo,V=localStorage.length,q=[],ne=0;ne<V;ne++){var he=localStorage.key(ne);he.indexOf(W.keyPrefix)===0&&q.push(he.substring(W.keyPrefix.length))}return q});return b(S,A),S}function ht(A){var M=this,S=M.keys().then(function(W){return W.length});return b(S,A),S}function Rt(A,M){var S=this;A=N(A);var W=S.ready().then(function(){var V=S._dbInfo;localStorage.removeItem(V.keyPrefix+A)});return b(W,M),W}function bt(A,M,S){var W=this;A=N(A);var V=W.ready().then(function(){M===void 0&&(M=null);var q=M;return new d(function(ne,he){var ge=W._dbInfo;ge.serializer.serialize(M,function(ve,_e){if(_e)he(_e);else try{localStorage.setItem(ge.keyPrefix+A,ve),ne(q)}catch(Se){(Se.name==="QuotaExceededError"||Se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&he(Se),he(Se)}})})});return b(V,S),V}function zt(A,M){if(M=E.apply(this,arguments),A=typeof A!="function"&&A||{},!A.name){var S=this.config();A.name=A.name||S.name,A.storeName=A.storeName||S.storeName}var W=this,V;return A.name?V=new d(function(q){A.storeName?q(Le(A,W._defaultConfig)):q(A.name+"/")}).then(function(q){for(var ne=localStorage.length-1;ne>=0;ne--){var he=localStorage.key(ne);he.indexOf(q)===0&&localStorage.removeItem(he)}}):V=d.reject("Invalid arguments"),b(V,M),V}var Lt={_driver:"localStorageWrapper",_initStorage:Fe,_support:Ee(),iterate:yt,getItem:Ve,setItem:bt,removeItem:Rt,clear:nt,length:ht,key:kt,keys:Qt,dropInstance:zt},vr=function(M,S){return M===S||typeof M=="number"&&typeof S=="number"&&isNaN(M)&&isNaN(S)},Xu=function(M,S){for(var W=M.length,V=0;V<W;){if(vr(M[V],S))return!0;V++}return!1},Xs=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"},Hi={},Ks={},Di={INDEXEDDB:F,WEBSQL:be,LOCALSTORAGE:Lt},Ku=[Di.INDEXEDDB._driver,Di.WEBSQL._driver,Di.LOCALSTORAGE._driver],mr=["dropInstance"],Qr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(mr),Ju={description:"",driver:Ku.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Qu(A,M){A[M]=function(){var S=arguments;return A.ready().then(function(){return A[M].apply(A,S)})}}function en(){for(var A=1;A<arguments.length;A++){var M=arguments[A];if(M)for(var S in M)M.hasOwnProperty(S)&&(Xs(M[S])?arguments[0][S]=M[S].slice():arguments[0][S]=M[S])}return arguments[0]}var el=function(){function A(M){a(this,A);for(var S in Di)if(Di.hasOwnProperty(S)){var W=Di[S],V=W._driver;this[S]=V,Hi[V]||this.defineDriver(W)}this._defaultConfig=en({},Ju),this._config=en({},this._defaultConfig,M),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return A.prototype.config=function(S){if((typeof S>"u"?"undefined":s(S))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in S){if(W==="storeName"&&(S[W]=S[W].replace(/\W/g,"_")),W==="version"&&typeof S[W]!="number")return new Error("Database version must be a number.");this._config[W]=S[W]}return"driver"in S&&S.driver?this.setDriver(this._config.driver):!0}else return typeof S=="string"?this._config[S]:this._config},A.prototype.defineDriver=function(S,W,V){var q=new d(function(ne,he){try{var ge=S._driver,ve=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!S._driver){he(ve);return}for(var _e=Qr.concat("_initStorage"),Se=0,je=_e.length;Se<je;Se++){var Je=_e[Se],it=!Xu(mr,Je);if((it||S[Je])&&typeof S[Je]!="function"){he(ve);return}}var gt=function(){for(var Vi=function(rl){return function(){var nl=new Error("Method "+rl+" is not implemented by the current driver"),Js=d.reject(nl);return b(Js,arguments[arguments.length-1]),Js}},tn=0,il=mr.length;tn<il;tn++){var rn=mr[tn];S[rn]||(S[rn]=Vi(rn))}};gt();var dt=function(Vi){Hi[ge]&&console.info("Redefining LocalForage driver: "+ge),Hi[ge]=S,Ks[ge]=Vi,ne()};"_support"in S?S._support&&typeof S._support=="function"?S._support().then(dt,he):dt(!!S._support):dt(!0)}catch(Bt){he(Bt)}});return v(q,W,V),q},A.prototype.driver=function(){return this._driver||null},A.prototype.getDriver=function(S,W,V){var q=Hi[S]?d.resolve(Hi[S]):d.reject(new Error("Driver not found."));return v(q,W,V),q},A.prototype.getSerializer=function(S){var W=d.resolve(se);return v(W,S),W},A.prototype.ready=function(S){var W=this,V=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return v(V,S,S),V},A.prototype.setDriver=function(S,W,V){var q=this;Xs(S)||(S=[S]);var ne=this._getSupportedDrivers(S);function he(){q._config.driver=q.driver()}function ge(Se){return q._extend(Se),he(),q._ready=q._initStorage(q._config),q._ready}function ve(Se){return function(){var je=0;function Je(){for(;je<Se.length;){var it=Se[je];return je++,q._dbInfo=null,q._ready=null,q.getDriver(it).then(ge).catch(Je)}he();var gt=new Error("No available storage method found.");return q._driverSet=d.reject(gt),q._driverSet}return Je()}}var _e=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=_e.then(function(){var Se=ne[0];return q._dbInfo=null,q._ready=null,q.getDriver(Se).then(function(je){q._driver=je._driver,he(),q._wrapLibraryMethodsWithReady(),q._initDriver=ve(ne)})}).catch(function(){he();var Se=new Error("No available storage method found.");return q._driverSet=d.reject(Se),q._driverSet}),v(this._driverSet,W,V),this._driverSet},A.prototype.supports=function(S){return!!Ks[S]},A.prototype._extend=function(S){en(this,S)},A.prototype._getSupportedDrivers=function(S){for(var W=[],V=0,q=S.length;V<q;V++){var ne=S[V];this.supports(ne)&&W.push(ne)}return W},A.prototype._wrapLibraryMethodsWithReady=function(){for(var S=0,W=Qr.length;S<W;S++)Qu(this,Qr[S])},A.prototype.createInstance=function(S){return new A(S)},A}(),tl=new el;i.exports=tl},{3:3}]},{},[4])(4)})}(ts)),ts.exports}var id=td();const Ao=Wi(id);class Yu{constructor(e,t,i){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||dr,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof Ao>"u"&&(e=Ao),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}add(e,t){let i=e.resources.map(n=>{let{href:s}=n,a=this.resolver(s),o=window.encodeURIComponent(a);return this.storage.getItem(o).then(u=>!u||t?this.requester(a,"binary").then(h=>this.storage.setItem(o,h)):u)});return Promise.all(i)}put(e,t,i){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then(s=>s||this.requester(e,"binary",t,i).then(a=>this.storage.setItem(n,a)))}request(e,t,i,n){return this.online?this.requester(e,t,i,n).then(s=>(this.put(e),s)):this.retrieve(e,t)}retrieve(e,t){new Ge;var i,n=new ui(e);return t||(t=n.extension),t=="blob"?i=this.getBlob(e):i=this.getText(e),i.then(s=>{var a=new Ge,o;return s?(o=this.handleResponse(s,t),a.resolve(o)):a.reject({message:"File not found in storage: "+e,stack:new Error().stack}),a.promise})}handleResponse(e,t){var i;return t=="json"?i=JSON.parse(e):cr(t)?i=Xt(e,"text/xml"):t=="xhtml"?i=Xt(e,"application/xhtml+xml"):t=="html"||t=="htm"?i=Xt(e,"text/html"):i=e,i}getBlob(e,t){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(function(n){if(n)return t=t||zi.lookup(e),new Blob([n],{type:t})})}getText(e,t){let i=window.encodeURIComponent(e);return t=t||zi.lookup(e),this.storage.getItem(i).then(function(n){var s=new Ge,a=new FileReader,o;if(n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsText(o,t),s.promise})}getBase64(e,t){let i=window.encodeURIComponent(e);return t=t||zi.lookup(e),this.storage.getItem(i).then(n=>{var s=new Ge,a=new FileReader,o;if(n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsDataURL(o,t),s.promise})}createUrl(e,t){var i=new Ge,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(o?(a=this.getBase64(e),a&&a.then((function(u){this.urlCache[e]=u,i.resolve(u)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,i.resolve(s)}).bind(this))),a||i.reject({message:"File not found in storage: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}Jt(Yu.prototype);class is{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const t=st(e,"display_options");return t?(oi(t,"option").forEach(n=>{let s="";switch(n.childNodes.length&&(s=n.childNodes[0].nodeValue),n.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const Do="META-INF/container.xml",rd="META-INF/com.apple.ibooks.display-options.xml",Ut={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class Ys{constructor(e,t){typeof t>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(t=e,e=void 0),this.settings=wt(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),wt(this.settings,t),this.opening=new Ge,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Ge,spine:new Ge,metadata:new Ge,cover:new Ge,navigation:new Ge,pageList:new Ge,resources:new Ge,displayOptions:new Ge},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||dr,this.spine=new mc,this.locations=new qu(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(i=>{var n=new Error("Cannot load book at "+e);this.emit(xe.BOOK.OPEN_FAILED,n)})}open(e,t){var i,n=t||this.determineType(e);return n===Ut.BINARY?(this.archived=!0,this.url=new qt("/",""),i=this.openEpub(e)):n===Ut.BASE64?(this.archived=!0,this.url=new qt("/",""),i=this.openEpub(e,n)):n===Ut.EPUB?(this.archived=!0,this.url=new qt("/",""),i=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):n==Ut.OPF?(this.url=new qt(e),i=this.openPackaging(this.url.Path.toString())):n==Ut.MANIFEST?(this.url=new qt(e),i=this.openManifest(this.url.Path.toString())):(this.url=new qt(e),i=this.openContainer(Do).then(this.openPackaging.bind(this))),i}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then(()=>this.openContainer(Do)).then(i=>this.openPackaging(i))}openContainer(e){return this.load(e).then(t=>(this.container=new yc(t),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new ui(e),this.load(e).then(t=>(this.packaging=new to(t),this.unpack(this.packaging)))}openManifest(e){return this.path=new ui(e),this.load(e).then(t=>(this.packaging=new to,this.packaging.load(t),this.unpack(this.packaging)))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(e){var i=e,n=e.indexOf("://")>-1;return n?e:(this.path&&(i=this.path.resolve(e)),t!=!1&&this.url&&(i=this.url.resolve(i)),i)}}canonical(e){var t=e;return e?(this.settings.canonical?t=this.settings.canonical(e):t=this.resolve(e,!0),t):""}determineType(e){var t,i,n;if(this.settings.encoding==="base64")return Ut.BASE64;if(typeof e!="string")return Ut.BINARY;if(t=new qt(e),i=t.path(),n=i.extension,n&&(n=n.replace(/\?.*$/,"")),!n)return Ut.DIRECTORY;if(n==="epub")return Ut.EPUB;if(n==="opf")return Ut.OPF;if(n==="json")return Ut.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(rd)).then(t=>{this.displayOptions=new is(t),this.loading.displayOptions.resolve(this.displayOptions)}).catch(t=>{this.displayOptions=new is,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new is,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new Ec(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(t=>{console.error(t)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let t=e.navPath||e.ncxPath,i=e.toc;return i?new Promise((n,s)=>{this.navigation=new Pn(i),e.pageList&&(this.pageList=new zn(e.pageList)),n(this.navigation)}):t?this.load(t,"xml").then(n=>(this.navigation=new Pn(n),this.pageList=new zn(n),this.navigation)):new Promise((n,s)=>{this.navigation=new Pn,this.pageList=new zn,n(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new $s(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new ed,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&this.settings.replacements!=="none",i=this.url,n=this.settings.requestMethod||dr.bind(this);return this.storage=new Yu(e,n,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(a,o)=>{o.output=this.resources.substitute(a,o.url)};this.resources.settings.replacements=t||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new qt("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=i,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,t)=>{t.output=this.resources.substitute(e,t.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var t=new Ze(e),i=this.spine.get(t.spinePos),n=this.load.bind(this);return i?i.load(n).then(function(s){var a=t.toRange(i.document);return a}):new Promise((s,a)=>{a("CFI could not be found")})}key(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Jr}:${t}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}Jt(Ys.prototype);function Ai(r,e){return new Ys(r,e)}Ai.VERSION=Jr;typeof global<"u"&&(global.EPUBJS_VERSION=Jr);Ai.Book=Ys;Ai.Rendition=$s;Ai.Contents=Gs;Ai.CFI=Ze;Ai.utils=lc;const nd=(r,e)=>{const t=r.__vccOpts||r;for(const[i,n]of e)t[i]=n;return t},sd={__name:"ContentViewer",setup(r){const e=jl(null);return Qo(()=>{Ai("/epubs/.epub").renderTo(e.value,{width:"100%",height:"100%",flow:"scrolled-doc",allowScriptedContent:!0}).display()}),(t,i)=>(yu(),bu("div",{ref_key:"viewer",ref:e,class:"viewer"},null,512))}},ad=nd(sd,[["__scopeId","data-v-c44a882d"]]),od={class:"root"},ud={__name:"App",setup(r){return(e,t)=>(yu(),bu("div",od,[vi(ad)]))}};Nh(ud).mount("#app");
